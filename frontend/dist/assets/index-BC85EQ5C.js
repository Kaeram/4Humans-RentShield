function HC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Og(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kp={exports:{}},vc={},Zp={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function qC(){if(I_)return qe;I_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,T={};function C(B,Q,_e){this.props=B,this.context=Q,this.refs=T,this.updater=_e||P}C.prototype.isReactComponent={},C.prototype.setState=function(B,Q){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Q,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function A(){}A.prototype=C.prototype;function j(B,Q,_e){this.props=B,this.context=Q,this.refs=T,this.updater=_e||P}var O=j.prototype=new A;O.constructor=j,k(O,C.prototype),O.isPureReactComponent=!0;var D=Array.isArray,z=Object.prototype.hasOwnProperty,W={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function X(B,Q,_e){var me,he={},ve=null,ge=null;if(Q!=null)for(me in Q.ref!==void 0&&(ge=Q.ref),Q.key!==void 0&&(ve=""+Q.key),Q)z.call(Q,me)&&!H.hasOwnProperty(me)&&(he[me]=Q[me]);var Ee=arguments.length-2;if(Ee===1)he.children=_e;else if(1<Ee){for(var ze=Array(Ee),Ue=0;Ue<Ee;Ue++)ze[Ue]=arguments[Ue+2];he.children=ze}if(B&&B.defaultProps)for(me in Ee=B.defaultProps,Ee)he[me]===void 0&&(he[me]=Ee[me]);return{$$typeof:t,type:B,key:ve,ref:ge,props:he,_owner:W.current}}function ue(B,Q){return{$$typeof:t,type:B.type,key:Q,ref:B.ref,props:B.props,_owner:B._owner}}function ye(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function pe(B){var Q={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(_e){return Q[_e]})}var le=/\/+/g;function be(B,Q){return typeof B=="object"&&B!==null&&B.key!=null?pe(""+B.key):Q.toString(36)}function G(B,Q,_e,me,he){var ve=typeof B;(ve==="undefined"||ve==="boolean")&&(B=null);var ge=!1;if(B===null)ge=!0;else switch(ve){case"string":case"number":ge=!0;break;case"object":switch(B.$$typeof){case t:case e:ge=!0}}if(ge)return ge=B,he=he(ge),B=me===""?"."+be(ge,0):me,D(he)?(_e="",B!=null&&(_e=B.replace(le,"$&/")+"/"),G(he,Q,_e,"",function(Ue){return Ue})):he!=null&&(ye(he)&&(he=ue(he,_e+(!he.key||ge&&ge.key===he.key?"":(""+he.key).replace(le,"$&/")+"/")+B)),Q.push(he)),1;if(ge=0,me=me===""?".":me+":",D(B))for(var Ee=0;Ee<B.length;Ee++){ve=B[Ee];var ze=me+be(ve,Ee);ge+=G(ve,Q,_e,ze,he)}else if(ze=b(B),typeof ze=="function")for(B=ze.call(B),Ee=0;!(ve=B.next()).done;)ve=ve.value,ze=me+be(ve,Ee++),ge+=G(ve,Q,_e,ze,he);else if(ve==="object")throw Q=String(B),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return ge}function se(B,Q,_e){if(B==null)return B;var me=[],he=0;return G(B,me,"","",function(ve){return Q.call(_e,ve,he++)}),me}function ne(B){if(B._status===-1){var Q=B._result;Q=Q(),Q.then(function(_e){(B._status===0||B._status===-1)&&(B._status=1,B._result=_e)},function(_e){(B._status===0||B._status===-1)&&(B._status=2,B._result=_e)}),B._status===-1&&(B._status=0,B._result=Q)}if(B._status===1)return B._result.default;throw B._result}var oe={current:null},V={transition:null},ce={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:V,ReactCurrentOwner:W};function te(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:se,forEach:function(B,Q,_e){se(B,function(){Q.apply(this,arguments)},_e)},count:function(B){var Q=0;return se(B,function(){Q++}),Q},toArray:function(B){return se(B,function(Q){return Q})||[]},only:function(B){if(!ye(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},qe.Component=C,qe.Fragment=n,qe.Profiler=o,qe.PureComponent=j,qe.StrictMode=r,qe.Suspense=f,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,qe.act=te,qe.cloneElement=function(B,Q,_e){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var me=k({},B.props),he=B.key,ve=B.ref,ge=B._owner;if(Q!=null){if(Q.ref!==void 0&&(ve=Q.ref,ge=W.current),Q.key!==void 0&&(he=""+Q.key),B.type&&B.type.defaultProps)var Ee=B.type.defaultProps;for(ze in Q)z.call(Q,ze)&&!H.hasOwnProperty(ze)&&(me[ze]=Q[ze]===void 0&&Ee!==void 0?Ee[ze]:Q[ze])}var ze=arguments.length-2;if(ze===1)me.children=_e;else if(1<ze){Ee=Array(ze);for(var Ue=0;Ue<ze;Ue++)Ee[Ue]=arguments[Ue+2];me.children=Ee}return{$$typeof:t,type:B.type,key:he,ref:ve,props:me,_owner:ge}},qe.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:l,_context:B},B.Consumer=B},qe.createElement=X,qe.createFactory=function(B){var Q=X.bind(null,B);return Q.type=B,Q},qe.createRef=function(){return{current:null}},qe.forwardRef=function(B){return{$$typeof:d,render:B}},qe.isValidElement=ye,qe.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:ne}},qe.memo=function(B,Q){return{$$typeof:p,type:B,compare:Q===void 0?null:Q}},qe.startTransition=function(B){var Q=V.transition;V.transition={};try{B()}finally{V.transition=Q}},qe.unstable_act=te,qe.useCallback=function(B,Q){return oe.current.useCallback(B,Q)},qe.useContext=function(B){return oe.current.useContext(B)},qe.useDebugValue=function(){},qe.useDeferredValue=function(B){return oe.current.useDeferredValue(B)},qe.useEffect=function(B,Q){return oe.current.useEffect(B,Q)},qe.useId=function(){return oe.current.useId()},qe.useImperativeHandle=function(B,Q,_e){return oe.current.useImperativeHandle(B,Q,_e)},qe.useInsertionEffect=function(B,Q){return oe.current.useInsertionEffect(B,Q)},qe.useLayoutEffect=function(B,Q){return oe.current.useLayoutEffect(B,Q)},qe.useMemo=function(B,Q){return oe.current.useMemo(B,Q)},qe.useReducer=function(B,Q,_e){return oe.current.useReducer(B,Q,_e)},qe.useRef=function(B){return oe.current.useRef(B)},qe.useState=function(B){return oe.current.useState(B)},qe.useSyncExternalStore=function(B,Q,_e){return oe.current.useSyncExternalStore(B,Q,_e)},qe.useTransition=function(){return oe.current.useTransition()},qe.version="18.3.1",qe}var D_;function jg(){return D_||(D_=1,Zp.exports=qC()),Zp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function KC(){if(M_)return vc;M_=1;var t=jg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,p){var y,_={},b=null,P=null;p!==void 0&&(b=""+p),f.key!==void 0&&(b=""+f.key),f.ref!==void 0&&(P=f.ref);for(y in f)r.call(f,y)&&!l.hasOwnProperty(y)&&(_[y]=f[y]);if(d&&d.defaultProps)for(y in f=d.defaultProps,f)_[y]===void 0&&(_[y]=f[y]);return{$$typeof:e,type:d,key:b,ref:P,props:_,_owner:o.current}}return vc.Fragment=n,vc.jsx=c,vc.jsxs=c,vc}var B_;function ZC(){return B_||(B_=1,Kp.exports=KC()),Kp.exports}var v=ZC(),S=jg();const Sn=Og(S),Lh=HC({__proto__:null,default:Sn},[S]);var Bd={},Gp={exports:{}},bn={},Jp={exports:{}},Yp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function GC(){return F_||(F_=1,(function(t){function e(V,ce){var te=V.length;V.push(ce);e:for(;0<te;){var B=te-1>>>1,Q=V[B];if(0<o(Q,ce))V[B]=ce,V[te]=Q,te=B;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var ce=V[0],te=V.pop();if(te!==ce){V[0]=te;e:for(var B=0,Q=V.length,_e=Q>>>1;B<_e;){var me=2*(B+1)-1,he=V[me],ve=me+1,ge=V[ve];if(0>o(he,te))ve<Q&&0>o(ge,he)?(V[B]=ge,V[ve]=te,B=ve):(V[B]=he,V[me]=te,B=me);else if(ve<Q&&0>o(ge,te))V[B]=ge,V[ve]=te,B=ve;else break e}}return ce}function o(V,ce){var te=V.sortIndex-ce.sortIndex;return te!==0?te:V.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],p=[],y=1,_=null,b=3,P=!1,k=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(V){for(var ce=n(p);ce!==null;){if(ce.callback===null)r(p);else if(ce.startTime<=V)r(p),ce.sortIndex=ce.expirationTime,e(f,ce);else break;ce=n(p)}}function D(V){if(T=!1,O(V),!k)if(n(f)!==null)k=!0,ne(z);else{var ce=n(p);ce!==null&&oe(D,ce.startTime-V)}}function z(V,ce){k=!1,T&&(T=!1,A(X),X=-1),P=!0;var te=b;try{for(O(ce),_=n(f);_!==null&&(!(_.expirationTime>ce)||V&&!pe());){var B=_.callback;if(typeof B=="function"){_.callback=null,b=_.priorityLevel;var Q=B(_.expirationTime<=ce);ce=t.unstable_now(),typeof Q=="function"?_.callback=Q:_===n(f)&&r(f),O(ce)}else r(f);_=n(f)}if(_!==null)var _e=!0;else{var me=n(p);me!==null&&oe(D,me.startTime-ce),_e=!1}return _e}finally{_=null,b=te,P=!1}}var W=!1,H=null,X=-1,ue=5,ye=-1;function pe(){return!(t.unstable_now()-ye<ue)}function le(){if(H!==null){var V=t.unstable_now();ye=V;var ce=!0;try{ce=H(!0,V)}finally{ce?be():(W=!1,H=null)}}else W=!1}var be;if(typeof j=="function")be=function(){j(le)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,se=G.port2;G.port1.onmessage=le,be=function(){se.postMessage(null)}}else be=function(){C(le,0)};function ne(V){H=V,W||(W=!0,be())}function oe(V,ce){X=C(function(){V(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){k||P||(k=!0,ne(z))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(V){switch(b){case 1:case 2:case 3:var ce=3;break;default:ce=b}var te=b;b=ce;try{return V()}finally{b=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,ce){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var te=b;b=V;try{return ce()}finally{b=te}},t.unstable_scheduleCallback=function(V,ce,te){var B=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?B+te:B):te=B,V){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=te+Q,V={id:y++,callback:ce,priorityLevel:V,startTime:te,expirationTime:Q,sortIndex:-1},te>B?(V.sortIndex=te,e(p,V),n(f)===null&&V===n(p)&&(T?(A(X),X=-1):T=!0,oe(D,te-B))):(V.sortIndex=Q,e(f,V),k||P||(k=!0,ne(z))),V},t.unstable_shouldYield=pe,t.unstable_wrapCallback=function(V){var ce=b;return function(){var te=b;b=ce;try{return V.apply(this,arguments)}finally{b=te}}}})(Yp)),Yp}var z_;function JC(){return z_||(z_=1,Jp.exports=GC()),Jp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function YC(){if(U_)return bn;U_=1;var t=jg(),e=JC();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(i,a){c(i,a),c(i+"Capture",a)}function c(i,a){for(o[i]=a,i=0;i<a.length;i++)r.add(a[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function b(i){return f.call(_,i)?!0:f.call(y,i)?!1:p.test(i)?_[i]=!0:(y[i]=!0,!1)}function P(i,a,h,g){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,a,h,g){if(a===null||typeof a>"u"||P(i,a,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function T(i,a,h,g,x,E,N){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=h,this.propertyName=i,this.type=a,this.sanitizeURL=E,this.removeEmptyString=N}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new T(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];C[a]=new T(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new T(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new T(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new T(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new T(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new T(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new T(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new T(i,5,!1,i.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(A,j);C[a]=new T(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(A,j);C[a]=new T(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(A,j);C[a]=new T(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new T(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new T(i,1,!1,i.toLowerCase(),null,!0,!0)});function O(i,a,h,g){var x=C.hasOwnProperty(a)?C[a]:null;(x!==null?x.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,h,x,g)&&(h=null),g||x===null?b(a)&&(h===null?i.removeAttribute(a):i.setAttribute(a,""+h)):x.mustUseProperty?i[x.propertyName]=h===null?x.type===3?!1:"":h:(a=x.attributeName,g=x.attributeNamespace,h===null?i.removeAttribute(a):(x=x.type,h=x===3||x===4&&h===!0?"":""+h,g?i.setAttributeNS(g,a,h):i.setAttribute(a,h))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),W=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),pe=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),V=Symbol.iterator;function ce(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var te=Object.assign,B;function Q(i){if(B===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);B=a&&a[1]||""}return`
`+B+i}var _e=!1;function me(i,a){if(!i||_e)return"";_e=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Y){var g=Y}Reflect.construct(i,[],a)}else{try{a.call()}catch(Y){g=Y}i.call(a.prototype)}else{try{throw Error()}catch(Y){g=Y}i()}}catch(Y){if(Y&&g&&typeof Y.stack=="string"){for(var x=Y.stack.split(`
`),E=g.stack.split(`
`),N=x.length-1,M=E.length-1;1<=N&&0<=M&&x[N]!==E[M];)M--;for(;1<=N&&0<=M;N--,M--)if(x[N]!==E[M]){if(N!==1||M!==1)do if(N--,M--,0>M||x[N]!==E[M]){var U=`
`+x[N].replace(" at new "," at ");return i.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",i.displayName)),U}while(1<=N&&0<=M);break}}}finally{_e=!1,Error.prepareStackTrace=h}return(i=i?i.displayName||i.name:"")?Q(i):""}function he(i){switch(i.tag){case 5:return Q(i.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return i=me(i.type,!1),i;case 11:return i=me(i.type.render,!1),i;case 1:return i=me(i.type,!0),i;default:return""}}function ve(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case H:return"Fragment";case W:return"Portal";case ue:return"Profiler";case X:return"StrictMode";case be:return"Suspense";case G:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case pe:return(i.displayName||"Context")+".Consumer";case ye:return(i._context.displayName||"Context")+".Provider";case le:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case se:return a=i.displayName||null,a!==null?a:ve(i.type)||"Memo";case ne:a=i._payload,i=i._init;try{return ve(i(a))}catch{}}return null}function ge(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(a);case 8:return a===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ee(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ze(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ue(i){var a=ze(i)?"checked":"value",h=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),g=""+i[a];if(!i.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,E=h.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return x.call(this)},set:function(N){g=""+N,E.call(this,N)}}),Object.defineProperty(i,a,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(N){g=""+N},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Je(i){i._valueTracker||(i._valueTracker=Ue(i))}function Ye(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var h=a.getValue(),g="";return i&&(g=ze(i)?i.checked?"true":"false":i.value),i=g,i!==h?(a.setValue(i),!0):!1}function St(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Gt(i,a){var h=a.checked;return te({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??i._wrapperState.initialChecked})}function cr(i,a){var h=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;h=Ee(a.value!=null?a.value:h),i._wrapperState={initialChecked:g,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ur(i,a){a=a.checked,a!=null&&O(i,"checked",a,!1)}function Cn(i,a){ur(i,a);var h=Ee(a.value),g=a.type;if(h!=null)g==="number"?(h===0&&i.value===""||i.value!=h)&&(i.value=""+h):i.value!==""+h&&(i.value=""+h);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?jr(i,a.type,h):a.hasOwnProperty("defaultValue")&&jr(i,a.type,Ee(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function ni(i,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,h||a===i.value||(i.value=a),i.defaultValue=a}h=i.name,h!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,h!==""&&(i.name=h)}function jr(i,a,h){(a!=="number"||St(i.ownerDocument)!==i)&&(h==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+h&&(i.defaultValue=""+h))}var Mi=Array.isArray;function Lr(i,a,h,g){if(i=i.options,a){a={};for(var x=0;x<h.length;x++)a["$"+h[x]]=!0;for(h=0;h<i.length;h++)x=a.hasOwnProperty("$"+i[h].value),i[h].selected!==x&&(i[h].selected=x),x&&g&&(i[h].defaultSelected=!0)}else{for(h=""+Ee(h),a=null,x=0;x<i.length;x++){if(i[x].value===h){i[x].selected=!0,g&&(i[x].defaultSelected=!0);return}a!==null||i[x].disabled||(a=i[x])}a!==null&&(a.selected=!0)}}function Mo(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function xl(i,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(n(92));if(Mi(h)){if(1<h.length)throw Error(n(93));h=h[0]}a=h}a==null&&(a=""),h=a}i._wrapperState={initialValue:Ee(h)}}function gu(i,a){var h=Ee(a.value),g=Ee(a.defaultValue);h!=null&&(h=""+h,h!==i.value&&(i.value=h),a.defaultValue==null&&i.defaultValue!==h&&(i.defaultValue=h)),g!=null&&(i.defaultValue=""+g)}function vu(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function Bo(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fo(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?Bo(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Bs,yu=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,g,x){MSApp.execUnsafeLocalFunction(function(){return i(a,h,g,x)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(Bs=Bs||document.createElement("div"),Bs.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Bs.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function Bi(i,a){if(a){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=a;return}}i.textContent=a}var Fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sf=["Webkit","ms","Moz","O"];Object.keys(Fi).forEach(function(i){Sf.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),Fi[a]=Fi[i]})});function bl(i,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||Fi.hasOwnProperty(i)&&Fi[i]?(""+a).trim():a+"px"}function zo(i,a){i=i.style;for(var h in a)if(a.hasOwnProperty(h)){var g=h.indexOf("--")===0,x=bl(h,a[h],g);h==="float"&&(h="cssFloat"),g?i.setProperty(h,x):i[h]=x}}var _u=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sl(i,a){if(a){if(_u[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function ri(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var El=null;function Tl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Uo=null,ii=null,si=null;function wu(i){if(i=vi(i)){if(typeof Uo!="function")throw Error(n(280));var a=i.stateNode;a&&(a=pa(a),Uo(i.stateNode,i.type,a))}}function xu(i){ii?si?si.push(i):si=[i]:ii=i}function bu(){if(ii){var i=ii,a=si;if(si=ii=null,wu(i),a)for(i=0;i<a.length;i++)wu(a[i])}}function Su(i,a){return i(a)}function Eu(){}var Pl=!1;function Vo(i,a,h){if(Pl)return i(a,h);Pl=!0;try{return Su(i,a,h)}finally{Pl=!1,(ii!==null||si!==null)&&(Eu(),bu())}}function Fs(i,a){var h=i.stateNode;if(h===null)return null;var g=pa(h);if(g===null)return null;h=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(n(231,a,typeof h));return h}var Cl=!1;if(d)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){Cl=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{Cl=!1}function Ef(i,a,h,g,x,E,N,M,U){var Y=Array.prototype.slice.call(arguments,3);try{a.apply(h,Y)}catch(ae){this.onError(ae)}}var Jt=!1,Ce=null,Us=!1,$o=null,Tu={onError:function(i){Jt=!0,Ce=i}};function Pu(i,a,h,g,x,E,N,M,U){Jt=!1,Ce=null,Ef.apply(Tu,arguments)}function kl(i,a,h,g,x,E,N,M,U){if(Pu.apply(this,arguments),Jt){if(Jt){var Y=Ce;Jt=!1,Ce=null}else throw Error(n(198));Us||(Us=!0,$o=Y)}}function Ir(i){var a=i,h=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(h=a.return),i=a.return;while(i)}return a.tag===3?h:null}function oi(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Rl(i){if(Ir(i)!==i)throw Error(n(188))}function Tf(i){var a=i.alternate;if(!a){if(a=Ir(i),a===null)throw Error(n(188));return a!==i?null:i}for(var h=i,g=a;;){var x=h.return;if(x===null)break;var E=x.alternate;if(E===null){if(g=x.return,g!==null){h=g;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===h)return Rl(x),i;if(E===g)return Rl(x),a;E=E.sibling}throw Error(n(188))}if(h.return!==g.return)h=x,g=E;else{for(var N=!1,M=x.child;M;){if(M===h){N=!0,h=x,g=E;break}if(M===g){N=!0,g=x,h=E;break}M=M.sibling}if(!N){for(M=E.child;M;){if(M===h){N=!0,h=E,g=x;break}if(M===g){N=!0,g=E,h=x;break}M=M.sibling}if(!N)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?i:a}function Cu(i){return i=Tf(i),i!==null?ku(i):null}function ku(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=ku(i);if(a!==null)return a;i=i.sibling}return null}var Ru=e.unstable_scheduleCallback,Al=e.unstable_cancelCallback,Pf=e.unstable_shouldYield,Wo=e.unstable_requestPaint,yt=e.unstable_now,Cf=e.unstable_getCurrentPriorityLevel,Nl=e.unstable_ImmediatePriority,Au=e.unstable_UserBlockingPriority,Ho=e.unstable_NormalPriority,Ol=e.unstable_LowPriority,zi=e.unstable_IdlePriority,Vs=null,kn=null;function $s(i){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Vs,i,void 0,(i.current.flags&128)===128)}catch{}}var Ve=Math.clz32?Math.clz32:Ui,ht=Math.log,qo=Math.LN2;function Ui(i){return i>>>=0,i===0?32:31-(ht(i)/qo|0)|0}var dr=64,Vi=4194304;function Fe(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ct(i,a){var h=i.pendingLanes;if(h===0)return 0;var g=0,x=i.suspendedLanes,E=i.pingedLanes,N=h&268435455;if(N!==0){var M=N&~x;M!==0?g=Fe(M):(E&=N,E!==0&&(g=Fe(E)))}else N=h&~x,N!==0?g=Fe(N):E!==0&&(g=Fe(E));if(g===0)return 0;if(a!==0&&a!==g&&(a&x)===0&&(x=g&-g,E=a&-a,x>=E||x===16&&(E&4194240)!==0))return a;if((g&4)!==0&&(g|=h&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=g;0<a;)h=31-Ve(a),x=1<<h,g|=i[h],a&=~x;return g}function jl(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ko(i,a){for(var h=i.suspendedLanes,g=i.pingedLanes,x=i.expirationTimes,E=i.pendingLanes;0<E;){var N=31-Ve(E),M=1<<N,U=x[N];U===-1?((M&h)===0||(M&g)!==0)&&(x[N]=jl(M,a)):U<=a&&(i.expiredLanes|=M),E&=~M}}function Yt(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Nu(){var i=dr;return dr<<=1,(dr&4194240)===0&&(dr=64),i}function $i(i){for(var a=[],h=0;31>h;h++)a.push(i);return a}function Rn(i,a,h){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Ve(a),i[a]=h}function Et(i,a){var h=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<h;){var x=31-Ve(h),E=1<<x;a[x]=0,g[x]=-1,i[x]=-1,h&=~E}}function hr(i,a){var h=i.entangledLanes|=a;for(i=i.entanglements;h;){var g=31-Ve(h),x=1<<g;x&a|i[g]&a&&(i[g]|=a),h&=~x}}var tt=0;function Wi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Zo,ai,Go,Jo,Ws,Hs=!1,Hi=[],An=null,fr=null,qn=null,qs=new Map,De=new Map,It=[],ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ll(i,a){switch(i){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":qs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":De.delete(a.pointerId)}}function li(i,a,h,g,x,E){return i===null||i.nativeEvent!==E?(i={blockedOn:a,domEventName:h,eventSystemFlags:g,nativeEvent:E,targetContainers:[x]},a!==null&&(a=vi(a),a!==null&&ai(a)),i):(i.eventSystemFlags|=g,a=i.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),i)}function Il(i,a,h,g,x){switch(a){case"focusin":return An=li(An,i,a,h,g,x),!0;case"dragenter":return fr=li(fr,i,a,h,g,x),!0;case"mouseover":return qn=li(qn,i,a,h,g,x),!0;case"pointerover":var E=x.pointerId;return qs.set(E,li(qs.get(E)||null,i,a,h,g,x)),!0;case"gotpointercapture":return E=x.pointerId,De.set(E,li(De.get(E)||null,i,a,h,g,x)),!0}return!1}function Yo(i){var a=gi(i.target);if(a!==null){var h=Ir(a);if(h!==null){if(a=h.tag,a===13){if(a=oi(h),a!==null){i.blockedOn=a,Ws(i.priority,function(){Go(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Kn(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var h=ea(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(h===null){h=i.nativeEvent;var g=new h.constructor(h.type,h);El=g,h.target.dispatchEvent(g),El=null}else return a=vi(h),a!==null&&ai(a),i.blockedOn=h,!1;a.shift()}return!0}function Xo(i,a,h){Kn(i)&&h.delete(a)}function Ks(){Hs=!1,An!==null&&Kn(An)&&(An=null),fr!==null&&Kn(fr)&&(fr=null),qn!==null&&Kn(qn)&&(qn=null),qs.forEach(Xo),De.forEach(Xo)}function _t(i,a){i.blockedOn===a&&(i.blockedOn=null,Hs||(Hs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ks)))}function Nn(i){function a(x){return _t(x,i)}if(0<Hi.length){_t(Hi[0],i);for(var h=1;h<Hi.length;h++){var g=Hi[h];g.blockedOn===i&&(g.blockedOn=null)}}for(An!==null&&_t(An,i),fr!==null&&_t(fr,i),qn!==null&&_t(qn,i),qs.forEach(a),De.forEach(a),h=0;h<It.length;h++)g=It[h],g.blockedOn===i&&(g.blockedOn=null);for(;0<It.length&&(h=It[0],h.blockedOn===null);)Yo(h),h.blockedOn===null&&It.shift()}var ci=D.ReactCurrentBatchConfig,Zs=!0;function kf(i,a,h,g){var x=tt,E=ci.transition;ci.transition=null;try{tt=1,Gs(i,a,h,g)}finally{tt=x,ci.transition=E}}function Ou(i,a,h,g){var x=tt,E=ci.transition;ci.transition=null;try{tt=4,Gs(i,a,h,g)}finally{tt=x,ci.transition=E}}function Gs(i,a,h,g){if(Zs){var x=ea(i,a,h,g);if(x===null)s(i,a,g,Qo,h),Ll(i,g);else if(Il(x,i,a,h,g))g.stopPropagation();else if(Ll(i,g),a&4&&-1<ot.indexOf(i)){for(;x!==null;){var E=vi(x);if(E!==null&&Zo(E),E=ea(i,a,h,g),E===null&&s(i,a,g,Qo,h),E===x)break;x=E}x!==null&&g.stopPropagation()}else s(i,a,g,null,h)}}var Qo=null;function ea(i,a,h,g){if(Qo=null,i=Tl(g),i=gi(i),i!==null)if(a=Ir(i),a===null)i=null;else if(h=a.tag,h===13){if(i=oi(a),i!==null)return i;i=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return Qo=i,null}function Xe(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cf()){case Nl:return 1;case Au:return 4;case Ho:case Ol:return 16;case zi:return 536870912;default:return 16}default:return 16}}var Dr=null,cn=null,Mr=null;function Dl(){if(Mr)return Mr;var i,a=cn,h=a.length,g,x="value"in Dr?Dr.value:Dr.textContent,E=x.length;for(i=0;i<h&&a[i]===x[i];i++);var N=h-i;for(g=1;g<=N&&a[h-g]===x[E-g];g++);return Mr=x.slice(i,1<g?1-g:void 0)}function ta(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function qi(){return!0}function ju(){return!1}function Xt(i){function a(h,g,x,E,N){this._reactName=h,this._targetInst=x,this.type=g,this.nativeEvent=E,this.target=N,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(h=i[M],this[M]=h?h(E):E[M]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?qi:ju,this.isPropagationStopped=ju,this}return te(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),a}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ml=Xt(Ki),ui=te({},Ki,{view:0,detail:0}),Rf=Xt(ui),mn,Bl,Zi,On=te({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hi,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Zi&&(Zi&&i.type==="mousemove"?(mn=i.screenX-Zi.screenX,Bl=i.screenY-Zi.screenY):Bl=mn=0,Zi=i),mn)},movementY:function(i){return"movementY"in i?i.movementY:Bl}}),Fl=Xt(On),Lu=te({},On,{dataTransfer:0}),zl=Xt(Lu),Af=te({},ui,{relatedTarget:0}),na=Xt(Af),Iu=te({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Nf=Xt(Iu),Of=te({},Ki,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ul=Xt(Of),jf=te({},Ki,{data:0}),Vl=Xt(jf),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ra={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},di={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lf(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=di[i])?!!a[i]:!1}function hi(){return Lf}var gn=te({},ui,{key:function(i){if(i.key){var a=Du[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=ta(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ra[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hi,charCode:function(i){return i.type==="keypress"?ta(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ta(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Mu=Xt(gn),Bu=te({},On,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fu=Xt(Bu),$l=te({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hi}),Wl=Xt($l),If=te({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),Df=Xt(If),zu=te({},On,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Mf=Xt(zu),jn=[9,13,27,32],Br=d&&"CompositionEvent"in window,Js=null;d&&"documentMode"in document&&(Js=document.documentMode);var pr=d&&"TextEvent"in window&&!Js,Uu=d&&(!Br||Js&&8<Js&&11>=Js),fi=" ",Vu=!1;function Gi(i,a){switch(i){case"keyup":return jn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var mr=!1;function Bf(i,a){switch(i){case"compositionend":return Hl(a);case"keypress":return a.which!==32?null:(Vu=!0,fi);case"textInput":return i=a.data,i===fi&&Vu?null:i;default:return null}}function Fr(i,a){if(mr)return i==="compositionend"||!Br&&Gi(i,a)?(i=Dl(),Mr=cn=Dr=null,mr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Uu&&a.locale!=="ko"?null:a.data;default:return null}}var ia={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $u(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!ia[i.type]:a==="textarea"}function sa(i,a,h,g){xu(g),a=m(a,"onChange"),0<a.length&&(h=new Ml("onChange","change",null,h,g),i.push({event:h,listeners:a}))}var Ys=null,un=null;function Ff(i){ec(i,0)}function gr(i){var a=yi(i);if(Ye(a))return i}function zf(i,a){if(i==="change")return a}var Zn=!1;if(d){var Ji;if(d){var oa="oninput"in document;if(!oa){var aa=document.createElement("div");aa.setAttribute("oninput","return;"),oa=typeof aa.oninput=="function"}Ji=oa}else Ji=!1;Zn=Ji&&(!document.documentMode||9<document.documentMode)}function Xs(){Ys&&(Ys.detachEvent("onpropertychange",la),un=Ys=null)}function la(i){if(i.propertyName==="value"&&gr(un)){var a=[];sa(a,un,i,Tl(i)),Vo(Ff,a)}}function ca(i,a,h){i==="focusin"?(Xs(),Ys=a,un=h,Ys.attachEvent("onpropertychange",la)):i==="focusout"&&Xs()}function Yi(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return gr(un)}function ua(i,a){if(i==="click")return gr(a)}function ql(i,a){if(i==="input"||i==="change")return gr(a)}function Wu(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Ln=typeof Object.is=="function"?Object.is:Wu;function zr(i,a){if(Ln(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var h=Object.keys(i),g=Object.keys(a);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var x=h[g];if(!f.call(a,x)||!Ln(i[x],a[x]))return!1}return!0}function Hu(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Kl(i,a){var h=Hu(i);i=0;for(var g;h;){if(h.nodeType===3){if(g=i+h.textContent.length,i<=a&&g>=a)return{node:h,offset:a-i};i=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Hu(h)}}function qu(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?qu(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Zl(){for(var i=window,a=St();a instanceof i.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)i=a.contentWindow;else break;a=St(i.document)}return a}function Gl(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function Gn(i){var a=Zl(),h=i.focusedElem,g=i.selectionRange;if(a!==h&&h&&h.ownerDocument&&qu(h.ownerDocument.documentElement,h)){if(g!==null&&Gl(h)){if(a=g.start,i=g.end,i===void 0&&(i=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(i,h.value.length);else if(i=(a=h.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var x=h.textContent.length,E=Math.min(g.start,x);g=g.end===void 0?E:Math.min(g.end,x),!i.extend&&E>g&&(x=g,g=E,E=x),x=Kl(h,E);var N=Kl(h,g);x&&N&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==N.node||i.focusOffset!==N.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),i.removeAllRanges(),E>g?(i.addRange(a),i.extend(N.node,N.offset)):(a.setEnd(N.node,N.offset),i.addRange(a)))}}for(a=[],i=h;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)i=a[h],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var da=d&&"documentMode"in document&&11>=document.documentMode,Xi=null,Qi=null,Qs=null,ha=!1;function Ku(i,a,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ha||Xi==null||Xi!==St(g)||(g=Xi,"selectionStart"in g&&Gl(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Qs&&zr(Qs,g)||(Qs=g,g=m(Qi,"onSelect"),0<g.length&&(a=new Ml("onSelect","select",null,a,h),i.push({event:a,listeners:g}),a.target=Xi)))}function Ur(i,a){var h={};return h[i.toLowerCase()]=a.toLowerCase(),h["Webkit"+i]="webkit"+a,h["Moz"+i]="moz"+a,h}var es={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionend:Ur("Transition","TransitionEnd")},Vr={},Jl={};d&&(Jl=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function eo(i){if(Vr[i])return Vr[i];if(!es[i])return i;var a=es[i],h;for(h in a)if(a.hasOwnProperty(h)&&h in Jl)return Vr[i]=a[h];return i}var Zu=eo("animationend"),Jn=eo("animationiteration"),Yl=eo("animationstart"),Xl=eo("transitionend"),ts=new Map,Gu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(i,a){ts.set(i,a),l(a,[i])}for(var pi=0;pi<Gu.length;pi++){var fa=Gu[pi],Ju=fa.toLowerCase(),Uf=fa[0].toUpperCase()+fa.slice(1);In(Ju,"on"+Uf)}In(Zu,"onAnimationEnd"),In(Jn,"onAnimationIteration"),In(Yl,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(Xl,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yu=new Set("cancel close invalid load scroll toggle".split(" ").concat(ns));function Ql(i,a,h){var g=i.type||"unknown-event";i.currentTarget=h,kl(g,a,void 0,i),i.currentTarget=null}function ec(i,a){a=(a&4)!==0;for(var h=0;h<i.length;h++){var g=i[h],x=g.event;g=g.listeners;e:{var E=void 0;if(a)for(var N=g.length-1;0<=N;N--){var M=g[N],U=M.instance,Y=M.currentTarget;if(M=M.listener,U!==E&&x.isPropagationStopped())break e;Ql(x,M,Y),E=U}else for(N=0;N<g.length;N++){if(M=g[N],U=M.instance,Y=M.currentTarget,M=M.listener,U!==E&&x.isPropagationStopped())break e;Ql(x,M,Y),E=U}}}if(Us)throw i=$o,Us=!1,$o=null,i}function at(i,a){var h=a[os];h===void 0&&(h=a[os]=new Set);var g=i+"__bubble";h.has(g)||(Xu(a,i,2,!1),h.add(g))}function tc(i,a,h){var g=0;a&&(g|=4),Xu(h,i,g,a)}var to="_reactListening"+Math.random().toString(36).slice(2);function rs(i){if(!i[to]){i[to]=!0,r.forEach(function(h){h!=="selectionchange"&&(Yu.has(h)||tc(h,!1,i),tc(h,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[to]||(a[to]=!0,tc("selectionchange",!1,a))}}function Xu(i,a,h,g){switch(Xe(a)){case 1:var x=kf;break;case 4:x=Ou;break;default:x=Gs}h=x.bind(null,a,h,i),x=void 0,!Cl||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),g?x!==void 0?i.addEventListener(a,h,{capture:!0,passive:x}):i.addEventListener(a,h,!0):x!==void 0?i.addEventListener(a,h,{passive:x}):i.addEventListener(a,h,!1)}function s(i,a,h,g,x){var E=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var N=g.tag;if(N===3||N===4){var M=g.stateNode.containerInfo;if(M===x||M.nodeType===8&&M.parentNode===x)break;if(N===4)for(N=g.return;N!==null;){var U=N.tag;if((U===3||U===4)&&(U=N.stateNode.containerInfo,U===x||U.nodeType===8&&U.parentNode===x))return;N=N.return}for(;M!==null;){if(N=gi(M),N===null)return;if(U=N.tag,U===5||U===6){g=E=N;continue e}M=M.parentNode}}g=g.return}Vo(function(){var Y=E,ae=Tl(h),de=[];e:{var ie=ts.get(i);if(ie!==void 0){var xe=Ml,Te=i;switch(i){case"keypress":if(ta(h)===0)break e;case"keydown":case"keyup":xe=Mu;break;case"focusin":Te="focus",xe=na;break;case"focusout":Te="blur",xe=na;break;case"beforeblur":case"afterblur":xe=na;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=zl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=Wl;break;case Zu:case Jn:case Yl:xe=Nf;break;case Xl:xe=Df;break;case"scroll":xe=Rf;break;case"wheel":xe=Mf;break;case"copy":case"cut":case"paste":xe=Ul;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=Fu}var Pe=(a&4)!==0,kt=!Pe&&i==="scroll",K=Pe?ie!==null?ie+"Capture":null:ie;Pe=[];for(var $=Y,Z;$!==null;){Z=$;var fe=Z.stateNode;if(Z.tag===5&&fe!==null&&(Z=fe,K!==null&&(fe=Fs($,K),fe!=null&&Pe.push(u($,fe,Z)))),kt)break;$=$.return}0<Pe.length&&(ie=new xe(ie,Te,null,h,ae),de.push({event:ie,listeners:Pe}))}}if((a&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",xe=i==="mouseout"||i==="pointerout",ie&&h!==El&&(Te=h.relatedTarget||h.fromElement)&&(gi(Te)||Te[st]))break e;if((xe||ie)&&(ie=ae.window===ae?ae:(ie=ae.ownerDocument)?ie.defaultView||ie.parentWindow:window,xe?(Te=h.relatedTarget||h.toElement,xe=Y,Te=Te?gi(Te):null,Te!==null&&(kt=Ir(Te),Te!==kt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(xe=null,Te=Y),xe!==Te)){if(Pe=Fl,fe="onMouseLeave",K="onMouseEnter",$="mouse",(i==="pointerout"||i==="pointerover")&&(Pe=Fu,fe="onPointerLeave",K="onPointerEnter",$="pointer"),kt=xe==null?ie:yi(xe),Z=Te==null?ie:yi(Te),ie=new Pe(fe,$+"leave",xe,h,ae),ie.target=kt,ie.relatedTarget=Z,fe=null,gi(ae)===Y&&(Pe=new Pe(K,$+"enter",Te,h,ae),Pe.target=Z,Pe.relatedTarget=kt,fe=Pe),kt=fe,xe&&Te)t:{for(Pe=xe,K=Te,$=0,Z=Pe;Z;Z=w(Z))$++;for(Z=0,fe=K;fe;fe=w(fe))Z++;for(;0<$-Z;)Pe=w(Pe),$--;for(;0<Z-$;)K=w(K),Z--;for(;$--;){if(Pe===K||K!==null&&Pe===K.alternate)break t;Pe=w(Pe),K=w(K)}Pe=null}else Pe=null;xe!==null&&R(de,ie,xe,Pe,!1),Te!==null&&kt!==null&&R(de,kt,Te,Pe,!0)}}e:{if(ie=Y?yi(Y):window,xe=ie.nodeName&&ie.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ie.type==="file")var ke=zf;else if($u(ie))if(Zn)ke=ql;else{ke=Yi;var Ne=ca}else(xe=ie.nodeName)&&xe.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(ke=ua);if(ke&&(ke=ke(i,Y))){sa(de,ke,h,ae);break e}Ne&&Ne(i,ie,Y),i==="focusout"&&(Ne=ie._wrapperState)&&Ne.controlled&&ie.type==="number"&&jr(ie,"number",ie.value)}switch(Ne=Y?yi(Y):window,i){case"focusin":($u(Ne)||Ne.contentEditable==="true")&&(Xi=Ne,Qi=Y,Qs=null);break;case"focusout":Qs=Qi=Xi=null;break;case"mousedown":ha=!0;break;case"contextmenu":case"mouseup":case"dragend":ha=!1,Ku(de,h,ae);break;case"selectionchange":if(da)break;case"keydown":case"keyup":Ku(de,h,ae)}var Oe;if(Br)e:{switch(i){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else mr?Gi(i,h)&&(Be="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(Be="onCompositionStart");Be&&(Uu&&h.locale!=="ko"&&(mr||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&mr&&(Oe=Dl()):(Dr=ae,cn="value"in Dr?Dr.value:Dr.textContent,mr=!0)),Ne=m(Y,Be),0<Ne.length&&(Be=new Vl(Be,i,null,h,ae),de.push({event:Be,listeners:Ne}),Oe?Be.data=Oe:(Oe=Hl(h),Oe!==null&&(Be.data=Oe)))),(Oe=pr?Bf(i,h):Fr(i,h))&&(Y=m(Y,"onBeforeInput"),0<Y.length&&(ae=new Vl("onBeforeInput","beforeinput",null,h,ae),de.push({event:ae,listeners:Y}),ae.data=Oe))}ec(de,a)})}function u(i,a,h){return{instance:i,listener:a,currentTarget:h}}function m(i,a){for(var h=a+"Capture",g=[];i!==null;){var x=i,E=x.stateNode;x.tag===5&&E!==null&&(x=E,E=Fs(i,h),E!=null&&g.unshift(u(i,E,x)),E=Fs(i,a),E!=null&&g.push(u(i,E,x))),i=i.return}return g}function w(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function R(i,a,h,g,x){for(var E=a._reactName,N=[];h!==null&&h!==g;){var M=h,U=M.alternate,Y=M.stateNode;if(U!==null&&U===g)break;M.tag===5&&Y!==null&&(M=Y,x?(U=Fs(h,E),U!=null&&N.unshift(u(h,U,M))):x||(U=Fs(h,E),U!=null&&N.push(u(h,U,M)))),h=h.return}N.length!==0&&i.push({event:a,listeners:N})}var I=/\r\n?/g,F=/\u0000|\uFFFD/g;function q(i){return(typeof i=="string"?i:""+i).replace(I,`
`).replace(F,"")}function J(i,a,h){if(a=q(a),q(i)!==a&&h)throw Error(n(425))}function re(){}var we=null,Ae=null;function We(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Dt=typeof setTimeout=="function"?setTimeout:void 0,Ot=typeof clearTimeout=="function"?clearTimeout:void 0,dn=typeof Promise=="function"?Promise:void 0,Qt=typeof queueMicrotask=="function"?queueMicrotask:typeof dn<"u"?function(i){return dn.resolve(null).then(i).catch(is)}:Dt;function is(i){setTimeout(function(){throw i})}function nc(i,a){var h=a,g=0;do{var x=h.nextSibling;if(i.removeChild(h),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(g===0){i.removeChild(x),Nn(a);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=x}while(h);Nn(a)}function $r(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Qu(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return i;a--}else h==="/$"&&a++}i=i.previousSibling}return null}var mi=Math.random().toString(36).slice(2),Yn="__reactFiber$"+mi,ss="__reactProps$"+mi,st="__reactContainer$"+mi,os="__reactEvents$"+mi,Vf="__reactListeners$"+mi,$f="__reactHandles$"+mi;function gi(i){var a=i[Yn];if(a)return a;for(var h=i.parentNode;h;){if(a=h[st]||h[Yn]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(i=Qu(i);i!==null;){if(h=i[Yn])return h;i=Qu(i)}return a}i=h,h=i.parentNode}return null}function vi(i){return i=i[Yn]||i[st],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function yi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function pa(i){return i[ss]||null}var Wf=[],ma=-1;function as(i){return{current:i}}function ft(i){0>ma||(i.current=Wf[ma],Wf[ma]=null,ma--)}function ut(i,a){ma++,Wf[ma]=i.current,i.current=a}var ls={},en=as(ls),vn=as(!1),no=ls;function ga(i,a){var h=i.type.contextTypes;if(!h)return ls;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var x={},E;for(E in h)x[E]=a[E];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=x),x}function yn(i){return i=i.childContextTypes,i!=null}function ed(){ft(vn),ft(en)}function ry(i,a,h){if(en.current!==ls)throw Error(n(168));ut(en,a),ut(vn,h)}function iy(i,a,h){var g=i.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var x in g)if(!(x in a))throw Error(n(108,ge(i)||"Unknown",x));return te({},h,g)}function td(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ls,no=en.current,ut(en,i),ut(vn,vn.current),!0}function sy(i,a,h){var g=i.stateNode;if(!g)throw Error(n(169));h?(i=iy(i,a,no),g.__reactInternalMemoizedMergedChildContext=i,ft(vn),ft(en),ut(en,i)):ft(vn),ut(vn,h)}var _i=null,nd=!1,Hf=!1;function oy(i){_i===null?_i=[i]:_i.push(i)}function uC(i){nd=!0,oy(i)}function cs(){if(!Hf&&_i!==null){Hf=!0;var i=0,a=tt;try{var h=_i;for(tt=1;i<h.length;i++){var g=h[i];do g=g(!0);while(g!==null)}_i=null,nd=!1}catch(x){throw _i!==null&&(_i=_i.slice(i+1)),Ru(Nl,cs),x}finally{tt=a,Hf=!1}}return null}var va=[],ya=0,rd=null,id=0,Xn=[],Qn=0,ro=null,wi=1,xi="";function io(i,a){va[ya++]=id,va[ya++]=rd,rd=i,id=a}function ay(i,a,h){Xn[Qn++]=wi,Xn[Qn++]=xi,Xn[Qn++]=ro,ro=i;var g=wi;i=xi;var x=32-Ve(g)-1;g&=~(1<<x),h+=1;var E=32-Ve(a)+x;if(30<E){var N=x-x%5;E=(g&(1<<N)-1).toString(32),g>>=N,x-=N,wi=1<<32-Ve(a)+x|h<<x|g,xi=E+i}else wi=1<<E|h<<x|g,xi=i}function qf(i){i.return!==null&&(io(i,1),ay(i,1,0))}function Kf(i){for(;i===rd;)rd=va[--ya],va[ya]=null,id=va[--ya],va[ya]=null;for(;i===ro;)ro=Xn[--Qn],Xn[Qn]=null,xi=Xn[--Qn],Xn[Qn]=null,wi=Xn[--Qn],Xn[Qn]=null}var Dn=null,Mn=null,gt=!1,vr=null;function ly(i,a){var h=rr(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=i,a=i.deletions,a===null?(i.deletions=[h],i.flags|=16):a.push(h)}function cy(i,a){switch(i.tag){case 5:var h=i.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Dn=i,Mn=$r(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Dn=i,Mn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=ro!==null?{id:wi,overflow:xi}:null,i.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=rr(18,null,null,0),h.stateNode=a,h.return=i,i.child=h,Dn=i,Mn=null,!0):!1;default:return!1}}function Zf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Gf(i){if(gt){var a=Mn;if(a){var h=a;if(!cy(i,a)){if(Zf(i))throw Error(n(418));a=$r(h.nextSibling);var g=Dn;a&&cy(i,a)?ly(g,h):(i.flags=i.flags&-4097|2,gt=!1,Dn=i)}}else{if(Zf(i))throw Error(n(418));i.flags=i.flags&-4097|2,gt=!1,Dn=i}}}function uy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Dn=i}function sd(i){if(i!==Dn)return!1;if(!gt)return uy(i),gt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!We(i.type,i.memoizedProps)),a&&(a=Mn)){if(Zf(i))throw dy(),Error(n(418));for(;a;)ly(i,a),a=$r(a.nextSibling)}if(uy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"){if(a===0){Mn=$r(i.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}i=i.nextSibling}Mn=null}}else Mn=Dn?$r(i.stateNode.nextSibling):null;return!0}function dy(){for(var i=Mn;i;)i=$r(i.nextSibling)}function _a(){Mn=Dn=null,gt=!1}function Jf(i){vr===null?vr=[i]:vr.push(i)}var dC=D.ReactCurrentBatchConfig;function rc(i,a,h){if(i=h.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var g=h.stateNode}if(!g)throw Error(n(147,i));var x=g,E=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(N){var M=x.refs;N===null?delete M[E]:M[E]=N},a._stringRef=E,a)}if(typeof i!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,i))}return i}function od(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function hy(i){var a=i._init;return a(i._payload)}function fy(i){function a(K,$){if(i){var Z=K.deletions;Z===null?(K.deletions=[$],K.flags|=16):Z.push($)}}function h(K,$){if(!i)return null;for(;$!==null;)a(K,$),$=$.sibling;return null}function g(K,$){for(K=new Map;$!==null;)$.key!==null?K.set($.key,$):K.set($.index,$),$=$.sibling;return K}function x(K,$){return K=vs(K,$),K.index=0,K.sibling=null,K}function E(K,$,Z){return K.index=Z,i?(Z=K.alternate,Z!==null?(Z=Z.index,Z<$?(K.flags|=2,$):Z):(K.flags|=2,$)):(K.flags|=1048576,$)}function N(K){return i&&K.alternate===null&&(K.flags|=2),K}function M(K,$,Z,fe){return $===null||$.tag!==6?($=Up(Z,K.mode,fe),$.return=K,$):($=x($,Z),$.return=K,$)}function U(K,$,Z,fe){var ke=Z.type;return ke===H?ae(K,$,Z.props.children,fe,Z.key):$!==null&&($.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===ne&&hy(ke)===$.type)?(fe=x($,Z.props),fe.ref=rc(K,$,Z),fe.return=K,fe):(fe=Ad(Z.type,Z.key,Z.props,null,K.mode,fe),fe.ref=rc(K,$,Z),fe.return=K,fe)}function Y(K,$,Z,fe){return $===null||$.tag!==4||$.stateNode.containerInfo!==Z.containerInfo||$.stateNode.implementation!==Z.implementation?($=Vp(Z,K.mode,fe),$.return=K,$):($=x($,Z.children||[]),$.return=K,$)}function ae(K,$,Z,fe,ke){return $===null||$.tag!==7?($=fo(Z,K.mode,fe,ke),$.return=K,$):($=x($,Z),$.return=K,$)}function de(K,$,Z){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Up(""+$,K.mode,Z),$.return=K,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case z:return Z=Ad($.type,$.key,$.props,null,K.mode,Z),Z.ref=rc(K,null,$),Z.return=K,Z;case W:return $=Vp($,K.mode,Z),$.return=K,$;case ne:var fe=$._init;return de(K,fe($._payload),Z)}if(Mi($)||ce($))return $=fo($,K.mode,Z,null),$.return=K,$;od(K,$)}return null}function ie(K,$,Z,fe){var ke=$!==null?$.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return ke!==null?null:M(K,$,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case z:return Z.key===ke?U(K,$,Z,fe):null;case W:return Z.key===ke?Y(K,$,Z,fe):null;case ne:return ke=Z._init,ie(K,$,ke(Z._payload),fe)}if(Mi(Z)||ce(Z))return ke!==null?null:ae(K,$,Z,fe,null);od(K,Z)}return null}function xe(K,$,Z,fe,ke){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return K=K.get(Z)||null,M($,K,""+fe,ke);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case z:return K=K.get(fe.key===null?Z:fe.key)||null,U($,K,fe,ke);case W:return K=K.get(fe.key===null?Z:fe.key)||null,Y($,K,fe,ke);case ne:var Ne=fe._init;return xe(K,$,Z,Ne(fe._payload),ke)}if(Mi(fe)||ce(fe))return K=K.get(Z)||null,ae($,K,fe,ke,null);od($,fe)}return null}function Te(K,$,Z,fe){for(var ke=null,Ne=null,Oe=$,Be=$=0,Vt=null;Oe!==null&&Be<Z.length;Be++){Oe.index>Be?(Vt=Oe,Oe=null):Vt=Oe.sibling;var rt=ie(K,Oe,Z[Be],fe);if(rt===null){Oe===null&&(Oe=Vt);break}i&&Oe&&rt.alternate===null&&a(K,Oe),$=E(rt,$,Be),Ne===null?ke=rt:Ne.sibling=rt,Ne=rt,Oe=Vt}if(Be===Z.length)return h(K,Oe),gt&&io(K,Be),ke;if(Oe===null){for(;Be<Z.length;Be++)Oe=de(K,Z[Be],fe),Oe!==null&&($=E(Oe,$,Be),Ne===null?ke=Oe:Ne.sibling=Oe,Ne=Oe);return gt&&io(K,Be),ke}for(Oe=g(K,Oe);Be<Z.length;Be++)Vt=xe(Oe,K,Be,Z[Be],fe),Vt!==null&&(i&&Vt.alternate!==null&&Oe.delete(Vt.key===null?Be:Vt.key),$=E(Vt,$,Be),Ne===null?ke=Vt:Ne.sibling=Vt,Ne=Vt);return i&&Oe.forEach(function(ys){return a(K,ys)}),gt&&io(K,Be),ke}function Pe(K,$,Z,fe){var ke=ce(Z);if(typeof ke!="function")throw Error(n(150));if(Z=ke.call(Z),Z==null)throw Error(n(151));for(var Ne=ke=null,Oe=$,Be=$=0,Vt=null,rt=Z.next();Oe!==null&&!rt.done;Be++,rt=Z.next()){Oe.index>Be?(Vt=Oe,Oe=null):Vt=Oe.sibling;var ys=ie(K,Oe,rt.value,fe);if(ys===null){Oe===null&&(Oe=Vt);break}i&&Oe&&ys.alternate===null&&a(K,Oe),$=E(ys,$,Be),Ne===null?ke=ys:Ne.sibling=ys,Ne=ys,Oe=Vt}if(rt.done)return h(K,Oe),gt&&io(K,Be),ke;if(Oe===null){for(;!rt.done;Be++,rt=Z.next())rt=de(K,rt.value,fe),rt!==null&&($=E(rt,$,Be),Ne===null?ke=rt:Ne.sibling=rt,Ne=rt);return gt&&io(K,Be),ke}for(Oe=g(K,Oe);!rt.done;Be++,rt=Z.next())rt=xe(Oe,K,Be,rt.value,fe),rt!==null&&(i&&rt.alternate!==null&&Oe.delete(rt.key===null?Be:rt.key),$=E(rt,$,Be),Ne===null?ke=rt:Ne.sibling=rt,Ne=rt);return i&&Oe.forEach(function(WC){return a(K,WC)}),gt&&io(K,Be),ke}function kt(K,$,Z,fe){if(typeof Z=="object"&&Z!==null&&Z.type===H&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case z:e:{for(var ke=Z.key,Ne=$;Ne!==null;){if(Ne.key===ke){if(ke=Z.type,ke===H){if(Ne.tag===7){h(K,Ne.sibling),$=x(Ne,Z.props.children),$.return=K,K=$;break e}}else if(Ne.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===ne&&hy(ke)===Ne.type){h(K,Ne.sibling),$=x(Ne,Z.props),$.ref=rc(K,Ne,Z),$.return=K,K=$;break e}h(K,Ne);break}else a(K,Ne);Ne=Ne.sibling}Z.type===H?($=fo(Z.props.children,K.mode,fe,Z.key),$.return=K,K=$):(fe=Ad(Z.type,Z.key,Z.props,null,K.mode,fe),fe.ref=rc(K,$,Z),fe.return=K,K=fe)}return N(K);case W:e:{for(Ne=Z.key;$!==null;){if($.key===Ne)if($.tag===4&&$.stateNode.containerInfo===Z.containerInfo&&$.stateNode.implementation===Z.implementation){h(K,$.sibling),$=x($,Z.children||[]),$.return=K,K=$;break e}else{h(K,$);break}else a(K,$);$=$.sibling}$=Vp(Z,K.mode,fe),$.return=K,K=$}return N(K);case ne:return Ne=Z._init,kt(K,$,Ne(Z._payload),fe)}if(Mi(Z))return Te(K,$,Z,fe);if(ce(Z))return Pe(K,$,Z,fe);od(K,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,$!==null&&$.tag===6?(h(K,$.sibling),$=x($,Z),$.return=K,K=$):(h(K,$),$=Up(Z,K.mode,fe),$.return=K,K=$),N(K)):h(K,$)}return kt}var wa=fy(!0),py=fy(!1),ad=as(null),ld=null,xa=null,Yf=null;function Xf(){Yf=xa=ld=null}function Qf(i){var a=ad.current;ft(ad),i._currentValue=a}function ep(i,a,h){for(;i!==null;){var g=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),i===h)break;i=i.return}}function ba(i,a){ld=i,Yf=xa=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(_n=!0),i.firstContext=null)}function er(i){var a=i._currentValue;if(Yf!==i)if(i={context:i,memoizedValue:a,next:null},xa===null){if(ld===null)throw Error(n(308));xa=i,ld.dependencies={lanes:0,firstContext:i}}else xa=xa.next=i;return a}var so=null;function tp(i){so===null?so=[i]:so.push(i)}function my(i,a,h,g){var x=a.interleaved;return x===null?(h.next=h,tp(a)):(h.next=x.next,x.next=h),a.interleaved=h,bi(i,g)}function bi(i,a){i.lanes|=a;var h=i.alternate;for(h!==null&&(h.lanes|=a),h=i,i=i.return;i!==null;)i.childLanes|=a,h=i.alternate,h!==null&&(h.childLanes|=a),h=i,i=i.return;return h.tag===3?h.stateNode:null}var us=!1;function np(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gy(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Si(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function ds(i,a,h){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(nt&2)!==0){var x=g.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),g.pending=a,bi(i,h)}return x=g.interleaved,x===null?(a.next=a,tp(g)):(a.next=x.next,x.next=a),g.interleaved=a,bi(i,h)}function cd(i,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var g=a.lanes;g&=i.pendingLanes,h|=g,a.lanes=h,hr(i,h)}}function vy(i,a){var h=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var x=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var N={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?x=E=N:E=E.next=N,h=h.next}while(h!==null);E===null?x=E=a:E=E.next=a}else x=E=a;h={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:g.shared,effects:g.effects},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=a:i.next=a,h.lastBaseUpdate=a}function ud(i,a,h,g){var x=i.updateQueue;us=!1;var E=x.firstBaseUpdate,N=x.lastBaseUpdate,M=x.shared.pending;if(M!==null){x.shared.pending=null;var U=M,Y=U.next;U.next=null,N===null?E=Y:N.next=Y,N=U;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,M=ae.lastBaseUpdate,M!==N&&(M===null?ae.firstBaseUpdate=Y:M.next=Y,ae.lastBaseUpdate=U))}if(E!==null){var de=x.baseState;N=0,ae=Y=U=null,M=E;do{var ie=M.lane,xe=M.eventTime;if((g&ie)===ie){ae!==null&&(ae=ae.next={eventTime:xe,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Te=i,Pe=M;switch(ie=a,xe=h,Pe.tag){case 1:if(Te=Pe.payload,typeof Te=="function"){de=Te.call(xe,de,ie);break e}de=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Pe.payload,ie=typeof Te=="function"?Te.call(xe,de,ie):Te,ie==null)break e;de=te({},de,ie);break e;case 2:us=!0}}M.callback!==null&&M.lane!==0&&(i.flags|=64,ie=x.effects,ie===null?x.effects=[M]:ie.push(M))}else xe={eventTime:xe,lane:ie,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ae===null?(Y=ae=xe,U=de):ae=ae.next=xe,N|=ie;if(M=M.next,M===null){if(M=x.shared.pending,M===null)break;ie=M,M=ie.next,ie.next=null,x.lastBaseUpdate=ie,x.shared.pending=null}}while(!0);if(ae===null&&(U=de),x.baseState=U,x.firstBaseUpdate=Y,x.lastBaseUpdate=ae,a=x.shared.interleaved,a!==null){x=a;do N|=x.lane,x=x.next;while(x!==a)}else E===null&&(x.shared.lanes=0);lo|=N,i.lanes=N,i.memoizedState=de}}function yy(i,a,h){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var g=i[a],x=g.callback;if(x!==null){if(g.callback=null,g=h,typeof x!="function")throw Error(n(191,x));x.call(g)}}}var ic={},Wr=as(ic),sc=as(ic),oc=as(ic);function oo(i){if(i===ic)throw Error(n(174));return i}function rp(i,a){switch(ut(oc,a),ut(sc,i),ut(Wr,ic),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Fo(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=Fo(a,i)}ft(Wr),ut(Wr,a)}function Sa(){ft(Wr),ft(sc),ft(oc)}function _y(i){oo(oc.current);var a=oo(Wr.current),h=Fo(a,i.type);a!==h&&(ut(sc,i),ut(Wr,h))}function ip(i){sc.current===i&&(ft(Wr),ft(sc))}var wt=as(0);function dd(i){for(var a=i;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var sp=[];function op(){for(var i=0;i<sp.length;i++)sp[i]._workInProgressVersionPrimary=null;sp.length=0}var hd=D.ReactCurrentDispatcher,ap=D.ReactCurrentBatchConfig,ao=0,xt=null,Mt=null,zt=null,fd=!1,ac=!1,lc=0,hC=0;function tn(){throw Error(n(321))}function lp(i,a){if(a===null)return!1;for(var h=0;h<a.length&&h<i.length;h++)if(!Ln(i[h],a[h]))return!1;return!0}function cp(i,a,h,g,x,E){if(ao=E,xt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,hd.current=i===null||i.memoizedState===null?gC:vC,i=h(g,x),ac){E=0;do{if(ac=!1,lc=0,25<=E)throw Error(n(301));E+=1,zt=Mt=null,a.updateQueue=null,hd.current=yC,i=h(g,x)}while(ac)}if(hd.current=gd,a=Mt!==null&&Mt.next!==null,ao=0,zt=Mt=xt=null,fd=!1,a)throw Error(n(300));return i}function up(){var i=lc!==0;return lc=0,i}function Hr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?xt.memoizedState=zt=i:zt=zt.next=i,zt}function tr(){if(Mt===null){var i=xt.alternate;i=i!==null?i.memoizedState:null}else i=Mt.next;var a=zt===null?xt.memoizedState:zt.next;if(a!==null)zt=a,Mt=i;else{if(i===null)throw Error(n(310));Mt=i,i={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},zt===null?xt.memoizedState=zt=i:zt=zt.next=i}return zt}function cc(i,a){return typeof a=="function"?a(i):a}function dp(i){var a=tr(),h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=i;var g=Mt,x=g.baseQueue,E=h.pending;if(E!==null){if(x!==null){var N=x.next;x.next=E.next,E.next=N}g.baseQueue=x=E,h.pending=null}if(x!==null){E=x.next,g=g.baseState;var M=N=null,U=null,Y=E;do{var ae=Y.lane;if((ao&ae)===ae)U!==null&&(U=U.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),g=Y.hasEagerState?Y.eagerState:i(g,Y.action);else{var de={lane:ae,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};U===null?(M=U=de,N=g):U=U.next=de,xt.lanes|=ae,lo|=ae}Y=Y.next}while(Y!==null&&Y!==E);U===null?N=g:U.next=M,Ln(g,a.memoizedState)||(_n=!0),a.memoizedState=g,a.baseState=N,a.baseQueue=U,h.lastRenderedState=g}if(i=h.interleaved,i!==null){x=i;do E=x.lane,xt.lanes|=E,lo|=E,x=x.next;while(x!==i)}else x===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function hp(i){var a=tr(),h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=i;var g=h.dispatch,x=h.pending,E=a.memoizedState;if(x!==null){h.pending=null;var N=x=x.next;do E=i(E,N.action),N=N.next;while(N!==x);Ln(E,a.memoizedState)||(_n=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),h.lastRenderedState=E}return[E,g]}function wy(){}function xy(i,a){var h=xt,g=tr(),x=a(),E=!Ln(g.memoizedState,x);if(E&&(g.memoizedState=x,_n=!0),g=g.queue,fp(Ey.bind(null,h,g,i),[i]),g.getSnapshot!==a||E||zt!==null&&zt.memoizedState.tag&1){if(h.flags|=2048,uc(9,Sy.bind(null,h,g,x,a),void 0,null),Ut===null)throw Error(n(349));(ao&30)!==0||by(h,a,x)}return x}function by(i,a,h){i.flags|=16384,i={getSnapshot:a,value:h},a=xt.updateQueue,a===null?(a={lastEffect:null,stores:null},xt.updateQueue=a,a.stores=[i]):(h=a.stores,h===null?a.stores=[i]:h.push(i))}function Sy(i,a,h,g){a.value=h,a.getSnapshot=g,Ty(a)&&Py(i)}function Ey(i,a,h){return h(function(){Ty(a)&&Py(i)})}function Ty(i){var a=i.getSnapshot;i=i.value;try{var h=a();return!Ln(i,h)}catch{return!0}}function Py(i){var a=bi(i,1);a!==null&&xr(a,i,1,-1)}function Cy(i){var a=Hr();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:i},a.queue=i,i=i.dispatch=mC.bind(null,xt,i),[a.memoizedState,i]}function uc(i,a,h,g){return i={tag:i,create:a,destroy:h,deps:g,next:null},a=xt.updateQueue,a===null?(a={lastEffect:null,stores:null},xt.updateQueue=a,a.lastEffect=i.next=i):(h=a.lastEffect,h===null?a.lastEffect=i.next=i:(g=h.next,h.next=i,i.next=g,a.lastEffect=i)),i}function ky(){return tr().memoizedState}function pd(i,a,h,g){var x=Hr();xt.flags|=i,x.memoizedState=uc(1|a,h,void 0,g===void 0?null:g)}function md(i,a,h,g){var x=tr();g=g===void 0?null:g;var E=void 0;if(Mt!==null){var N=Mt.memoizedState;if(E=N.destroy,g!==null&&lp(g,N.deps)){x.memoizedState=uc(a,h,E,g);return}}xt.flags|=i,x.memoizedState=uc(1|a,h,E,g)}function Ry(i,a){return pd(8390656,8,i,a)}function fp(i,a){return md(2048,8,i,a)}function Ay(i,a){return md(4,2,i,a)}function Ny(i,a){return md(4,4,i,a)}function Oy(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function jy(i,a,h){return h=h!=null?h.concat([i]):null,md(4,4,Oy.bind(null,a,i),h)}function pp(){}function Ly(i,a){var h=tr();a=a===void 0?null:a;var g=h.memoizedState;return g!==null&&a!==null&&lp(a,g[1])?g[0]:(h.memoizedState=[i,a],i)}function Iy(i,a){var h=tr();a=a===void 0?null:a;var g=h.memoizedState;return g!==null&&a!==null&&lp(a,g[1])?g[0]:(i=i(),h.memoizedState=[i,a],i)}function Dy(i,a,h){return(ao&21)===0?(i.baseState&&(i.baseState=!1,_n=!0),i.memoizedState=h):(Ln(h,a)||(h=Nu(),xt.lanes|=h,lo|=h,i.baseState=!0),a)}function fC(i,a){var h=tt;tt=h!==0&&4>h?h:4,i(!0);var g=ap.transition;ap.transition={};try{i(!1),a()}finally{tt=h,ap.transition=g}}function My(){return tr().memoizedState}function pC(i,a,h){var g=ms(i);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},By(i))Fy(a,h);else if(h=my(i,a,h,g),h!==null){var x=fn();xr(h,i,g,x),zy(h,a,g)}}function mC(i,a,h){var g=ms(i),x={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(By(i))Fy(a,x);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var N=a.lastRenderedState,M=E(N,h);if(x.hasEagerState=!0,x.eagerState=M,Ln(M,N)){var U=a.interleaved;U===null?(x.next=x,tp(a)):(x.next=U.next,U.next=x),a.interleaved=x;return}}catch{}finally{}h=my(i,a,x,g),h!==null&&(x=fn(),xr(h,i,g,x),zy(h,a,g))}}function By(i){var a=i.alternate;return i===xt||a!==null&&a===xt}function Fy(i,a){ac=fd=!0;var h=i.pending;h===null?a.next=a:(a.next=h.next,h.next=a),i.pending=a}function zy(i,a,h){if((h&4194240)!==0){var g=a.lanes;g&=i.pendingLanes,h|=g,a.lanes=h,hr(i,h)}}var gd={readContext:er,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},gC={readContext:er,useCallback:function(i,a){return Hr().memoizedState=[i,a===void 0?null:a],i},useContext:er,useEffect:Ry,useImperativeHandle:function(i,a,h){return h=h!=null?h.concat([i]):null,pd(4194308,4,Oy.bind(null,a,i),h)},useLayoutEffect:function(i,a){return pd(4194308,4,i,a)},useInsertionEffect:function(i,a){return pd(4,2,i,a)},useMemo:function(i,a){var h=Hr();return a=a===void 0?null:a,i=i(),h.memoizedState=[i,a],i},useReducer:function(i,a,h){var g=Hr();return a=h!==void 0?h(a):a,g.memoizedState=g.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},g.queue=i,i=i.dispatch=pC.bind(null,xt,i),[g.memoizedState,i]},useRef:function(i){var a=Hr();return i={current:i},a.memoizedState=i},useState:Cy,useDebugValue:pp,useDeferredValue:function(i){return Hr().memoizedState=i},useTransition:function(){var i=Cy(!1),a=i[0];return i=fC.bind(null,i[1]),Hr().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,h){var g=xt,x=Hr();if(gt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=a(),Ut===null)throw Error(n(349));(ao&30)!==0||by(g,a,h)}x.memoizedState=h;var E={value:h,getSnapshot:a};return x.queue=E,Ry(Ey.bind(null,g,E,i),[i]),g.flags|=2048,uc(9,Sy.bind(null,g,E,h,a),void 0,null),h},useId:function(){var i=Hr(),a=Ut.identifierPrefix;if(gt){var h=xi,g=wi;h=(g&~(1<<32-Ve(g)-1)).toString(32)+h,a=":"+a+"R"+h,h=lc++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=hC++,a=":"+a+"r"+h.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},vC={readContext:er,useCallback:Ly,useContext:er,useEffect:fp,useImperativeHandle:jy,useInsertionEffect:Ay,useLayoutEffect:Ny,useMemo:Iy,useReducer:dp,useRef:ky,useState:function(){return dp(cc)},useDebugValue:pp,useDeferredValue:function(i){var a=tr();return Dy(a,Mt.memoizedState,i)},useTransition:function(){var i=dp(cc)[0],a=tr().memoizedState;return[i,a]},useMutableSource:wy,useSyncExternalStore:xy,useId:My,unstable_isNewReconciler:!1},yC={readContext:er,useCallback:Ly,useContext:er,useEffect:fp,useImperativeHandle:jy,useInsertionEffect:Ay,useLayoutEffect:Ny,useMemo:Iy,useReducer:hp,useRef:ky,useState:function(){return hp(cc)},useDebugValue:pp,useDeferredValue:function(i){var a=tr();return Mt===null?a.memoizedState=i:Dy(a,Mt.memoizedState,i)},useTransition:function(){var i=hp(cc)[0],a=tr().memoizedState;return[i,a]},useMutableSource:wy,useSyncExternalStore:xy,useId:My,unstable_isNewReconciler:!1};function yr(i,a){if(i&&i.defaultProps){a=te({},a),i=i.defaultProps;for(var h in i)a[h]===void 0&&(a[h]=i[h]);return a}return a}function mp(i,a,h,g){a=i.memoizedState,h=h(g,a),h=h==null?a:te({},a,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var vd={isMounted:function(i){return(i=i._reactInternals)?Ir(i)===i:!1},enqueueSetState:function(i,a,h){i=i._reactInternals;var g=fn(),x=ms(i),E=Si(g,x);E.payload=a,h!=null&&(E.callback=h),a=ds(i,E,x),a!==null&&(xr(a,i,x,g),cd(a,i,x))},enqueueReplaceState:function(i,a,h){i=i._reactInternals;var g=fn(),x=ms(i),E=Si(g,x);E.tag=1,E.payload=a,h!=null&&(E.callback=h),a=ds(i,E,x),a!==null&&(xr(a,i,x,g),cd(a,i,x))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var h=fn(),g=ms(i),x=Si(h,g);x.tag=2,a!=null&&(x.callback=a),a=ds(i,x,g),a!==null&&(xr(a,i,g,h),cd(a,i,g))}};function Uy(i,a,h,g,x,E,N){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,E,N):a.prototype&&a.prototype.isPureReactComponent?!zr(h,g)||!zr(x,E):!0}function Vy(i,a,h){var g=!1,x=ls,E=a.contextType;return typeof E=="object"&&E!==null?E=er(E):(x=yn(a)?no:en.current,g=a.contextTypes,E=(g=g!=null)?ga(i,x):ls),a=new a(h,E),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=vd,i.stateNode=a,a._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=E),a}function $y(i,a,h,g){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,g),a.state!==i&&vd.enqueueReplaceState(a,a.state,null)}function gp(i,a,h,g){var x=i.stateNode;x.props=h,x.state=i.memoizedState,x.refs={},np(i);var E=a.contextType;typeof E=="object"&&E!==null?x.context=er(E):(E=yn(a)?no:en.current,x.context=ga(i,E)),x.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(mp(i,a,E,h),x.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&vd.enqueueReplaceState(x,x.state,null),ud(i,h,x,g),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function Ea(i,a){try{var h="",g=a;do h+=he(g),g=g.return;while(g);var x=h}catch(E){x=`
Error generating stack: `+E.message+`
`+E.stack}return{value:i,source:a,stack:x,digest:null}}function vp(i,a,h){return{value:i,source:null,stack:h??null,digest:a??null}}function yp(i,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var _C=typeof WeakMap=="function"?WeakMap:Map;function Wy(i,a,h){h=Si(-1,h),h.tag=3,h.payload={element:null};var g=a.value;return h.callback=function(){Ed||(Ed=!0,jp=g),yp(i,a)},h}function Hy(i,a,h){h=Si(-1,h),h.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var x=a.value;h.payload=function(){return g(x)},h.callback=function(){yp(i,a)}}var E=i.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){yp(i,a),typeof g!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var N=a.stack;this.componentDidCatch(a.value,{componentStack:N!==null?N:""})}),h}function qy(i,a,h){var g=i.pingCache;if(g===null){g=i.pingCache=new _C;var x=new Set;g.set(a,x)}else x=g.get(a),x===void 0&&(x=new Set,g.set(a,x));x.has(h)||(x.add(h),i=jC.bind(null,i,a,h),a.then(i,i))}function Ky(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function Zy(i,a,h,g,x){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=Si(-1,1),a.tag=2,ds(h,a,1))),h.lanes|=1),i):(i.flags|=65536,i.lanes=x,i)}var wC=D.ReactCurrentOwner,_n=!1;function hn(i,a,h,g){a.child=i===null?py(a,null,h,g):wa(a,i.child,h,g)}function Gy(i,a,h,g,x){h=h.render;var E=a.ref;return ba(a,x),g=cp(i,a,h,g,E,x),h=up(),i!==null&&!_n?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~x,Ei(i,a,x)):(gt&&h&&qf(a),a.flags|=1,hn(i,a,g,x),a.child)}function Jy(i,a,h,g,x){if(i===null){var E=h.type;return typeof E=="function"&&!zp(E)&&E.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=E,Yy(i,a,E,g,x)):(i=Ad(h.type,null,g,a,a.mode,x),i.ref=a.ref,i.return=a,a.child=i)}if(E=i.child,(i.lanes&x)===0){var N=E.memoizedProps;if(h=h.compare,h=h!==null?h:zr,h(N,g)&&i.ref===a.ref)return Ei(i,a,x)}return a.flags|=1,i=vs(E,g),i.ref=a.ref,i.return=a,a.child=i}function Yy(i,a,h,g,x){if(i!==null){var E=i.memoizedProps;if(zr(E,g)&&i.ref===a.ref)if(_n=!1,a.pendingProps=g=E,(i.lanes&x)!==0)(i.flags&131072)!==0&&(_n=!0);else return a.lanes=i.lanes,Ei(i,a,x)}return _p(i,a,h,g,x)}function Xy(i,a,h){var g=a.pendingProps,x=g.children,E=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(Pa,Bn),Bn|=h;else{if((h&1073741824)===0)return i=E!==null?E.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,ut(Pa,Bn),Bn|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=E!==null?E.baseLanes:h,ut(Pa,Bn),Bn|=g}else E!==null?(g=E.baseLanes|h,a.memoizedState=null):g=h,ut(Pa,Bn),Bn|=g;return hn(i,a,x,h),a.child}function Qy(i,a){var h=a.ref;(i===null&&h!==null||i!==null&&i.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function _p(i,a,h,g,x){var E=yn(h)?no:en.current;return E=ga(a,E),ba(a,x),h=cp(i,a,h,g,E,x),g=up(),i!==null&&!_n?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~x,Ei(i,a,x)):(gt&&g&&qf(a),a.flags|=1,hn(i,a,h,x),a.child)}function e_(i,a,h,g,x){if(yn(h)){var E=!0;td(a)}else E=!1;if(ba(a,x),a.stateNode===null)_d(i,a),Vy(a,h,g),gp(a,h,g,x),g=!0;else if(i===null){var N=a.stateNode,M=a.memoizedProps;N.props=M;var U=N.context,Y=h.contextType;typeof Y=="object"&&Y!==null?Y=er(Y):(Y=yn(h)?no:en.current,Y=ga(a,Y));var ae=h.getDerivedStateFromProps,de=typeof ae=="function"||typeof N.getSnapshotBeforeUpdate=="function";de||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(M!==g||U!==Y)&&$y(a,N,g,Y),us=!1;var ie=a.memoizedState;N.state=ie,ud(a,g,N,x),U=a.memoizedState,M!==g||ie!==U||vn.current||us?(typeof ae=="function"&&(mp(a,h,ae,g),U=a.memoizedState),(M=us||Uy(a,h,M,g,ie,U,Y))?(de||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(a.flags|=4194308)):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=U),N.props=g,N.state=U,N.context=Y,g=M):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{N=a.stateNode,gy(i,a),M=a.memoizedProps,Y=a.type===a.elementType?M:yr(a.type,M),N.props=Y,de=a.pendingProps,ie=N.context,U=h.contextType,typeof U=="object"&&U!==null?U=er(U):(U=yn(h)?no:en.current,U=ga(a,U));var xe=h.getDerivedStateFromProps;(ae=typeof xe=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(M!==de||ie!==U)&&$y(a,N,g,U),us=!1,ie=a.memoizedState,N.state=ie,ud(a,g,N,x);var Te=a.memoizedState;M!==de||ie!==Te||vn.current||us?(typeof xe=="function"&&(mp(a,h,xe,g),Te=a.memoizedState),(Y=us||Uy(a,h,Y,g,ie,Te,U)||!1)?(ae||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(g,Te,U),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(g,Te,U)),typeof N.componentDidUpdate=="function"&&(a.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof N.componentDidUpdate!="function"||M===i.memoizedProps&&ie===i.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&ie===i.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=Te),N.props=g,N.state=Te,N.context=U,g=Y):(typeof N.componentDidUpdate!="function"||M===i.memoizedProps&&ie===i.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&ie===i.memoizedState||(a.flags|=1024),g=!1)}return wp(i,a,h,g,E,x)}function wp(i,a,h,g,x,E){Qy(i,a);var N=(a.flags&128)!==0;if(!g&&!N)return x&&sy(a,h,!1),Ei(i,a,E);g=a.stateNode,wC.current=a;var M=N&&typeof h.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,i!==null&&N?(a.child=wa(a,i.child,null,E),a.child=wa(a,null,M,E)):hn(i,a,M,E),a.memoizedState=g.state,x&&sy(a,h,!0),a.child}function t_(i){var a=i.stateNode;a.pendingContext?ry(i,a.pendingContext,a.pendingContext!==a.context):a.context&&ry(i,a.context,!1),rp(i,a.containerInfo)}function n_(i,a,h,g,x){return _a(),Jf(x),a.flags|=256,hn(i,a,h,g),a.child}var xp={dehydrated:null,treeContext:null,retryLane:0};function bp(i){return{baseLanes:i,cachePool:null,transitions:null}}function r_(i,a,h){var g=a.pendingProps,x=wt.current,E=!1,N=(a.flags&128)!==0,M;if((M=N)||(M=i!==null&&i.memoizedState===null?!1:(x&2)!==0),M?(E=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),ut(wt,x&1),i===null)return Gf(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(N=g.children,i=g.fallback,E?(g=a.mode,E=a.child,N={mode:"hidden",children:N},(g&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=N):E=Nd(N,g,0,null),i=fo(i,g,h,null),E.return=a,i.return=a,E.sibling=i,a.child=E,a.child.memoizedState=bp(h),a.memoizedState=xp,i):Sp(a,N));if(x=i.memoizedState,x!==null&&(M=x.dehydrated,M!==null))return xC(i,a,N,g,M,x,h);if(E){E=g.fallback,N=a.mode,x=i.child,M=x.sibling;var U={mode:"hidden",children:g.children};return(N&1)===0&&a.child!==x?(g=a.child,g.childLanes=0,g.pendingProps=U,a.deletions=null):(g=vs(x,U),g.subtreeFlags=x.subtreeFlags&14680064),M!==null?E=vs(M,E):(E=fo(E,N,h,null),E.flags|=2),E.return=a,g.return=a,g.sibling=E,a.child=g,g=E,E=a.child,N=i.child.memoizedState,N=N===null?bp(h):{baseLanes:N.baseLanes|h,cachePool:null,transitions:N.transitions},E.memoizedState=N,E.childLanes=i.childLanes&~h,a.memoizedState=xp,g}return E=i.child,i=E.sibling,g=vs(E,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=h),g.return=a,g.sibling=null,i!==null&&(h=a.deletions,h===null?(a.deletions=[i],a.flags|=16):h.push(i)),a.child=g,a.memoizedState=null,g}function Sp(i,a){return a=Nd({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function yd(i,a,h,g){return g!==null&&Jf(g),wa(a,i.child,null,h),i=Sp(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function xC(i,a,h,g,x,E,N){if(h)return a.flags&256?(a.flags&=-257,g=vp(Error(n(422))),yd(i,a,N,g)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(E=g.fallback,x=a.mode,g=Nd({mode:"visible",children:g.children},x,0,null),E=fo(E,x,N,null),E.flags|=2,g.return=a,E.return=a,g.sibling=E,a.child=g,(a.mode&1)!==0&&wa(a,i.child,null,N),a.child.memoizedState=bp(N),a.memoizedState=xp,E);if((a.mode&1)===0)return yd(i,a,N,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var M=g.dgst;return g=M,E=Error(n(419)),g=vp(E,g,void 0),yd(i,a,N,g)}if(M=(N&i.childLanes)!==0,_n||M){if(g=Ut,g!==null){switch(N&-N){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|N))!==0?0:x,x!==0&&x!==E.retryLane&&(E.retryLane=x,bi(i,x),xr(g,i,x,-1))}return Fp(),g=vp(Error(n(421))),yd(i,a,N,g)}return x.data==="$?"?(a.flags|=128,a.child=i.child,a=LC.bind(null,i),x._reactRetry=a,null):(i=E.treeContext,Mn=$r(x.nextSibling),Dn=a,gt=!0,vr=null,i!==null&&(Xn[Qn++]=wi,Xn[Qn++]=xi,Xn[Qn++]=ro,wi=i.id,xi=i.overflow,ro=a),a=Sp(a,g.children),a.flags|=4096,a)}function i_(i,a,h){i.lanes|=a;var g=i.alternate;g!==null&&(g.lanes|=a),ep(i.return,a,h)}function Ep(i,a,h,g,x){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:x}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=g,E.tail=h,E.tailMode=x)}function s_(i,a,h){var g=a.pendingProps,x=g.revealOrder,E=g.tail;if(hn(i,a,g.children,h),g=wt.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&i_(i,h,a);else if(i.tag===19)i_(i,h,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(ut(wt,g),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(h=a.child,x=null;h!==null;)i=h.alternate,i!==null&&dd(i)===null&&(x=h),h=h.sibling;h=x,h===null?(x=a.child,a.child=null):(x=h.sibling,h.sibling=null),Ep(a,!1,x,h,E);break;case"backwards":for(h=null,x=a.child,a.child=null;x!==null;){if(i=x.alternate,i!==null&&dd(i)===null){a.child=x;break}i=x.sibling,x.sibling=h,h=x,x=i}Ep(a,!0,h,null,E);break;case"together":Ep(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function _d(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function Ei(i,a,h){if(i!==null&&(a.dependencies=i.dependencies),lo|=a.lanes,(h&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,h=vs(i,i.pendingProps),a.child=h,h.return=a;i.sibling!==null;)i=i.sibling,h=h.sibling=vs(i,i.pendingProps),h.return=a;h.sibling=null}return a.child}function bC(i,a,h){switch(a.tag){case 3:t_(a),_a();break;case 5:_y(a);break;case 1:yn(a.type)&&td(a);break;case 4:rp(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,x=a.memoizedProps.value;ut(ad,g._currentValue),g._currentValue=x;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(ut(wt,wt.current&1),a.flags|=128,null):(h&a.child.childLanes)!==0?r_(i,a,h):(ut(wt,wt.current&1),i=Ei(i,a,h),i!==null?i.sibling:null);ut(wt,wt.current&1);break;case 19:if(g=(h&a.childLanes)!==0,(i.flags&128)!==0){if(g)return s_(i,a,h);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ut(wt,wt.current),g)break;return null;case 22:case 23:return a.lanes=0,Xy(i,a,h)}return Ei(i,a,h)}var o_,Tp,a_,l_;o_=function(i,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Tp=function(){},a_=function(i,a,h,g){var x=i.memoizedProps;if(x!==g){i=a.stateNode,oo(Wr.current);var E=null;switch(h){case"input":x=Gt(i,x),g=Gt(i,g),E=[];break;case"select":x=te({},x,{value:void 0}),g=te({},g,{value:void 0}),E=[];break;case"textarea":x=Mo(i,x),g=Mo(i,g),E=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=re)}Sl(h,g);var N;h=null;for(Y in x)if(!g.hasOwnProperty(Y)&&x.hasOwnProperty(Y)&&x[Y]!=null)if(Y==="style"){var M=x[Y];for(N in M)M.hasOwnProperty(N)&&(h||(h={}),h[N]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(o.hasOwnProperty(Y)?E||(E=[]):(E=E||[]).push(Y,null));for(Y in g){var U=g[Y];if(M=x!=null?x[Y]:void 0,g.hasOwnProperty(Y)&&U!==M&&(U!=null||M!=null))if(Y==="style")if(M){for(N in M)!M.hasOwnProperty(N)||U&&U.hasOwnProperty(N)||(h||(h={}),h[N]="");for(N in U)U.hasOwnProperty(N)&&M[N]!==U[N]&&(h||(h={}),h[N]=U[N])}else h||(E||(E=[]),E.push(Y,h)),h=U;else Y==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,M=M?M.__html:void 0,U!=null&&M!==U&&(E=E||[]).push(Y,U)):Y==="children"?typeof U!="string"&&typeof U!="number"||(E=E||[]).push(Y,""+U):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(o.hasOwnProperty(Y)?(U!=null&&Y==="onScroll"&&at("scroll",i),E||M===U||(E=[])):(E=E||[]).push(Y,U))}h&&(E=E||[]).push("style",h);var Y=E;(a.updateQueue=Y)&&(a.flags|=4)}},l_=function(i,a,h,g){h!==g&&(a.flags|=4)};function dc(i,a){if(!gt)switch(i.tailMode){case"hidden":a=i.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function nn(i){var a=i.alternate!==null&&i.alternate.child===i.child,h=0,g=0;if(a)for(var x=i.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=g,i.childLanes=h,a}function SC(i,a,h){var g=a.pendingProps;switch(Kf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(a),null;case 1:return yn(a.type)&&ed(),nn(a),null;case 3:return g=a.stateNode,Sa(),ft(vn),ft(en),op(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(sd(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,vr!==null&&(Dp(vr),vr=null))),Tp(i,a),nn(a),null;case 5:ip(a);var x=oo(oc.current);if(h=a.type,i!==null&&a.stateNode!=null)a_(i,a,h,g,x),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(n(166));return nn(a),null}if(i=oo(Wr.current),sd(a)){g=a.stateNode,h=a.type;var E=a.memoizedProps;switch(g[Yn]=a,g[ss]=E,i=(a.mode&1)!==0,h){case"dialog":at("cancel",g),at("close",g);break;case"iframe":case"object":case"embed":at("load",g);break;case"video":case"audio":for(x=0;x<ns.length;x++)at(ns[x],g);break;case"source":at("error",g);break;case"img":case"image":case"link":at("error",g),at("load",g);break;case"details":at("toggle",g);break;case"input":cr(g,E),at("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!E.multiple},at("invalid",g);break;case"textarea":xl(g,E),at("invalid",g)}Sl(h,E),x=null;for(var N in E)if(E.hasOwnProperty(N)){var M=E[N];N==="children"?typeof M=="string"?g.textContent!==M&&(E.suppressHydrationWarning!==!0&&J(g.textContent,M,i),x=["children",M]):typeof M=="number"&&g.textContent!==""+M&&(E.suppressHydrationWarning!==!0&&J(g.textContent,M,i),x=["children",""+M]):o.hasOwnProperty(N)&&M!=null&&N==="onScroll"&&at("scroll",g)}switch(h){case"input":Je(g),ni(g,E,!0);break;case"textarea":Je(g),vu(g);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(g.onclick=re)}g=x,a.updateQueue=g,g!==null&&(a.flags|=4)}else{N=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Bo(h)),i==="http://www.w3.org/1999/xhtml"?h==="script"?(i=N.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=N.createElement(h,{is:g.is}):(i=N.createElement(h),h==="select"&&(N=i,g.multiple?N.multiple=!0:g.size&&(N.size=g.size))):i=N.createElementNS(i,h),i[Yn]=a,i[ss]=g,o_(i,a,!1,!1),a.stateNode=i;e:{switch(N=ri(h,g),h){case"dialog":at("cancel",i),at("close",i),x=g;break;case"iframe":case"object":case"embed":at("load",i),x=g;break;case"video":case"audio":for(x=0;x<ns.length;x++)at(ns[x],i);x=g;break;case"source":at("error",i),x=g;break;case"img":case"image":case"link":at("error",i),at("load",i),x=g;break;case"details":at("toggle",i),x=g;break;case"input":cr(i,g),x=Gt(i,g),at("invalid",i);break;case"option":x=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},x=te({},g,{value:void 0}),at("invalid",i);break;case"textarea":xl(i,g),x=Mo(i,g),at("invalid",i);break;default:x=g}Sl(h,x),M=x;for(E in M)if(M.hasOwnProperty(E)){var U=M[E];E==="style"?zo(i,U):E==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&yu(i,U)):E==="children"?typeof U=="string"?(h!=="textarea"||U!=="")&&Bi(i,U):typeof U=="number"&&Bi(i,""+U):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(o.hasOwnProperty(E)?U!=null&&E==="onScroll"&&at("scroll",i):U!=null&&O(i,E,U,N))}switch(h){case"input":Je(i),ni(i,g,!1);break;case"textarea":Je(i),vu(i);break;case"option":g.value!=null&&i.setAttribute("value",""+Ee(g.value));break;case"select":i.multiple=!!g.multiple,E=g.value,E!=null?Lr(i,!!g.multiple,E,!1):g.defaultValue!=null&&Lr(i,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=re)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return nn(a),null;case 6:if(i&&a.stateNode!=null)l_(i,a,i.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(n(166));if(h=oo(oc.current),oo(Wr.current),sd(a)){if(g=a.stateNode,h=a.memoizedProps,g[Yn]=a,(E=g.nodeValue!==h)&&(i=Dn,i!==null))switch(i.tag){case 3:J(g.nodeValue,h,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&J(g.nodeValue,h,(i.mode&1)!==0)}E&&(a.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[Yn]=a,a.stateNode=g}return nn(a),null;case 13:if(ft(wt),g=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(gt&&Mn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)dy(),_a(),a.flags|=98560,E=!1;else if(E=sd(a),g!==null&&g.dehydrated!==null){if(i===null){if(!E)throw Error(n(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Yn]=a}else _a(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;nn(a),E=!1}else vr!==null&&(Dp(vr),vr=null),E=!0;if(!E)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=h,a):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(wt.current&1)!==0?Bt===0&&(Bt=3):Fp())),a.updateQueue!==null&&(a.flags|=4),nn(a),null);case 4:return Sa(),Tp(i,a),i===null&&rs(a.stateNode.containerInfo),nn(a),null;case 10:return Qf(a.type._context),nn(a),null;case 17:return yn(a.type)&&ed(),nn(a),null;case 19:if(ft(wt),E=a.memoizedState,E===null)return nn(a),null;if(g=(a.flags&128)!==0,N=E.rendering,N===null)if(g)dc(E,!1);else{if(Bt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(N=dd(i),N!==null){for(a.flags|=128,dc(E,!1),g=N.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=h,h=a.child;h!==null;)E=h,i=g,E.flags&=14680066,N=E.alternate,N===null?(E.childLanes=0,E.lanes=i,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=N.childLanes,E.lanes=N.lanes,E.child=N.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=N.memoizedProps,E.memoizedState=N.memoizedState,E.updateQueue=N.updateQueue,E.type=N.type,i=N.dependencies,E.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),h=h.sibling;return ut(wt,wt.current&1|2),a.child}i=i.sibling}E.tail!==null&&yt()>Ca&&(a.flags|=128,g=!0,dc(E,!1),a.lanes=4194304)}else{if(!g)if(i=dd(N),i!==null){if(a.flags|=128,g=!0,h=i.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),dc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!N.alternate&&!gt)return nn(a),null}else 2*yt()-E.renderingStartTime>Ca&&h!==1073741824&&(a.flags|=128,g=!0,dc(E,!1),a.lanes=4194304);E.isBackwards?(N.sibling=a.child,a.child=N):(h=E.last,h!==null?h.sibling=N:a.child=N,E.last=N)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=yt(),a.sibling=null,h=wt.current,ut(wt,g?h&1|2:h&1),a):(nn(a),null);case 22:case 23:return Bp(),g=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(Bn&1073741824)!==0&&(nn(a),a.subtreeFlags&6&&(a.flags|=8192)):nn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function EC(i,a){switch(Kf(a),a.tag){case 1:return yn(a.type)&&ed(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Sa(),ft(vn),ft(en),op(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return ip(a),null;case 13:if(ft(wt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));_a()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ft(wt),null;case 4:return Sa(),null;case 10:return Qf(a.type._context),null;case 22:case 23:return Bp(),null;case 24:return null;default:return null}}var wd=!1,rn=!1,TC=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Ta(i,a){var h=i.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){Tt(i,a,g)}else h.current=null}function Pp(i,a,h){try{h()}catch(g){Tt(i,a,g)}}var c_=!1;function PC(i,a){if(we=Zs,i=Zl(),Gl(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var x=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var N=0,M=-1,U=-1,Y=0,ae=0,de=i,ie=null;t:for(;;){for(var xe;de!==h||x!==0&&de.nodeType!==3||(M=N+x),de!==E||g!==0&&de.nodeType!==3||(U=N+g),de.nodeType===3&&(N+=de.nodeValue.length),(xe=de.firstChild)!==null;)ie=de,de=xe;for(;;){if(de===i)break t;if(ie===h&&++Y===x&&(M=N),ie===E&&++ae===g&&(U=N),(xe=de.nextSibling)!==null)break;de=ie,ie=de.parentNode}de=xe}h=M===-1||U===-1?null:{start:M,end:U}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ae={focusedElem:i,selectionRange:h},Zs=!1,Se=a;Se!==null;)if(a=Se,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Se=i;else for(;Se!==null;){a=Se;try{var Te=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Pe=Te.memoizedProps,kt=Te.memoizedState,K=a.stateNode,$=K.getSnapshotBeforeUpdate(a.elementType===a.type?Pe:yr(a.type,Pe),kt);K.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var Z=a.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(fe){Tt(a,a.return,fe)}if(i=a.sibling,i!==null){i.return=a.return,Se=i;break}Se=a.return}return Te=c_,c_=!1,Te}function hc(i,a,h){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&i)===i){var E=x.destroy;x.destroy=void 0,E!==void 0&&Pp(a,h,E)}x=x.next}while(x!==g)}}function xd(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&i)===i){var g=h.create;h.destroy=g()}h=h.next}while(h!==a)}}function Cp(i){var a=i.ref;if(a!==null){var h=i.stateNode;switch(i.tag){case 5:i=h;break;default:i=h}typeof a=="function"?a(i):a.current=i}}function u_(i){var a=i.alternate;a!==null&&(i.alternate=null,u_(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Yn],delete a[ss],delete a[os],delete a[Vf],delete a[$f])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function d_(i){return i.tag===5||i.tag===3||i.tag===4}function h_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||d_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function kp(i,a,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(i,a):h.insertBefore(i,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(i,h)):(a=h,a.appendChild(i)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=re));else if(g!==4&&(i=i.child,i!==null))for(kp(i,a,h),i=i.sibling;i!==null;)kp(i,a,h),i=i.sibling}function Rp(i,a,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?h.insertBefore(i,a):h.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Rp(i,a,h),i=i.sibling;i!==null;)Rp(i,a,h),i=i.sibling}var $t=null,_r=!1;function hs(i,a,h){for(h=h.child;h!==null;)f_(i,a,h),h=h.sibling}function f_(i,a,h){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Vs,h)}catch{}switch(h.tag){case 5:rn||Ta(h,a);case 6:var g=$t,x=_r;$t=null,hs(i,a,h),$t=g,_r=x,$t!==null&&(_r?(i=$t,h=h.stateNode,i.nodeType===8?i.parentNode.removeChild(h):i.removeChild(h)):$t.removeChild(h.stateNode));break;case 18:$t!==null&&(_r?(i=$t,h=h.stateNode,i.nodeType===8?nc(i.parentNode,h):i.nodeType===1&&nc(i,h),Nn(i)):nc($t,h.stateNode));break;case 4:g=$t,x=_r,$t=h.stateNode.containerInfo,_r=!0,hs(i,a,h),$t=g,_r=x;break;case 0:case 11:case 14:case 15:if(!rn&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var E=x,N=E.destroy;E=E.tag,N!==void 0&&((E&2)!==0||(E&4)!==0)&&Pp(h,a,N),x=x.next}while(x!==g)}hs(i,a,h);break;case 1:if(!rn&&(Ta(h,a),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(M){Tt(h,a,M)}hs(i,a,h);break;case 21:hs(i,a,h);break;case 22:h.mode&1?(rn=(g=rn)||h.memoizedState!==null,hs(i,a,h),rn=g):hs(i,a,h);break;default:hs(i,a,h)}}function p_(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var h=i.stateNode;h===null&&(h=i.stateNode=new TC),a.forEach(function(g){var x=IC.bind(null,i,g);h.has(g)||(h.add(g),g.then(x,x))})}}function wr(i,a){var h=a.deletions;if(h!==null)for(var g=0;g<h.length;g++){var x=h[g];try{var E=i,N=a,M=N;e:for(;M!==null;){switch(M.tag){case 5:$t=M.stateNode,_r=!1;break e;case 3:$t=M.stateNode.containerInfo,_r=!0;break e;case 4:$t=M.stateNode.containerInfo,_r=!0;break e}M=M.return}if($t===null)throw Error(n(160));f_(E,N,x),$t=null,_r=!1;var U=x.alternate;U!==null&&(U.return=null),x.return=null}catch(Y){Tt(x,a,Y)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)m_(a,i),a=a.sibling}function m_(i,a){var h=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(wr(a,i),qr(i),g&4){try{hc(3,i,i.return),xd(3,i)}catch(Pe){Tt(i,i.return,Pe)}try{hc(5,i,i.return)}catch(Pe){Tt(i,i.return,Pe)}}break;case 1:wr(a,i),qr(i),g&512&&h!==null&&Ta(h,h.return);break;case 5:if(wr(a,i),qr(i),g&512&&h!==null&&Ta(h,h.return),i.flags&32){var x=i.stateNode;try{Bi(x,"")}catch(Pe){Tt(i,i.return,Pe)}}if(g&4&&(x=i.stateNode,x!=null)){var E=i.memoizedProps,N=h!==null?h.memoizedProps:E,M=i.type,U=i.updateQueue;if(i.updateQueue=null,U!==null)try{M==="input"&&E.type==="radio"&&E.name!=null&&ur(x,E),ri(M,N);var Y=ri(M,E);for(N=0;N<U.length;N+=2){var ae=U[N],de=U[N+1];ae==="style"?zo(x,de):ae==="dangerouslySetInnerHTML"?yu(x,de):ae==="children"?Bi(x,de):O(x,ae,de,Y)}switch(M){case"input":Cn(x,E);break;case"textarea":gu(x,E);break;case"select":var ie=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!E.multiple;var xe=E.value;xe!=null?Lr(x,!!E.multiple,xe,!1):ie!==!!E.multiple&&(E.defaultValue!=null?Lr(x,!!E.multiple,E.defaultValue,!0):Lr(x,!!E.multiple,E.multiple?[]:"",!1))}x[ss]=E}catch(Pe){Tt(i,i.return,Pe)}}break;case 6:if(wr(a,i),qr(i),g&4){if(i.stateNode===null)throw Error(n(162));x=i.stateNode,E=i.memoizedProps;try{x.nodeValue=E}catch(Pe){Tt(i,i.return,Pe)}}break;case 3:if(wr(a,i),qr(i),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Nn(a.containerInfo)}catch(Pe){Tt(i,i.return,Pe)}break;case 4:wr(a,i),qr(i);break;case 13:wr(a,i),qr(i),x=i.child,x.flags&8192&&(E=x.memoizedState!==null,x.stateNode.isHidden=E,!E||x.alternate!==null&&x.alternate.memoizedState!==null||(Op=yt())),g&4&&p_(i);break;case 22:if(ae=h!==null&&h.memoizedState!==null,i.mode&1?(rn=(Y=rn)||ae,wr(a,i),rn=Y):wr(a,i),qr(i),g&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!ae&&(i.mode&1)!==0)for(Se=i,ae=i.child;ae!==null;){for(de=Se=ae;Se!==null;){switch(ie=Se,xe=ie.child,ie.tag){case 0:case 11:case 14:case 15:hc(4,ie,ie.return);break;case 1:Ta(ie,ie.return);var Te=ie.stateNode;if(typeof Te.componentWillUnmount=="function"){g=ie,h=ie.return;try{a=g,Te.props=a.memoizedProps,Te.state=a.memoizedState,Te.componentWillUnmount()}catch(Pe){Tt(g,h,Pe)}}break;case 5:Ta(ie,ie.return);break;case 22:if(ie.memoizedState!==null){y_(de);continue}}xe!==null?(xe.return=ie,Se=xe):y_(de)}ae=ae.sibling}e:for(ae=null,de=i;;){if(de.tag===5){if(ae===null){ae=de;try{x=de.stateNode,Y?(E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(M=de.stateNode,U=de.memoizedProps.style,N=U!=null&&U.hasOwnProperty("display")?U.display:null,M.style.display=bl("display",N))}catch(Pe){Tt(i,i.return,Pe)}}}else if(de.tag===6){if(ae===null)try{de.stateNode.nodeValue=Y?"":de.memoizedProps}catch(Pe){Tt(i,i.return,Pe)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===i)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===i)break e;for(;de.sibling===null;){if(de.return===null||de.return===i)break e;ae===de&&(ae=null),de=de.return}ae===de&&(ae=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:wr(a,i),qr(i),g&4&&p_(i);break;case 21:break;default:wr(a,i),qr(i)}}function qr(i){var a=i.flags;if(a&2){try{e:{for(var h=i.return;h!==null;){if(d_(h)){var g=h;break e}h=h.return}throw Error(n(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(Bi(x,""),g.flags&=-33);var E=h_(i);Rp(i,E,x);break;case 3:case 4:var N=g.stateNode.containerInfo,M=h_(i);kp(i,M,N);break;default:throw Error(n(161))}}catch(U){Tt(i,i.return,U)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function CC(i,a,h){Se=i,g_(i)}function g_(i,a,h){for(var g=(i.mode&1)!==0;Se!==null;){var x=Se,E=x.child;if(x.tag===22&&g){var N=x.memoizedState!==null||wd;if(!N){var M=x.alternate,U=M!==null&&M.memoizedState!==null||rn;M=wd;var Y=rn;if(wd=N,(rn=U)&&!Y)for(Se=x;Se!==null;)N=Se,U=N.child,N.tag===22&&N.memoizedState!==null?__(x):U!==null?(U.return=N,Se=U):__(x);for(;E!==null;)Se=E,g_(E),E=E.sibling;Se=x,wd=M,rn=Y}v_(i)}else(x.subtreeFlags&8772)!==0&&E!==null?(E.return=x,Se=E):v_(i)}}function v_(i){for(;Se!==null;){var a=Se;if((a.flags&8772)!==0){var h=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:rn||xd(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!rn)if(h===null)g.componentDidMount();else{var x=a.elementType===a.type?h.memoizedProps:yr(a.type,h.memoizedProps);g.componentDidUpdate(x,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&yy(a,E,g);break;case 3:var N=a.updateQueue;if(N!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}yy(a,N,h)}break;case 5:var M=a.stateNode;if(h===null&&a.flags&4){h=M;var U=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&h.focus();break;case"img":U.src&&(h.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Y=a.alternate;if(Y!==null){var ae=Y.memoizedState;if(ae!==null){var de=ae.dehydrated;de!==null&&Nn(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rn||a.flags&512&&Cp(a)}catch(ie){Tt(a,a.return,ie)}}if(a===i){Se=null;break}if(h=a.sibling,h!==null){h.return=a.return,Se=h;break}Se=a.return}}function y_(i){for(;Se!==null;){var a=Se;if(a===i){Se=null;break}var h=a.sibling;if(h!==null){h.return=a.return,Se=h;break}Se=a.return}}function __(i){for(;Se!==null;){var a=Se;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{xd(4,a)}catch(U){Tt(a,h,U)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var x=a.return;try{g.componentDidMount()}catch(U){Tt(a,x,U)}}var E=a.return;try{Cp(a)}catch(U){Tt(a,E,U)}break;case 5:var N=a.return;try{Cp(a)}catch(U){Tt(a,N,U)}}}catch(U){Tt(a,a.return,U)}if(a===i){Se=null;break}var M=a.sibling;if(M!==null){M.return=a.return,Se=M;break}Se=a.return}}var kC=Math.ceil,bd=D.ReactCurrentDispatcher,Ap=D.ReactCurrentOwner,nr=D.ReactCurrentBatchConfig,nt=0,Ut=null,jt=null,Wt=0,Bn=0,Pa=as(0),Bt=0,fc=null,lo=0,Sd=0,Np=0,pc=null,wn=null,Op=0,Ca=1/0,Ti=null,Ed=!1,jp=null,fs=null,Td=!1,ps=null,Pd=0,mc=0,Lp=null,Cd=-1,kd=0;function fn(){return(nt&6)!==0?yt():Cd!==-1?Cd:Cd=yt()}function ms(i){return(i.mode&1)===0?1:(nt&2)!==0&&Wt!==0?Wt&-Wt:dC.transition!==null?(kd===0&&(kd=Nu()),kd):(i=tt,i!==0||(i=window.event,i=i===void 0?16:Xe(i.type)),i)}function xr(i,a,h,g){if(50<mc)throw mc=0,Lp=null,Error(n(185));Rn(i,h,g),((nt&2)===0||i!==Ut)&&(i===Ut&&((nt&2)===0&&(Sd|=h),Bt===4&&gs(i,Wt)),xn(i,g),h===1&&nt===0&&(a.mode&1)===0&&(Ca=yt()+500,nd&&cs()))}function xn(i,a){var h=i.callbackNode;Ko(i,a);var g=ct(i,i===Ut?Wt:0);if(g===0)h!==null&&Al(h),i.callbackNode=null,i.callbackPriority=0;else if(a=g&-g,i.callbackPriority!==a){if(h!=null&&Al(h),a===1)i.tag===0?uC(x_.bind(null,i)):oy(x_.bind(null,i)),Qt(function(){(nt&6)===0&&cs()}),h=null;else{switch(Wi(g)){case 1:h=Nl;break;case 4:h=Au;break;case 16:h=Ho;break;case 536870912:h=zi;break;default:h=Ho}h=R_(h,w_.bind(null,i))}i.callbackPriority=a,i.callbackNode=h}}function w_(i,a){if(Cd=-1,kd=0,(nt&6)!==0)throw Error(n(327));var h=i.callbackNode;if(ka()&&i.callbackNode!==h)return null;var g=ct(i,i===Ut?Wt:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||a)a=Rd(i,g);else{a=g;var x=nt;nt|=2;var E=S_();(Ut!==i||Wt!==a)&&(Ti=null,Ca=yt()+500,uo(i,a));do try{NC();break}catch(M){b_(i,M)}while(!0);Xf(),bd.current=E,nt=x,jt!==null?a=0:(Ut=null,Wt=0,a=Bt)}if(a!==0){if(a===2&&(x=Yt(i),x!==0&&(g=x,a=Ip(i,x))),a===1)throw h=fc,uo(i,0),gs(i,g),xn(i,yt()),h;if(a===6)gs(i,g);else{if(x=i.current.alternate,(g&30)===0&&!RC(x)&&(a=Rd(i,g),a===2&&(E=Yt(i),E!==0&&(g=E,a=Ip(i,E))),a===1))throw h=fc,uo(i,0),gs(i,g),xn(i,yt()),h;switch(i.finishedWork=x,i.finishedLanes=g,a){case 0:case 1:throw Error(n(345));case 2:ho(i,wn,Ti);break;case 3:if(gs(i,g),(g&130023424)===g&&(a=Op+500-yt(),10<a)){if(ct(i,0)!==0)break;if(x=i.suspendedLanes,(x&g)!==g){fn(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=Dt(ho.bind(null,i,wn,Ti),a);break}ho(i,wn,Ti);break;case 4:if(gs(i,g),(g&4194240)===g)break;for(a=i.eventTimes,x=-1;0<g;){var N=31-Ve(g);E=1<<N,N=a[N],N>x&&(x=N),g&=~E}if(g=x,g=yt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*kC(g/1960))-g,10<g){i.timeoutHandle=Dt(ho.bind(null,i,wn,Ti),g);break}ho(i,wn,Ti);break;case 5:ho(i,wn,Ti);break;default:throw Error(n(329))}}}return xn(i,yt()),i.callbackNode===h?w_.bind(null,i):null}function Ip(i,a){var h=pc;return i.current.memoizedState.isDehydrated&&(uo(i,a).flags|=256),i=Rd(i,a),i!==2&&(a=wn,wn=h,a!==null&&Dp(a)),i}function Dp(i){wn===null?wn=i:wn.push.apply(wn,i)}function RC(i){for(var a=i;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var x=h[g],E=x.getSnapshot;x=x.value;try{if(!Ln(E(),x))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function gs(i,a){for(a&=~Np,a&=~Sd,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var h=31-Ve(a),g=1<<h;i[h]=-1,a&=~g}}function x_(i){if((nt&6)!==0)throw Error(n(327));ka();var a=ct(i,0);if((a&1)===0)return xn(i,yt()),null;var h=Rd(i,a);if(i.tag!==0&&h===2){var g=Yt(i);g!==0&&(a=g,h=Ip(i,g))}if(h===1)throw h=fc,uo(i,0),gs(i,a),xn(i,yt()),h;if(h===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,ho(i,wn,Ti),xn(i,yt()),null}function Mp(i,a){var h=nt;nt|=1;try{return i(a)}finally{nt=h,nt===0&&(Ca=yt()+500,nd&&cs())}}function co(i){ps!==null&&ps.tag===0&&(nt&6)===0&&ka();var a=nt;nt|=1;var h=nr.transition,g=tt;try{if(nr.transition=null,tt=1,i)return i()}finally{tt=g,nr.transition=h,nt=a,(nt&6)===0&&cs()}}function Bp(){Bn=Pa.current,ft(Pa)}function uo(i,a){i.finishedWork=null,i.finishedLanes=0;var h=i.timeoutHandle;if(h!==-1&&(i.timeoutHandle=-1,Ot(h)),jt!==null)for(h=jt.return;h!==null;){var g=h;switch(Kf(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&ed();break;case 3:Sa(),ft(vn),ft(en),op();break;case 5:ip(g);break;case 4:Sa();break;case 13:ft(wt);break;case 19:ft(wt);break;case 10:Qf(g.type._context);break;case 22:case 23:Bp()}h=h.return}if(Ut=i,jt=i=vs(i.current,null),Wt=Bn=a,Bt=0,fc=null,Np=Sd=lo=0,wn=pc=null,so!==null){for(a=0;a<so.length;a++)if(h=so[a],g=h.interleaved,g!==null){h.interleaved=null;var x=g.next,E=h.pending;if(E!==null){var N=E.next;E.next=x,g.next=N}h.pending=g}so=null}return i}function b_(i,a){do{var h=jt;try{if(Xf(),hd.current=gd,fd){for(var g=xt.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}fd=!1}if(ao=0,zt=Mt=xt=null,ac=!1,lc=0,Ap.current=null,h===null||h.return===null){Bt=1,fc=a,jt=null;break}e:{var E=i,N=h.return,M=h,U=a;if(a=Wt,M.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var Y=U,ae=M,de=ae.tag;if((ae.mode&1)===0&&(de===0||de===11||de===15)){var ie=ae.alternate;ie?(ae.updateQueue=ie.updateQueue,ae.memoizedState=ie.memoizedState,ae.lanes=ie.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var xe=Ky(N);if(xe!==null){xe.flags&=-257,Zy(xe,N,M,E,a),xe.mode&1&&qy(E,Y,a),a=xe,U=Y;var Te=a.updateQueue;if(Te===null){var Pe=new Set;Pe.add(U),a.updateQueue=Pe}else Te.add(U);break e}else{if((a&1)===0){qy(E,Y,a),Fp();break e}U=Error(n(426))}}else if(gt&&M.mode&1){var kt=Ky(N);if(kt!==null){(kt.flags&65536)===0&&(kt.flags|=256),Zy(kt,N,M,E,a),Jf(Ea(U,M));break e}}E=U=Ea(U,M),Bt!==4&&(Bt=2),pc===null?pc=[E]:pc.push(E),E=N;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var K=Wy(E,U,a);vy(E,K);break e;case 1:M=U;var $=E.type,Z=E.stateNode;if((E.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(fs===null||!fs.has(Z)))){E.flags|=65536,a&=-a,E.lanes|=a;var fe=Hy(E,M,a);vy(E,fe);break e}}E=E.return}while(E!==null)}T_(h)}catch(ke){a=ke,jt===h&&h!==null&&(jt=h=h.return);continue}break}while(!0)}function S_(){var i=bd.current;return bd.current=gd,i===null?gd:i}function Fp(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Ut===null||(lo&268435455)===0&&(Sd&268435455)===0||gs(Ut,Wt)}function Rd(i,a){var h=nt;nt|=2;var g=S_();(Ut!==i||Wt!==a)&&(Ti=null,uo(i,a));do try{AC();break}catch(x){b_(i,x)}while(!0);if(Xf(),nt=h,bd.current=g,jt!==null)throw Error(n(261));return Ut=null,Wt=0,Bt}function AC(){for(;jt!==null;)E_(jt)}function NC(){for(;jt!==null&&!Pf();)E_(jt)}function E_(i){var a=k_(i.alternate,i,Bn);i.memoizedProps=i.pendingProps,a===null?T_(i):jt=a,Ap.current=null}function T_(i){var a=i;do{var h=a.alternate;if(i=a.return,(a.flags&32768)===0){if(h=SC(h,a,Bn),h!==null){jt=h;return}}else{if(h=EC(h,a),h!==null){h.flags&=32767,jt=h;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Bt=6,jt=null;return}}if(a=a.sibling,a!==null){jt=a;return}jt=a=i}while(a!==null);Bt===0&&(Bt=5)}function ho(i,a,h){var g=tt,x=nr.transition;try{nr.transition=null,tt=1,OC(i,a,h,g)}finally{nr.transition=x,tt=g}return null}function OC(i,a,h,g){do ka();while(ps!==null);if((nt&6)!==0)throw Error(n(327));h=i.finishedWork;var x=i.finishedLanes;if(h===null)return null;if(i.finishedWork=null,i.finishedLanes=0,h===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var E=h.lanes|h.childLanes;if(Et(i,E),i===Ut&&(jt=Ut=null,Wt=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Td||(Td=!0,R_(Ho,function(){return ka(),null})),E=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||E){E=nr.transition,nr.transition=null;var N=tt;tt=1;var M=nt;nt|=4,Ap.current=null,PC(i,h),m_(h,i),Gn(Ae),Zs=!!we,Ae=we=null,i.current=h,CC(h),Wo(),nt=M,tt=N,nr.transition=E}else i.current=h;if(Td&&(Td=!1,ps=i,Pd=x),E=i.pendingLanes,E===0&&(fs=null),$s(h.stateNode),xn(i,yt()),a!==null)for(g=i.onRecoverableError,h=0;h<a.length;h++)x=a[h],g(x.value,{componentStack:x.stack,digest:x.digest});if(Ed)throw Ed=!1,i=jp,jp=null,i;return(Pd&1)!==0&&i.tag!==0&&ka(),E=i.pendingLanes,(E&1)!==0?i===Lp?mc++:(mc=0,Lp=i):mc=0,cs(),null}function ka(){if(ps!==null){var i=Wi(Pd),a=nr.transition,h=tt;try{if(nr.transition=null,tt=16>i?16:i,ps===null)var g=!1;else{if(i=ps,ps=null,Pd=0,(nt&6)!==0)throw Error(n(331));var x=nt;for(nt|=4,Se=i.current;Se!==null;){var E=Se,N=E.child;if((Se.flags&16)!==0){var M=E.deletions;if(M!==null){for(var U=0;U<M.length;U++){var Y=M[U];for(Se=Y;Se!==null;){var ae=Se;switch(ae.tag){case 0:case 11:case 15:hc(8,ae,E)}var de=ae.child;if(de!==null)de.return=ae,Se=de;else for(;Se!==null;){ae=Se;var ie=ae.sibling,xe=ae.return;if(u_(ae),ae===Y){Se=null;break}if(ie!==null){ie.return=xe,Se=ie;break}Se=xe}}}var Te=E.alternate;if(Te!==null){var Pe=Te.child;if(Pe!==null){Te.child=null;do{var kt=Pe.sibling;Pe.sibling=null,Pe=kt}while(Pe!==null)}}Se=E}}if((E.subtreeFlags&2064)!==0&&N!==null)N.return=E,Se=N;else e:for(;Se!==null;){if(E=Se,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:hc(9,E,E.return)}var K=E.sibling;if(K!==null){K.return=E.return,Se=K;break e}Se=E.return}}var $=i.current;for(Se=$;Se!==null;){N=Se;var Z=N.child;if((N.subtreeFlags&2064)!==0&&Z!==null)Z.return=N,Se=Z;else e:for(N=$;Se!==null;){if(M=Se,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:xd(9,M)}}catch(ke){Tt(M,M.return,ke)}if(M===N){Se=null;break e}var fe=M.sibling;if(fe!==null){fe.return=M.return,Se=fe;break e}Se=M.return}}if(nt=x,cs(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Vs,i)}catch{}g=!0}return g}finally{tt=h,nr.transition=a}}return!1}function P_(i,a,h){a=Ea(h,a),a=Wy(i,a,1),i=ds(i,a,1),a=fn(),i!==null&&(Rn(i,1,a),xn(i,a))}function Tt(i,a,h){if(i.tag===3)P_(i,i,h);else for(;a!==null;){if(a.tag===3){P_(a,i,h);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(fs===null||!fs.has(g))){i=Ea(h,i),i=Hy(a,i,1),a=ds(a,i,1),i=fn(),a!==null&&(Rn(a,1,i),xn(a,i));break}}a=a.return}}function jC(i,a,h){var g=i.pingCache;g!==null&&g.delete(a),a=fn(),i.pingedLanes|=i.suspendedLanes&h,Ut===i&&(Wt&h)===h&&(Bt===4||Bt===3&&(Wt&130023424)===Wt&&500>yt()-Op?uo(i,0):Np|=h),xn(i,a)}function C_(i,a){a===0&&((i.mode&1)===0?a=1:(a=Vi,Vi<<=1,(Vi&130023424)===0&&(Vi=4194304)));var h=fn();i=bi(i,a),i!==null&&(Rn(i,a,h),xn(i,h))}function LC(i){var a=i.memoizedState,h=0;a!==null&&(h=a.retryLane),C_(i,h)}function IC(i,a){var h=0;switch(i.tag){case 13:var g=i.stateNode,x=i.memoizedState;x!==null&&(h=x.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(a),C_(i,h)}var k_;k_=function(i,a,h){if(i!==null)if(i.memoizedProps!==a.pendingProps||vn.current)_n=!0;else{if((i.lanes&h)===0&&(a.flags&128)===0)return _n=!1,bC(i,a,h);_n=(i.flags&131072)!==0}else _n=!1,gt&&(a.flags&1048576)!==0&&ay(a,id,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;_d(i,a),i=a.pendingProps;var x=ga(a,en.current);ba(a,h),x=cp(null,a,g,i,x,h);var E=up();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,yn(g)?(E=!0,td(a)):E=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,np(a),x.updater=vd,a.stateNode=x,x._reactInternals=a,gp(a,g,i,h),a=wp(null,a,g,!0,E,h)):(a.tag=0,gt&&E&&qf(a),hn(null,a,x,h),a=a.child),a;case 16:g=a.elementType;e:{switch(_d(i,a),i=a.pendingProps,x=g._init,g=x(g._payload),a.type=g,x=a.tag=MC(g),i=yr(g,i),x){case 0:a=_p(null,a,g,i,h);break e;case 1:a=e_(null,a,g,i,h);break e;case 11:a=Gy(null,a,g,i,h);break e;case 14:a=Jy(null,a,g,yr(g.type,i),h);break e}throw Error(n(306,g,""))}return a;case 0:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:yr(g,x),_p(i,a,g,x,h);case 1:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:yr(g,x),e_(i,a,g,x,h);case 3:e:{if(t_(a),i===null)throw Error(n(387));g=a.pendingProps,E=a.memoizedState,x=E.element,gy(i,a),ud(a,g,null,h);var N=a.memoizedState;if(g=N.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){x=Ea(Error(n(423)),a),a=n_(i,a,g,h,x);break e}else if(g!==x){x=Ea(Error(n(424)),a),a=n_(i,a,g,h,x);break e}else for(Mn=$r(a.stateNode.containerInfo.firstChild),Dn=a,gt=!0,vr=null,h=py(a,null,g,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(_a(),g===x){a=Ei(i,a,h);break e}hn(i,a,g,h)}a=a.child}return a;case 5:return _y(a),i===null&&Gf(a),g=a.type,x=a.pendingProps,E=i!==null?i.memoizedProps:null,N=x.children,We(g,x)?N=null:E!==null&&We(g,E)&&(a.flags|=32),Qy(i,a),hn(i,a,N,h),a.child;case 6:return i===null&&Gf(a),null;case 13:return r_(i,a,h);case 4:return rp(a,a.stateNode.containerInfo),g=a.pendingProps,i===null?a.child=wa(a,null,g,h):hn(i,a,g,h),a.child;case 11:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:yr(g,x),Gy(i,a,g,x,h);case 7:return hn(i,a,a.pendingProps,h),a.child;case 8:return hn(i,a,a.pendingProps.children,h),a.child;case 12:return hn(i,a,a.pendingProps.children,h),a.child;case 10:e:{if(g=a.type._context,x=a.pendingProps,E=a.memoizedProps,N=x.value,ut(ad,g._currentValue),g._currentValue=N,E!==null)if(Ln(E.value,N)){if(E.children===x.children&&!vn.current){a=Ei(i,a,h);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var M=E.dependencies;if(M!==null){N=E.child;for(var U=M.firstContext;U!==null;){if(U.context===g){if(E.tag===1){U=Si(-1,h&-h),U.tag=2;var Y=E.updateQueue;if(Y!==null){Y=Y.shared;var ae=Y.pending;ae===null?U.next=U:(U.next=ae.next,ae.next=U),Y.pending=U}}E.lanes|=h,U=E.alternate,U!==null&&(U.lanes|=h),ep(E.return,h,a),M.lanes|=h;break}U=U.next}}else if(E.tag===10)N=E.type===a.type?null:E.child;else if(E.tag===18){if(N=E.return,N===null)throw Error(n(341));N.lanes|=h,M=N.alternate,M!==null&&(M.lanes|=h),ep(N,h,a),N=E.sibling}else N=E.child;if(N!==null)N.return=E;else for(N=E;N!==null;){if(N===a){N=null;break}if(E=N.sibling,E!==null){E.return=N.return,N=E;break}N=N.return}E=N}hn(i,a,x.children,h),a=a.child}return a;case 9:return x=a.type,g=a.pendingProps.children,ba(a,h),x=er(x),g=g(x),a.flags|=1,hn(i,a,g,h),a.child;case 14:return g=a.type,x=yr(g,a.pendingProps),x=yr(g.type,x),Jy(i,a,g,x,h);case 15:return Yy(i,a,a.type,a.pendingProps,h);case 17:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:yr(g,x),_d(i,a),a.tag=1,yn(g)?(i=!0,td(a)):i=!1,ba(a,h),Vy(a,g,x),gp(a,g,x,h),wp(null,a,g,!0,i,h);case 19:return s_(i,a,h);case 22:return Xy(i,a,h)}throw Error(n(156,a.tag))};function R_(i,a){return Ru(i,a)}function DC(i,a,h,g){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(i,a,h,g){return new DC(i,a,h,g)}function zp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function MC(i){if(typeof i=="function")return zp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===le)return 11;if(i===se)return 14}return 2}function vs(i,a){var h=i.alternate;return h===null?(h=rr(i.tag,a,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=a,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&14680064,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,a=i.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h}function Ad(i,a,h,g,x,E){var N=2;if(g=i,typeof i=="function")zp(i)&&(N=1);else if(typeof i=="string")N=5;else e:switch(i){case H:return fo(h.children,x,E,a);case X:N=8,x|=8;break;case ue:return i=rr(12,h,a,x|2),i.elementType=ue,i.lanes=E,i;case be:return i=rr(13,h,a,x),i.elementType=be,i.lanes=E,i;case G:return i=rr(19,h,a,x),i.elementType=G,i.lanes=E,i;case oe:return Nd(h,x,E,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ye:N=10;break e;case pe:N=9;break e;case le:N=11;break e;case se:N=14;break e;case ne:N=16,g=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=rr(N,h,a,x),a.elementType=i,a.type=g,a.lanes=E,a}function fo(i,a,h,g){return i=rr(7,i,g,a),i.lanes=h,i}function Nd(i,a,h,g){return i=rr(22,i,g,a),i.elementType=oe,i.lanes=h,i.stateNode={isHidden:!1},i}function Up(i,a,h){return i=rr(6,i,null,a),i.lanes=h,i}function Vp(i,a,h){return a=rr(4,i.children!==null?i.children:[],i.key,a),a.lanes=h,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function BC(i,a,h,g,x){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$i(0),this.expirationTimes=$i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function $p(i,a,h,g,x,E,N,M,U){return i=new BC(i,a,h,M,U),a===1?(a=1,E===!0&&(a|=8)):a=0,E=rr(3,null,null,a),i.current=E,E.stateNode=i,E.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},np(E),i}function FC(i,a,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:g==null?null:""+g,children:i,containerInfo:a,implementation:h}}function A_(i){if(!i)return ls;i=i._reactInternals;e:{if(Ir(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(yn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var h=i.type;if(yn(h))return iy(i,h,a)}return a}function N_(i,a,h,g,x,E,N,M,U){return i=$p(h,g,!0,i,x,E,N,M,U),i.context=A_(null),h=i.current,g=fn(),x=ms(h),E=Si(g,x),E.callback=a??null,ds(h,E,x),i.current.lanes=x,Rn(i,x,g),xn(i,g),i}function Od(i,a,h,g){var x=a.current,E=fn(),N=ms(x);return h=A_(h),a.context===null?a.context=h:a.pendingContext=h,a=Si(E,N),a.payload={element:i},g=g===void 0?null:g,g!==null&&(a.callback=g),i=ds(x,a,N),i!==null&&(xr(i,x,N,E),cd(i,x,N)),N}function jd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function O_(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<a?h:a}}function Wp(i,a){O_(i,a),(i=i.alternate)&&O_(i,a)}function zC(){return null}var j_=typeof reportError=="function"?reportError:function(i){console.error(i)};function Hp(i){this._internalRoot=i}Ld.prototype.render=Hp.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));Od(i,a,null,null)},Ld.prototype.unmount=Hp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;co(function(){Od(null,i,null,null)}),a[st]=null}};function Ld(i){this._internalRoot=i}Ld.prototype.unstable_scheduleHydration=function(i){if(i){var a=Jo();i={blockedOn:null,target:i,priority:a};for(var h=0;h<It.length&&a!==0&&a<It[h].priority;h++);It.splice(h,0,i),h===0&&Yo(i)}};function qp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Id(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function L_(){}function UC(i,a,h,g,x){if(x){if(typeof g=="function"){var E=g;g=function(){var Y=jd(N);E.call(Y)}}var N=N_(a,g,i,0,null,!1,!1,"",L_);return i._reactRootContainer=N,i[st]=N.current,rs(i.nodeType===8?i.parentNode:i),co(),N}for(;x=i.lastChild;)i.removeChild(x);if(typeof g=="function"){var M=g;g=function(){var Y=jd(U);M.call(Y)}}var U=$p(i,0,!1,null,null,!1,!1,"",L_);return i._reactRootContainer=U,i[st]=U.current,rs(i.nodeType===8?i.parentNode:i),co(function(){Od(a,U,h,g)}),U}function Dd(i,a,h,g,x){var E=h._reactRootContainer;if(E){var N=E;if(typeof x=="function"){var M=x;x=function(){var U=jd(N);M.call(U)}}Od(a,N,i,x)}else N=UC(h,a,i,x,g);return jd(N)}Zo=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var h=Fe(a.pendingLanes);h!==0&&(hr(a,h|1),xn(a,yt()),(nt&6)===0&&(Ca=yt()+500,cs()))}break;case 13:co(function(){var g=bi(i,1);if(g!==null){var x=fn();xr(g,i,1,x)}}),Wp(i,1)}},ai=function(i){if(i.tag===13){var a=bi(i,134217728);if(a!==null){var h=fn();xr(a,i,134217728,h)}Wp(i,134217728)}},Go=function(i){if(i.tag===13){var a=ms(i),h=bi(i,a);if(h!==null){var g=fn();xr(h,i,a,g)}Wp(i,a)}},Jo=function(){return tt},Ws=function(i,a){var h=tt;try{return tt=i,a()}finally{tt=h}},Uo=function(i,a,h){switch(a){case"input":if(Cn(i,h),a=h.name,h.type==="radio"&&a!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var g=h[a];if(g!==i&&g.form===i.form){var x=pa(g);if(!x)throw Error(n(90));Ye(g),Cn(g,x)}}}break;case"textarea":gu(i,h);break;case"select":a=h.value,a!=null&&Lr(i,!!h.multiple,a,!1)}},Su=Mp,Eu=co;var VC={usingClientEntryPoint:!1,Events:[vi,yi,pa,xu,bu,Mp]},gc={findFiberByHostInstance:gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$C={bundleType:gc.bundleType,version:gc.version,rendererPackageName:gc.rendererPackageName,rendererConfig:gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Cu(i),i===null?null:i.stateNode},findFiberByHostInstance:gc.findFiberByHostInstance||zC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Md.isDisabled&&Md.supportsFiber)try{Vs=Md.inject($C),kn=Md}catch{}}return bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VC,bn.createPortal=function(i,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qp(a))throw Error(n(200));return FC(i,a,null,h)},bn.createRoot=function(i,a){if(!qp(i))throw Error(n(299));var h=!1,g="",x=j_;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=$p(i,1,!1,null,null,h,!1,g,x),i[st]=a.current,rs(i.nodeType===8?i.parentNode:i),new Hp(a)},bn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Cu(a),i=i===null?null:i.stateNode,i},bn.flushSync=function(i){return co(i)},bn.hydrate=function(i,a,h){if(!Id(a))throw Error(n(200));return Dd(null,i,a,!0,h)},bn.hydrateRoot=function(i,a,h){if(!qp(i))throw Error(n(405));var g=h!=null&&h.hydratedSources||null,x=!1,E="",N=j_;if(h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(N=h.onRecoverableError)),a=N_(a,null,i,1,h??null,x,!1,E,N),i[st]=a.current,rs(i),g)for(i=0;i<g.length;i++)h=g[i],x=h._getVersion,x=x(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,x]:a.mutableSourceEagerHydrationData.push(h,x);return new Ld(a)},bn.render=function(i,a,h){if(!Id(a))throw Error(n(200));return Dd(null,i,a,!1,h)},bn.unmountComponentAtNode=function(i){if(!Id(i))throw Error(n(40));return i._reactRootContainer?(co(function(){Dd(null,null,i,!1,function(){i._reactRootContainer=null,i[st]=null})}),!0):!1},bn.unstable_batchedUpdates=Mp,bn.unstable_renderSubtreeIntoContainer=function(i,a,h,g){if(!Id(h))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Dd(i,a,h,!1,g)},bn.version="18.3.1-next-f1338f8080-20240426",bn}var V_;function Wx(){if(V_)return Gp.exports;V_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gp.exports=YC(),Gp.exports}var $_;function XC(){if($_)return Bd;$_=1;var t=Wx();return Bd.createRoot=t.createRoot,Bd.hydrateRoot=t.hydrateRoot,Bd}var QC=XC();const e1=Og(QC);var jo=Wx();const t1=Og(jo);/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mc.apply(this,arguments)}var Ts;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ts||(Ts={}));const W_="popstate";function n1(t){t===void 0&&(t={});function e(r,o){let{pathname:l,search:c,hash:d}=r.location;return Im("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:fh(o)}return i1(e,n,null,t)}function At(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function r1(){return Math.random().toString(36).substr(2,8)}function H_(t,e){return{usr:t.state,key:t.key,idx:e}}function Im(t,e,n,r){return n===void 0&&(n=null),Mc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?sl(e):e,{state:n,key:e&&e.key||r||r1()})}function fh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function i1(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:l=!1}=r,c=o.history,d=Ts.Pop,f=null,p=y();p==null&&(p=0,c.replaceState(Mc({},c.state,{idx:p}),""));function y(){return(c.state||{idx:null}).idx}function _(){d=Ts.Pop;let C=y(),A=C==null?null:C-p;p=C,f&&f({action:d,location:T.location,delta:A})}function b(C,A){d=Ts.Push;let j=Im(T.location,C,A);p=y()+1;let O=H_(j,p),D=T.createHref(j);try{c.pushState(O,"",D)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;o.location.assign(D)}l&&f&&f({action:d,location:T.location,delta:1})}function P(C,A){d=Ts.Replace;let j=Im(T.location,C,A);p=y();let O=H_(j,p),D=T.createHref(j);c.replaceState(O,"",D),l&&f&&f({action:d,location:T.location,delta:0})}function k(C){let A=o.location.origin!=="null"?o.location.origin:o.location.href,j=typeof C=="string"?C:fh(C);return j=j.replace(/ $/,"%20"),At(A,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,A)}let T={get action(){return d},get location(){return t(o,c)},listen(C){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(W_,_),f=C,()=>{o.removeEventListener(W_,_),f=null}},createHref(C){return e(o,C)},createURL:k,encodeLocation(C){let A=k(C);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:b,replace:P,go(C){return c.go(C)}};return T}var q_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(q_||(q_={}));function s1(t,e,n){return n===void 0&&(n="/"),o1(t,e,n)}function o1(t,e,n,r){let o=typeof e=="string"?sl(e):e,l=Ig(o.pathname||"/",n);if(l==null)return null;let c=Hx(t);a1(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let p=_1(l);d=g1(c[f],p)}return d}function Hx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(l,c,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(At(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=Ps([r,f.relativePath]),y=n.concat(f);l.children&&l.children.length>0&&(At(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Hx(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:p1(p,l.index),routesMeta:y})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let f of qx(l.path))o(l,c,f)}),e}function qx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let c=qx(r.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),o&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function a1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:m1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const l1=/^:[\w-]+$/,c1=3,u1=2,d1=1,h1=10,f1=-2,K_=t=>t==="*";function p1(t,e){let n=t.split("/"),r=n.length;return n.some(K_)&&(r+=f1),e&&(r+=u1),n.filter(o=>!K_(o)).reduce((o,l)=>o+(l1.test(l)?c1:l===""?d1:h1),r)}function m1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function g1(t,e,n){let{routesMeta:r}=t,o={},l="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=v1({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),b=f.route;if(!_)return null;Object.assign(o,_.params),c.push({params:o,pathname:Ps([l,_.pathname]),pathnameBase:E1(Ps([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=Ps([l,_.pathnameBase]))}return c}function v1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=y1(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((p,y,_)=>{let{paramName:b,isOptional:P}=y;if(b==="*"){let T=d[_]||"";c=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const k=d[_];return P&&!k?p[b]=void 0:p[b]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function y1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Lg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function _1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ig(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const w1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x1=t=>w1.test(t);function b1(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?sl(t):t,l;if(n)if(x1(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Lg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?l=Z_(n.substring(1),"/"):l=Z_(n,e)}else l=e;return{pathname:l,search:T1(r),hash:P1(o)}}function Z_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Xp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dg(t,e){let n=S1(t);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Mg(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=sl(t):(o=Mc({},t),At(!o.pathname||!o.pathname.includes("?"),Xp("?","pathname","search",o)),At(!o.pathname||!o.pathname.includes("#"),Xp("#","pathname","hash",o)),At(!o.search||!o.search.includes("#"),Xp("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=n;else{let _=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;o.pathname=b.join("/")}d=_>=0?e[_]:"/"}let f=b1(o,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}const Ps=t=>t.join("/").replace(/\/\/+/g,"/"),E1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),T1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,P1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function C1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Kx=["post","put","patch","delete"];new Set(Kx);const k1=["get",...Kx];new Set(k1);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bc(){return Bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bc.apply(this,arguments)}const Bg=S.createContext(null),R1=S.createContext(null),Os=S.createContext(null),Ih=S.createContext(null),Ii=S.createContext({outlet:null,matches:[],isDataRoute:!1}),Zx=S.createContext(null);function A1(t,e){let{relative:n}=e===void 0?{}:e;ol()||At(!1);let{basename:r,navigator:o}=S.useContext(Os),{hash:l,pathname:c,search:d}=Jx(t,{relative:n}),f=c;return r!=="/"&&(f=c==="/"?r:Ps([r,c])),o.createHref({pathname:f,search:d,hash:l})}function ol(){return S.useContext(Ih)!=null}function al(){return ol()||At(!1),S.useContext(Ih).location}function Gx(t){S.useContext(Os).static||S.useLayoutEffect(t)}function Qc(){let{isDataRoute:t}=S.useContext(Ii);return t?W1():N1()}function N1(){ol()||At(!1);let t=S.useContext(Bg),{basename:e,future:n,navigator:r}=S.useContext(Os),{matches:o}=S.useContext(Ii),{pathname:l}=al(),c=JSON.stringify(Dg(o,n.v7_relativeSplatPath)),d=S.useRef(!1);return Gx(()=>{d.current=!0}),S.useCallback(function(p,y){if(y===void 0&&(y={}),!d.current)return;if(typeof p=="number"){r.go(p);return}let _=Mg(p,JSON.parse(c),l,y.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ps([e,_.pathname])),(y.replace?r.replace:r.push)(_,y.state,y)},[e,r,c,l,t])}function O1(){let{matches:t}=S.useContext(Ii),e=t[t.length-1];return e?e.params:{}}function Jx(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(Os),{matches:o}=S.useContext(Ii),{pathname:l}=al(),c=JSON.stringify(Dg(o,r.v7_relativeSplatPath));return S.useMemo(()=>Mg(t,JSON.parse(c),l,n==="path"),[t,c,l,n])}function j1(t,e){return L1(t,e)}function L1(t,e,n,r){ol()||At(!1);let{navigator:o}=S.useContext(Os),{matches:l}=S.useContext(Ii),c=l[l.length-1],d=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let p=al(),y;if(e){var _;let C=typeof e=="string"?sl(e):e;f==="/"||(_=C.pathname)!=null&&_.startsWith(f)||At(!1),y=C}else y=p;let b=y.pathname||"/",P=b;if(f!=="/"){let C=f.replace(/^\//,"").split("/");P="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let k=s1(t,{pathname:P}),T=F1(k&&k.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:Ps([f,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:Ps([f,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,n,r);return e&&T?S.createElement(Ih.Provider,{value:{location:Bc({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Ts.Pop}},T):T}function I1(){let t=$1(),e=C1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:o},n):null,null)}const D1=S.createElement(I1,null);class M1 extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Ii.Provider,{value:this.props.routeContext},S.createElement(Zx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B1(t){let{routeContext:e,match:n,children:r}=t,o=S.useContext(Bg);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Ii.Provider,{value:e},r)}function F1(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var l;if(!n)return null;if(n.errors)t=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,d=(o=n)==null?void 0:o.errors;if(d!=null){let y=c.findIndex(_=>_.route.id&&(d==null?void 0:d[_.route.id])!==void 0);y>=0||At(!1),c=c.slice(0,Math.min(c.length,y+1))}let f=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<c.length;y++){let _=c[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=y),_.route.id){let{loaderData:b,errors:P}=n,k=_.route.loader&&b[_.route.id]===void 0&&(!P||P[_.route.id]===void 0);if(_.route.lazy||k){f=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((y,_,b)=>{let P,k=!1,T=null,C=null;n&&(P=d&&_.route.id?d[_.route.id]:void 0,T=_.route.errorElement||D1,f&&(p<0&&b===0?(H1("route-fallback"),k=!0,C=null):p===b&&(k=!0,C=_.route.hydrateFallbackElement||null)));let A=e.concat(c.slice(0,b+1)),j=()=>{let O;return P?O=T:k?O=C:_.route.Component?O=S.createElement(_.route.Component,null):_.route.element?O=_.route.element:O=y,S.createElement(B1,{match:_,routeContext:{outlet:y,matches:A,isDataRoute:n!=null},children:O})};return n&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?S.createElement(M1,{location:n.location,revalidation:n.revalidation,component:T,error:P,children:j(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):j()},null)}var Yx=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Yx||{}),Xx=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Xx||{});function z1(t){let e=S.useContext(Bg);return e||At(!1),e}function U1(t){let e=S.useContext(R1);return e||At(!1),e}function V1(t){let e=S.useContext(Ii);return e||At(!1),e}function Qx(t){let e=V1(),n=e.matches[e.matches.length-1];return n.route.id||At(!1),n.route.id}function $1(){var t;let e=S.useContext(Zx),n=U1(),r=Qx();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function W1(){let{router:t}=z1(Yx.UseNavigateStable),e=Qx(Xx.UseNavigateStable),n=S.useRef(!1);return Gx(()=>{n.current=!0}),S.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Bc({fromRouteId:e},l)))},[t,e])}const G_={};function H1(t,e,n){G_[t]||(G_[t]=!0)}function q1(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Xa(t){let{to:e,replace:n,state:r,relative:o}=t;ol()||At(!1);let{future:l,static:c}=S.useContext(Os),{matches:d}=S.useContext(Ii),{pathname:f}=al(),p=Qc(),y=Mg(e,Dg(d,l.v7_relativeSplatPath),f,o==="path"),_=JSON.stringify(y);return S.useEffect(()=>p(JSON.parse(_),{replace:n,state:r,relative:o}),[p,_,o,n,r]),null}function br(t){At(!1)}function K1(t){let{basename:e="/",children:n=null,location:r,navigationType:o=Ts.Pop,navigator:l,static:c=!1,future:d}=t;ol()&&At(!1);let f=e.replace(/^\/*/,"/"),p=S.useMemo(()=>({basename:f,navigator:l,static:c,future:Bc({v7_relativeSplatPath:!1},d)}),[f,d,l,c]);typeof r=="string"&&(r=sl(r));let{pathname:y="/",search:_="",hash:b="",state:P=null,key:k="default"}=r,T=S.useMemo(()=>{let C=Ig(y,f);return C==null?null:{location:{pathname:C,search:_,hash:b,state:P,key:k},navigationType:o}},[f,y,_,b,P,k,o]);return T==null?null:S.createElement(Os.Provider,{value:p},S.createElement(Ih.Provider,{children:n,value:T}))}function Z1(t){let{children:e,location:n}=t;return j1(Dm(e),n)}new Promise(()=>{});function Dm(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,o)=>{if(!S.isValidElement(r))return;let l=[...e,o];if(r.type===S.Fragment){n.push.apply(n,Dm(r.props.children,l));return}r.type!==br&&At(!1),!r.props.index||!r.props.children||At(!1);let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Dm(r.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mm(){return Mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mm.apply(this,arguments)}function G1(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,l;for(l=0;l<r.length;l++)o=r[l],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function J1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Y1(t,e){return t.button===0&&(!e||e==="_self")&&!J1(t)}const X1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Q1="6";try{window.__reactRouterVersion=Q1}catch{}const ek="startTransition",J_=Lh[ek];function tk(t){let{basename:e,children:n,future:r,window:o}=t,l=S.useRef();l.current==null&&(l.current=n1({window:o,v5Compat:!0}));let c=l.current,[d,f]=S.useState({action:c.action,location:c.location}),{v7_startTransition:p}=r||{},y=S.useCallback(_=>{p&&J_?J_(()=>f(_)):f(_)},[f,p]);return S.useLayoutEffect(()=>c.listen(y),[c,y]),S.useEffect(()=>q1(r),[r]),S.createElement(K1,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:c,future:r})}const nk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qr=S.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:l,replace:c,state:d,target:f,to:p,preventScrollReset:y,viewTransition:_}=e,b=G1(e,X1),{basename:P}=S.useContext(Os),k,T=!1;if(typeof p=="string"&&rk.test(p)&&(k=p,nk))try{let O=new URL(window.location.href),D=p.startsWith("//")?new URL(O.protocol+p):new URL(p),z=Ig(D.pathname,P);D.origin===O.origin&&z!=null?p=z+D.search+D.hash:T=!0}catch{}let C=A1(p,{relative:o}),A=ik(p,{replace:c,state:d,target:f,preventScrollReset:y,relative:o,viewTransition:_});function j(O){r&&r(O),O.defaultPrevented||A(O)}return S.createElement("a",Mm({},b,{href:k||C,onClick:T||l?r:j,ref:n,target:f}))});var Y_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Y_||(Y_={}));var X_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(X_||(X_={}));function ik(t,e){let{target:n,replace:r,state:o,preventScrollReset:l,relative:c,viewTransition:d}=e===void 0?{}:e,f=Qc(),p=al(),y=Jx(t,{relative:c});return S.useCallback(_=>{if(Y1(_,n)){_.preventDefault();let b=r!==void 0?r:fh(p)===fh(y);f(t,{replace:b,state:o,preventScrollReset:l,relative:c,viewTransition:d})}},[p,f,y,r,o,n,t,l,c,d])}var Zr=function(){return Zr=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Zr.apply(this,arguments)};function ll(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function sk(t,e,n,r){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(y){try{p(r.next(y))}catch(_){c(_)}}function f(y){try{p(r.throw(y))}catch(_){c(_)}}function p(y){y.done?l(y.value):o(y.value).then(d,f)}p((r=r.apply(t,e||[])).next())})}function ok(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,l;r<o;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return t.concat(l||Array.prototype.slice.call(e))}const ak=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Fg extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class lk extends Fg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Q_ extends Fg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class e0 extends Fg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Bm;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Bm||(Bm={}));class ck{constructor(e,{headers:n={},customFetch:r,region:o=Bm.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=ak(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return sk(this,arguments,void 0,function*(n,r={}){var o;let l,c;try{const{headers:d,method:f,body:p,signal:y,timeout:_}=r;let b={},{region:P}=r;P||(P=this.region);const k=new URL(`${this.url}/${n}`);P&&P!=="any"&&(b["x-region"]=P,k.searchParams.set("forceFunctionRegion",P));let T;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",T=p):typeof p=="string"?(b["Content-Type"]="text/plain",T=p):typeof FormData<"u"&&p instanceof FormData?T=p:(b["Content-Type"]="application/json",T=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?T=JSON.stringify(p):T=p;let C=y;_&&(c=new AbortController,l=setTimeout(()=>c.abort(),_),y?(C=c.signal,y.addEventListener("abort",()=>c.abort())):C=c.signal);const A=yield this.fetch(k.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),d),body:T,signal:C}).catch(z=>{throw new lk(z)}),j=A.headers.get("x-relay-error");if(j&&j==="true")throw new Q_(A);if(!A.ok)throw new e0(A);let O=((o=A.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),D;return O==="application/json"?D=yield A.json():O==="application/octet-stream"||O==="application/pdf"?D=yield A.blob():O==="text/event-stream"?D=A:O==="multipart/form-data"?D=yield A.formData():D=yield A.text(),{data:D,error:null,response:A}}catch(d){return{data:null,error:d,response:d instanceof e0||d instanceof Q_?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var uk=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},dk=class{constructor(t){var e,n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=t.urlLengthLimit)!==null&&r!==void 0?r:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,d=null,f=null,p=l.status,y=l.statusText;if(l.ok){var _,b;if(n.method!=="HEAD"){var P;const A=await l.text();A===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((P=n.headers.get("Accept"))===null||P===void 0)&&P.includes("application/vnd.pgrst.plan+text"))?d=A:d=JSON.parse(A))}const T=(_=n.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),C=(b=l.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");T&&C&&C.length>1&&(f=parseInt(C[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,p=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var k;const T=await l.text();try{c=JSON.parse(T),Array.isArray(c)&&l.status===404&&(d=[],c=null,p=200,y="OK")}catch{l.status===404&&T===""?(p=204,y="No Content"):c={message:T}}if(c&&n.isMaybeSingle&&(!(c==null||(k=c.details)===null||k===void 0)&&k.includes("0 rows"))&&(c=null,p=200,y="OK"),c&&n.shouldThrowOnError)throw new uk(c)}return{error:c,data:d,count:f,status:p,statusText:y}});return this.shouldThrowOnError||(o=o.catch(l=>{var c;let d="",f="",p="";const y=l==null?void 0:l.cause;if(y){var _,b,P,k;const A=(_=y==null?void 0:y.message)!==null&&_!==void 0?_:"",j=(b=y==null?void 0:y.code)!==null&&b!==void 0?b:"";d=`${(P=l==null?void 0:l.name)!==null&&P!==void 0?P:"FetchError"}: ${l==null?void 0:l.message}`,d+=`

Caused by: ${(k=y==null?void 0:y.name)!==null&&k!==void 0?k:"Error"}: ${A}`,j&&(d+=` (${j})`),y!=null&&y.stack&&(d+=`
${y.stack}`)}else{var T;d=(T=l==null?void 0:l.stack)!==null&&T!==void 0?T:""}const C=this.url.toString().length;return(l==null?void 0:l.name)==="AbortError"||(l==null?void 0:l.code)==="ABORT_ERR"?(p="",f="Request was aborted (timeout or manual cancellation)",C>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${C} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((y==null?void 0:y.name)==="HeadersOverflowError"||(y==null?void 0:y.code)==="UND_ERR_HEADERS_OVERFLOW")&&(p="",f="HTTP headers exceeded server limits (typically 16KB)",C>this.urlLengthLimit&&(f+=`. Your request URL is ${C} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:d,hint:f,code:p},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},hk=class extends dk{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:o=r}={}){const l=o?`${o}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"offset":`${r}.offset`,l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:o=!1,format:l="text"}={}){var c;const d=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${f}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const t0=new RegExp("[,()]");var Ba=class extends hk{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&t0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&t0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},fk=class{constructor(t,{headers:e={},schema:n,fetch:r,urlLengthLimit:o=8e3}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},o=n?"HEAD":"GET";let l=!1;const c=(t??"*").split("").map(p=>/\s/.test(p)&&!l?"":(p==='"'&&(l=!l),p)).join(""),{url:d,headers:f}=this.cloneRequestState();return d.searchParams.set("select",c),r&&f.append("Prefer",`count=${r}`),new Ba({method:o,url:d,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(e&&c.append("Prefer",`count=${e}`),n||c.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);l.searchParams.set("columns",f.join(","))}}return new Ba({method:o,url:l,headers:c,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:o=!0}={}){var l;const c="POST",{url:d,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&d.searchParams.set("on_conflict",e),r&&f.append("Prefer",`count=${r}`),o||f.append("Prefer","missing=default"),Array.isArray(t)){const p=t.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(p.length>0){const y=[...new Set(p)].map(_=>`"${_}"`);d.searchParams.set("columns",y.join(","))}}return new Ba({method:c,url:d,headers:f,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var n;const r="PATCH",{url:o,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new Ba({method:r,url:o,headers:l,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Ba({method:n,url:r,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function pk(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mk(t){var e=pk(t,"string");return Fc(e)=="symbol"?e:e+""}function gk(t,e,n){return(e=mk(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n0(Object(n),!0).forEach(function(r){gk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var vk=class eb{constructor(e,{headers:n={},schema:r,fetch:o,timeout:l,urlLengthLimit:c=8e3}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=c;const d=o??globalThis.fetch;l!==void 0&&l>0?this.fetch=(f,p)=>{const y=new AbortController,_=setTimeout(()=>y.abort(),l),b=p==null?void 0:p.signal;if(b){if(b.aborted)return clearTimeout(_),d(f,p);const P=()=>{clearTimeout(_),y.abort()};return b.addEventListener("abort",P,{once:!0}),d(f,Fd(Fd({},p),{},{signal:y.signal})).finally(()=>{clearTimeout(_),b.removeEventListener("abort",P)})}return d(f,Fd(Fd({},p),{},{signal:y.signal})).finally(()=>clearTimeout(_))}:this.fetch=d}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new fk(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new eb(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,n={},{head:r=!1,get:o=!1,count:l}={}){var c;let d;const f=new URL(`${this.url}/rpc/${e}`);let p;const y=P=>P!==null&&typeof P=="object"&&(!Array.isArray(P)||P.some(y)),_=r&&Object.values(n).some(y);_?(d="POST",p=n):r||o?(d=r?"HEAD":"GET",Object.entries(n).filter(([P,k])=>k!==void 0).map(([P,k])=>[P,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([P,k])=>{f.searchParams.append(P,k)})):(d="POST",p=n);const b=new Headers(this.headers);return _?b.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&b.set("Prefer",`count=${l}`),new Ba({method:d,url:f,headers:b,schema:this.schemaName,body:p,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}};class yk{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const o=r.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const _k="2.95.3",wk=`realtime-js/${_k}`,xk="1.0.0",tb="2.0.0",r0=tb,Fm=1e4,bk=1e3,Sk=100;var Ss;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ss||(Ss={}));var Ft;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ft||(Ft={}));var Cr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Cr||(Cr={}));var zm;(function(t){t.websocket="websocket"})(zm||(zm={}));var wo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(wo||(wo={}));class Ek{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const o=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,r;const o=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,n,r){var o,l;const c=e.topic,d=(o=e.ref)!==null&&o!==void 0?o:"",f=(l=e.join_ref)!==null&&l!==void 0?l:"",p=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},_=Object.keys(y).length===0?"":JSON.stringify(y);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+c.length+p.length+_.length,P=new ArrayBuffer(this.HEADER_LENGTH+b);let k=new DataView(P),T=0;k.setUint8(T++,this.KINDS.userBroadcastPush),k.setUint8(T++,f.length),k.setUint8(T++,d.length),k.setUint8(T++,c.length),k.setUint8(T++,p.length),k.setUint8(T++,_.length),k.setUint8(T++,n),Array.from(f,A=>k.setUint8(T++,A.charCodeAt(0))),Array.from(d,A=>k.setUint8(T++,A.charCodeAt(0))),Array.from(c,A=>k.setUint8(T++,A.charCodeAt(0))),Array.from(p,A=>k.setUint8(T++,A.charCodeAt(0))),Array.from(_,A=>k.setUint8(T++,A.charCodeAt(0)));var C=new Uint8Array(P.byteLength+r.byteLength);return C.set(new Uint8Array(P),0),C.set(new Uint8Array(r),P.byteLength),C.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[o,l,c,d,f]=r;return n({join_ref:o,ref:l,topic:c,event:d,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,r){const o=n.getUint8(1),l=n.getUint8(2),c=n.getUint8(3),d=n.getUint8(4);let f=this.HEADER_LENGTH+4;const p=r.decode(e.slice(f,f+o));f=f+o;const y=r.decode(e.slice(f,f+l));f=f+l;const _=r.decode(e.slice(f,f+c));f=f+c;const b=e.slice(f,e.byteLength),P=d===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,k={type:this.BROADCAST_EVENT,event:y,payload:P};return c>0&&(k.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class nb{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var dt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(dt||(dt={}));const i0=(t,e,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=Tk(c,t,e,o),l),{}):{}},Tk=(t,e,n,r)=>{const o=e.find(d=>d.name===t),l=o==null?void 0:o.type,c=n[t];return l&&!r.includes(l)?rb(l,c):Um(c)},rb=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Rk(e,n)}switch(t){case dt.bool:return Pk(e);case dt.float4:case dt.float8:case dt.int2:case dt.int4:case dt.int8:case dt.numeric:case dt.oid:return Ck(e);case dt.json:case dt.jsonb:return kk(e);case dt.timestamp:return Ak(e);case dt.abstime:case dt.date:case dt.daterange:case dt.int4range:case dt.int8range:case dt.money:case dt.reltime:case dt.text:case dt.time:case dt.timestamptz:case dt.timetz:case dt.tsrange:case dt.tstzrange:return Um(e);default:return Um(e)}},Um=t=>t,Pk=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ck=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},kk=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Rk=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let l;const c=t.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>rb(e,d))}return t},Ak=t=>typeof t=="string"?t.replace(" ","T"):t,ib=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Qp{constructor(e,n,r={},o=Fm){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var s0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(s0||(s0={}));class Nc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nc.syncState(this.state,o,l,c),this.pendingDiffs.forEach(f=>{this.state=Nc.syncDiff(this.state,f,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Nc.syncDiff(this.state,o,l,c),d())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){const l=this.cloneDeep(e),c=this.transformState(n),d={},f={};return this.map(l,(p,y)=>{c[p]||(f[p]=y)}),this.map(c,(p,y)=>{const _=l[p];if(_){const b=y.map(C=>C.presence_ref),P=_.map(C=>C.presence_ref),k=y.filter(C=>P.indexOf(C.presence_ref)<0),T=_.filter(C=>b.indexOf(C.presence_ref)<0);k.length>0&&(d[p]=k),T.length>0&&(f[p]=T)}else d[p]=y}),this.syncDiff(l,{joins:d,leaves:f},r,o)}static syncDiff(e,n,r,o){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(l,(d,f)=>{var p;const y=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(f),y.length>0){const _=e[d].map(P=>P.presence_ref),b=y.filter(P=>_.indexOf(P.presence_ref)<0);e[d].unshift(...b)}r(d,y,f)}),this.map(c,(d,f)=>{let p=e[d];if(!p)return;const y=f.map(_=>_.presence_ref);p=p.filter(_=>y.indexOf(_.presence_ref)<0),e[d]=p,o(d,p,f),p.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const o=e[r];return"metas"in o?n[r]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var o0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(o0||(o0={}));var Oc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Oc||(Oc={}));var Ci;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ci||(Ci={}));class Ua{constructor(e,n={config:{}},r){var o,l;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Qp(this,Cr.join,this.params,this.timeout),this.rejoinTimer=new nb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ft.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cr.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new Nc(this),this.broadcastEndpointURL=ib(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Ft.closed){const{config:{broadcast:c,presence:d,private:f}}=this.params,p=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(P=>P.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Oc.PRESENCE]&&this.bindings[Oc.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},b={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(P=>e==null?void 0:e(Ci.CHANNEL_ERROR,P)),this._onClose(()=>e==null?void 0:e(Ci.CLOSED)),this.updateJoinPayload(Object.assign({config:b},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:P})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),P===void 0){e==null||e(Ci.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,C=(k=T==null?void 0:T.length)!==null&&k!==void 0?k:0,A=[];for(let j=0;j<C;j++){const O=T[j],{filter:{event:D,schema:z,table:W,filter:H}}=O,X=P&&P[j];if(X&&X.event===D&&Ua.isFilterValueEqual(X.schema,z)&&Ua.isFilterValueEqual(X.table,W)&&Ua.isFilterValueEqual(X.filter,H))A.push(Object.assign(Object.assign({},O),{id:X.id}));else{this.unsubscribe(),this.state=Ft.errored,e==null||e(Ci.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(Ci.SUBSCRIBED);return}}).receive("error",P=>{this.state=Ft.errored,e==null||e(Ci.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(P).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ci.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Ft.joined&&e===Oc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const p=await d.json();f=p.error||p.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,f;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ft.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Qp(this,Cr.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ft.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const o=new AbortController,l=setTimeout(()=>o.abort(),r),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),c}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Qp(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Sk){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,l;const c=e.toLocaleLowerCase(),{close:d,error:f,leave:p,join:y}=Cr;if(r&&[d,f,p,y].indexOf(c)>=0&&r!==this._joinRef())return;let b=this._onMessage(c,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(P=>{var k,T,C;return((k=P.filter)===null||k===void 0?void 0:k.event)==="*"||((C=(T=P.filter)===null||T===void 0?void 0:T.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(P=>P.callback(b,r)):(l=this.bindings[c])===null||l===void 0||l.filter(P=>{var k,T,C,A,j,O;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in P){const D=P.id,z=(k=P.filter)===null||k===void 0?void 0:k.event;return D&&((T=n.ids)===null||T===void 0?void 0:T.includes(D))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const D=(j=(A=P==null?void 0:P.filter)===null||A===void 0?void 0:A.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return D==="*"||D===((O=n==null?void 0:n.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return P.type.toLocaleLowerCase()===c}).map(P=>{if(typeof b=="object"&&"ids"in b){const k=b.data,{schema:T,table:C,commit_timestamp:A,type:j,errors:O}=k;b=Object.assign(Object.assign({},{schema:T,table:C,commit_timestamp:A,eventType:j,new:{},old:{},errors:O}),this._getPayloadRecords(k))}P.callback(b,r)})}_isClosed(){return this.state===Ft.closed}_isJoined(){return this.state===Ft.joined}_isJoining(){return this.state===Ft.joining}_isLeaving(){return this.state===Ft.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&Ua.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Cr.close,{},e)}_onError(e){this._on(Cr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ft.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=i0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=i0(e.columns,e.old_record)),n}}const em=()=>{},zd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Nk=[1e3,2e3,5e3,1e4],Ok=1e4,jk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Lk{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fm,this.transport=null,this.heartbeatIntervalMs=zd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=em,this.ref=0,this.reconnectTimer=null,this.vsn=r0,this.logger=em,this.conn=null,this.sendBuffer=[],this.serializer=new Ek,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${zm.websocket}`,this.httpEndpoint=ib(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=yk.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return n==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ss.connecting:return wo.Connecting;case Ss.open:return wo.Open;case Ss.closing:return wo.Closing;default:return wo.Closed}}isConnected(){return this.connectionState()===wo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===r);if(o)return o;{const l=new Ua(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:r,payload:o,ref:l}=e,c=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${r} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(bk,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},zd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",p)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:o,payload:l,ref:c}=n,d=c?`(${c})`:"",f=l.status||"";this.log("receive",`${f} ${r} ${o} ${d}`.trim(),l),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,l,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ss.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ss.open||this.conn.readyState===Ss.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Cr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([jk],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:wk};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(Cr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new nb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,l,c,d,f,p,y,_,b,P;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Fm,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:zd.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:em,this.vsn=(f=e==null?void 0:e.vsn)!==null&&f!==void 0?f:r0,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(k=>Nk[k-1]||Ok),this.vsn){case xk:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((k,T)=>T(JSON.stringify(k))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:((k,T)=>T(JSON.parse(k)));break;case tb:this.encode=(b=e==null?void 0:e.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(P=e==null?void 0:e.decode)!==null&&P!==void 0?P:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var zc=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ik(t,e,n){const r=new URL(e,t);if(n)for(const[o,l]of Object.entries(n))l!==void 0&&r.searchParams.set(o,l);return r.toString()}async function Dk(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Mk(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:o,body:l,headers:c}){const d=Ik(t.baseUrl,r,o),f=await Dk(t.auth),p=await e(d,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...f,...c},body:l?JSON.stringify(l):void 0}),y=await p.text(),_=(p.headers.get("content-type")||"").includes("application/json"),b=_&&y?JSON.parse(y):y;if(!p.ok){const P=_?b:void 0,k=P==null?void 0:P.error;throw new zc((k==null?void 0:k.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:P})}return{status:p.status,headers:p.headers,data:b}}}}function Ud(t){return t.join("")}var Bk=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ud(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ud(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ud(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ud(t.namespace)}`}),!0}catch(e){if(e instanceof zc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof zc&&n.status===409)return;throw n}}};function Ra(t){return t.join("")}var Fk=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ra(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ra(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ra(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ra(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ra(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ra(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof zc&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof zc&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},zk=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Mk({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Bk(this.client,e),this.tableOps=new Fk(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Dh=class extends Error{constructor(t,e="storage",n,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Mh(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Vd=class extends Dh{constructor(t,e,n,r="storage"){super(t,r,e,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},sb=class extends Dh{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const Uk=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Vk=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Vm=t=>{if(Array.isArray(t))return t.map(n=>Vm(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Vm(r)}),e},$k=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function Wk(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hk(t){var e=Wk(t,"string");return Uc(e)=="symbol"?e:e+""}function qk(t,e,n){return(e=Hk(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a0(Object(n),!0).forEach(function(r){qk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const l0=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Kk=async(t,e,n,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const o=t,l=o.status||500;if(typeof o.json=="function")o.json().then(c=>{const d=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||l+"";e(new Vd(l0(c),l,d,r))}).catch(()=>{if(r==="vectors"){const c=l+"";e(new Vd(o.statusText||`HTTP ${l} error`,l,c,r))}else{const c=l+"";e(new Vd(o.statusText||`HTTP ${l} error`,l,c,r))}});else{const c=l+"";e(new Vd(o.statusText||`HTTP ${l} error`,l,c,r))}}else e(new sb(l0(t),t,r))},Zk=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!r?Ie(Ie({},o),n):(Vk(r)?(o.headers=Ie({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),Ie(Ie({},o),n))};async function yc(t,e,n,r,o,l,c){return new Promise((d,f)=>{t(n,Zk(e,r,o,l)).then(p=>{if(!p.ok)throw p;if(r!=null&&r.noResolveJson)return p;if(c==="vectors"){const y=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!y||!y.includes("application/json"))return{}}return p.json()}).then(p=>d(p)).catch(p=>Kk(p,f,r,c))})}function ob(t="storage"){return{get:async(e,n,r,o)=>yc(e,"GET",n,r,o,void 0,t),post:async(e,n,r,o,l)=>yc(e,"POST",n,o,l,r,t),put:async(e,n,r,o,l)=>yc(e,"PUT",n,o,l,r,t),head:async(e,n,r,o)=>yc(e,"HEAD",n,Ie(Ie({},r),{},{noResolveJson:!0}),o,void 0,t),remove:async(e,n,r,o,l)=>yc(e,"DELETE",n,o,l,r,t)}}const Gk=ob("storage"),{get:Vc,post:Pr,put:$m,head:Jk,remove:zg}=Gk,Vn=ob("vectors");var cl=class{constructor(t,e={},n,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=Uk(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Mh(n))return{data:null,error:n};throw n}}},Yk=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Mh(e))return{data:null,error:e};throw e}}};let ab;ab=Symbol.toStringTag;var Xk=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[ab]="BlobDownloadBuilder",this.promise=null}asStream(){return new Yk(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Mh(e))return{data:null,error:e};throw e}}};const Qk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},c0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var eR=class extends cl{constructor(t,e={},n,r){super(t,e,r,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,r){var o=this;return o.handleOperation(async()=>{let l;const c=Ie(Ie({},c0),r);let d=Ie(Ie({},o.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",o.encodeMetadata(f)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),f&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(f))):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,f&&(d["x-metadata"]=o.toBase64(o.encodeMetadata(f))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),r!=null&&r.headers&&(d=Ie(Ie({},d),r.headers));const p=o._removeEmptyFolders(e),y=o._getFinalPath(p),_=await(t=="PUT"?$m:Pr)(o.fetch,`${o.url}/object/${y}`,l,Ie({headers:d},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{path:p,id:_.Id,fullPath:_.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var o=this;const l=o._removeEmptyFolders(t),c=o._getFinalPath(l),d=new URL(o.url+`/object/upload/sign/${c}`);return d.searchParams.set("token",e),o.handleOperation(async()=>{let f;const p=Ie({upsert:c0.upsert},r),y=Ie(Ie({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",p.cacheControl)):(f=n,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType),{path:l,fullPath:(await $m(o.fetch,d.toString(),f,{headers:y})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(t);const o=Ie({},n.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const l=await Pr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:o}),c=new URL(n.url+l.url),d=c.searchParams.get("token");if(!d)throw new Dh("No token returned by API");return{signedUrl:c.toString(),path:t,token:d}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;return r.handleOperation(async()=>await Pr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(t,e,n){var r=this;return r.handleOperation(async()=>({path:(await Pr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,n){var r=this;return r.handleOperation(async()=>{let o=r._getFinalPath(t),l=await Pr(r.fetch,`${r.url}/object/sign/${o}`,Ie({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${l.signedURL}${c}`)}})}async createSignedUrls(t,e,n){var r=this;return r.handleOperation(async()=>{const o=await Pr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o.map(c=>Ie(Ie({},c),{},{signedUrl:c.signedURL?encodeURI(`${r.url}${c.signedURL}${l}`):null}))})}download(t,e,n){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),l=o?`?${o}`:"",c=this._getFinalPath(t),d=()=>Vc(this.fetch,`${this.url}/${r}/${c}${l}`,{headers:this.headers,noResolveJson:!0},n);return new Xk(d,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>Vm(await Vc(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await Jk(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mh(r)&&r instanceof sb){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&r.push(o);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&r.push(c);let d=r.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await zg(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var r=this;return r.handleOperation(async()=>{const o=Ie(Ie(Ie({},Qk),e),{},{prefix:t||""});return await Pr(r.fetch,`${r.url}/object/list/${r.bucketId}`,o,{headers:r.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const r=Ie({},t);return await Pr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const tR="2.95.3",eu={"X-Client-Info":`storage-js/${tR}`};var nR=class extends cl{constructor(t,e={},n,r){const o=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const l=o.href.replace(/\/$/,""),c=Ie(Ie({},eu),e);super(l,c,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await Vc(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Vc(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await Pr(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await $m(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Pr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await zg(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},rR=class extends cl{constructor(t,e={},n){const r=t.replace(/\/$/,""),o=Ie(Ie({},eu),e);super(r,o,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Pr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),o=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await Vc(e.fetch,o,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await zg(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!$k(t))throw new Dh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new zk({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(o,l){const c=o[l];return typeof c!="function"?c:async(...d)=>{try{return{data:await c.apply(o,d),error:null}}catch(f){if(r)throw f;return{data:null,error:f}}}}})}},iR=class extends cl{constructor(t,e={},n){const r=t.replace(/\/$/,""),o=Ie(Ie({},eu),{},{"Content-Type":"application/json"},e);super(r,o,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Vn.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await Vn.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Vn.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await Vn.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},sR=class extends cl{constructor(t,e={},n){const r=t.replace(/\/$/,""),o=Ie(Ie({},eu),{},{"Content-Type":"application/json"},e);super(r,o,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Vn.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Vn.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Vn.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Vn.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Vn.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},oR=class extends cl{constructor(t,e={},n){const r=t.replace(/\/$/,""),o=Ie(Ie({},eu),{},{"Content-Type":"application/json"},e);super(r,o,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Vn.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Vn.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Vn.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Vn.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},aR=class extends oR{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new lR(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},lR=class extends iR{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Ie(Ie({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Ie(Ie({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new cR(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},cR=class extends sR{constructor(t,e,n,r,o){super(t,e,o),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Ie(Ie({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Ie(Ie({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Ie(Ie({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Ie(Ie({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Ie(Ie({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},uR=class extends nR{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new eR(this.url,this.headers,t,this.fetch)}get vectors(){return new aR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new rR(this.url+"/iceberg",this.headers,this.fetch)}};const lb="2.95.3",Fa=30*1e3,Wm=3,tm=Wm*Fa,dR="http://localhost:9999",hR="supabase.auth.token",fR={"X-Client-Info":`gotrue-js/${lb}`},Hm="X-Supabase-Api-Version",cb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mR=600*1e3;class $c extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Re(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class gR extends $c{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function vR(t){return Re(t)&&t.name==="AuthApiError"}class xo extends $c{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Di extends $c{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}}class Fn extends Di{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nm(t){return Re(t)&&t.name==="AuthSessionMissingError"}class Aa extends Di{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $d extends Di{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wd extends Di{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yR(t){return Re(t)&&t.name==="AuthImplicitGrantRedirectError"}class u0 extends Di{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _R extends Di{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class qm extends Di{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function rm(t){return Re(t)&&t.name==="AuthRetryableFetchError"}class d0 extends Di{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Km extends Di{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ph="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),h0=` 	
\r=`.split(""),wR=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<h0.length;e+=1)t[h0[e].charCodeAt(0)]=-2;for(let e=0;e<ph.length;e+=1)t[ph[e].charCodeAt(0)]=e;return t})();function f0(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ph[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ph[r]),e.queuedBits-=6}}function ub(t,e,n){const r=wR[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function p0(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{SR(c,r,n)};for(let c=0;c<t.length;c+=1)ub(t.charCodeAt(c),o,l);return e.join("")}function xR(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function bR(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}xR(r,e)}}function SR(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Za(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)ub(t.charCodeAt(o),n,r);return new Uint8Array(e)}function ER(t){const e=[];return bR(t,n=>e.push(n)),new Uint8Array(e)}function bo(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>f0(o,n,r)),f0(null,n,r),e.join("")}function TR(t){return Math.round(Date.now()/1e3)+t}function PR(){return Symbol("auth-callback")}const qt=()=>typeof window<"u"&&typeof document<"u",po={tested:!1,writable:!1},db=()=>{if(!qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(po.tested)return po.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),po.tested=!0,po.writable=!0}catch{po.tested=!0,po.writable=!1}return po.writable};function CR(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}const hb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),kR=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",za=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},mo=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ht=async(t,e)=>{await t.removeItem(e)};class Bh{constructor(){this.promise=new Bh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Bh.promiseConstructor=Promise;function Hd(t){const e=t.split(".");if(e.length!==3)throw new Km("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!pR.test(e[r]))throw new Km("JWT not in base64url format");return{header:JSON.parse(p0(e[0])),payload:JSON.parse(p0(e[1])),signature:Za(e[2]),raw:{header:e[0],payload:e[1]}}}async function RR(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function AR(t,e){return new Promise((r,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){r(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function NR(t){return("0"+t.toString(16)).substr(-2)}function OR(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,NR).join("")}async function jR(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function LR(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await jR(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Na(t,e,n=!1){const r=OR();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await za(t,`${e}-code-verifier`,o);const l=await LR(r);return[l,r===l?"plain":"s256"]}const IR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function DR(t){const e=t.headers.get(Hm);if(!e||!e.match(IR))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function MR(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function BR(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const FR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Oa(t){if(!FR.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function im(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zR(t,e){return new Proxy(t,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,o)}})}function m0(t){return JSON.parse(JSON.stringify(t))}const vo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),UR=[502,503,504];async function g0(t){var e;if(!kR(t))throw new qm(vo(t),0);if(UR.includes(t.status))throw new qm(vo(t),t.status);let n;try{n=await t.json()}catch(l){throw new xo(vo(l),l)}let r;const o=DR(t);if(o&&o.getTime()>=cb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new d0(vo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Fn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new d0(vo(n),t.status,n.weak_password.reasons);throw new gR(vo(n),t.status||500,r)}const VR=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function je(t,e,n,r){var o;const l=Object.assign({},r==null?void 0:r.headers);l[Hm]||(l[Hm]=cb["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const c=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await $R(t,e,n+d,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function $R(t,e,n,r,o,l){const c=VR(e,r,o,l);let d;try{d=await t(n,Object.assign({},c))}catch(f){throw console.error(f),new qm(vo(f),0)}if(d.ok||await g0(d),r!=null&&r.noResolveJson)return d;try{return await d.json()}catch(f){await g0(f)}}function Sr(t){var e;let n=null;qR(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=TR(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function v0(t){const e=Sr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Es(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function WR(t){return{data:t,error:null}}function HR(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:l}=t,c=ll(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:l},f=Object.assign({},c);return{data:{properties:d,user:f},error:null}}function y0(t){return t}function qR(t){return t.access_token&&t.refresh_token&&t.expires_in}const sm=["global","local","others"];class KR{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=hb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=sm[0]){if(sm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sm.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Es})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=ll(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:HR,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Re(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Es})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,o,l,c,d,f;try{const p={nextPage:null,lastPage:0,total:0},y=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:y0});if(y.error)throw y.error;const _=await y.json(),b=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,P=(f=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return P.length>0&&(P.forEach(k=>{const T=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(k.split(";")[1].split("=")[1]);p[`${C}Page`]=T}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(Re(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Oa(e);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Es})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Oa(e);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Es})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Oa(e);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Es})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Oa(e.userId);try{const{data:n,error:r}=await je(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(Re(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Oa(e.userId),Oa(e.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,o,l,c,d,f;try{const p={nextPage:null,lastPage:0,total:0},y=await je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:y0});if(y.error)throw y.error;const _=await y.json(),b=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,P=(f=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return P.length>0&&(P.forEach(k=>{const T=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(k.split(";")[1].split("=")[1]);p[`${C}Page`]=T}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(Re(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Re(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Re(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Re(n))return{data:null,error:n};throw n}}}function _0(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ja={debug:!!(globalThis&&db()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ZR extends fb{}async function GR(t,e,n){ja.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ja.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){ja.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{ja.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw ja.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ZR(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ja.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function JR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function pb(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function YR(t){return parseInt(t,16)}function XR(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function QR(t){var e;const{chainId:n,domain:r,expirationTime:o,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:f,resources:p,scheme:y,uri:_,version:b}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const P=pb(t.address),k=y?`${y}://${r}`:r,T=t.statement?`${t.statement}
`:"",C=`${k} wants you to sign in with your Ethereum account:
${P}

${T}`;let A=`URI: ${_}
Version: ${b}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(o&&(A+=`
Expiration Time: ${o.toISOString()}`),d&&(A+=`
Not Before: ${d.toISOString()}`),f&&(A+=`
Request ID: ${f}`),p){let j=`
Resources:`;for(const O of p){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);j+=`
- ${O}`}A+=j}return`${C}
${A}`}class Lt extends Error{constructor({message:e,code:n,cause:r,name:o}){var l;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(l=o??(r instanceof Error?r.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class mh extends Lt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function eA({error:t,options:e}){var n,r,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Lt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Lt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Lt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Lt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Lt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Lt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Lt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Lt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(mb(c)){if(l.rp.id!==c)return new Lt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Lt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Lt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function tA({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Lt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Lt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(mb(r)){if(n.rpId!==r)return new Lt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Lt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class nA{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const rA=new nA;function iA(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,o=ll(t,["challenge","user","excludeCredentials"]),l=Za(e).buffer,c=Object.assign(Object.assign({},n),{id:Za(n.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:c});if(r&&r.length>0){d.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const p=r[f];d.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:Za(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function sA(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=ll(t,["challenge","allowCredentials"]),o=Za(e).buffer,l=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Za(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function oA(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:bo(new Uint8Array(t.response.attestationObject)),clientDataJSON:bo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function aA(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:bo(new Uint8Array(o.authenticatorData)),clientDataJSON:bo(new Uint8Array(o.clientDataJSON)),signature:bo(new Uint8Array(o.signature)),userHandle:o.userHandle?bo(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function mb(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function w0(){var t,e;return!!(qt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function lA(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new mh("Browser returned unexpected credential type",e)}:{data:null,error:new mh("Empty credential response",e)}}catch(e){return{data:null,error:eA({error:e,options:t})}}}async function cA(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new mh("Browser returned unexpected credential type",e)}:{data:null,error:new mh("Empty credential response",e)}}catch(e){return{data:null,error:tA({error:e,options:t})}}}const uA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},dA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function gh(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of t)if(o)for(const l in o){const c=o[l];if(c!==void 0)if(Array.isArray(c))r[l]=c;else if(n(c))r[l]=c;else if(e(c)){const d=r[l];e(d)?r[l]=gh(d,c):r[l]=gh(c)}else r[l]=c}return r}function hA(t,e){return gh(uA,t,e||{})}function fA(t,e){return gh(dA,t,e||{})}class pA{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:o},l){var c;try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!d)return{data:null,error:f};const p=o??rA.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:y}=d.webauthn.credential_options.publicKey;if(!y.name){const _=r;if(_)y.name=`${y.id}:${_}`;else{const P=(await this.client.getUser()).data.user,k=((c=P==null?void 0:P.user_metadata)===null||c===void 0?void 0:c.name)||(P==null?void 0:P.email)||(P==null?void 0:P.id)||"User";y.name=`${y.id}:${k}`}}y.displayName||(y.displayName=y.name)}switch(d.webauthn.type){case"create":{const y=hA(d.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:_,error:b}=await lA({publicKey:y,signal:p});return _?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:_}},error:null}:{data:null,error:b}}case"request":{const y=fA(d.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:_,error:b}=await cA(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:y,signal:p}));return _?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:_}},error:null}:{data:null,error:b}}}}catch(d){return Re(d)?{data:null,error:d}:{data:null,error:new xo("Unexpected error in challenge",d)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new $c("rpId is required for WebAuthn authentication")};try{if(!w0())return{data:null,error:new xo("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:l});if(!c)return{data:null,error:d};const{webauthn:f}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(c){return Re(c)?{data:null,error:c}:{data:null,error:new xo("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new $c("rpId is required for WebAuthn registration")};try{if(!w0())return{data:null,error:new xo("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(y=>{var _;return(_=y.data)===null||_===void 0?void 0:_.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:d};const{data:f,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:l});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:p}}catch(c){return Re(c)?{data:null,error:c}:{data:null,error:new xo("Unexpected error in register",c)}}}}JR();const mA={url:dR,storageKey:hR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function x0(t,e,n){return await n()}const La={};class Wc{get jwks(){var e,n;return(n=(e=La[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){La[this.storageKey]=Object.assign(Object.assign({},La[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=La[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){La[this.storageKey]=Object.assign(Object.assign({},La[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},mA),e);if(this.storageKey=l.storageKey,this.instanceID=(n=Wc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Wc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&qt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new KR({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=hb(l.fetch),this.lock=l.lock||x0,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&qt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=GR:this.lock=x0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new pA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:db()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_0(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=_0(this.memoryStorage)),qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c);try{await this._notifyAllSubscribers(c.data.event,c.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(c=>{this._debug("#initialize()","error",c)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${lb}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(qt()&&(n=CR(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),qt()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),yR(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:c,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Re(n)?this._returnResult({error:n}):this._returnResult({error:new xo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,o;try{const l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Sr}),{data:c,error:d}=l;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const f=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(l){if(Re(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,r,o;try{let l;if("email"in e){const{email:y,password:_,options:b}=e;let P=null,k=null;this.flowType==="pkce"&&([P,k]=await Na(this.storage,this.storageKey)),l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:y,password:_,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:P,code_challenge_method:k},xform:Sr})}else if("phone"in e){const{phone:y,password:_,options:b}=e;l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},channel:(o=b==null?void 0:b.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Sr})}else throw new $d("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return await Ht(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const f=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(l){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),Re(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:d}=e;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:v0})}else if("phone"in e){const{phone:l,password:c,options:d}=e;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:v0})}else throw new $d("You must provide either an email or phone number and a password");const{data:r,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const l=new Aa;return this._returnResult({data:{user:null,session:null},error:l})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(Re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,o,l,c,d,f,p,y,_,b;let P,k;if("message"in e)P=e.message,k=e.signature;else{const{chain:T,wallet:C,statement:A,options:j}=e;let O;if(qt())if(typeof C=="object")O=C;else{const ue=window;if("ethereum"in ue&&typeof ue.ethereum=="object"&&"request"in ue.ethereum&&typeof ue.ethereum.request=="function")O=ue.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=C}const D=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href),z=await O.request({method:"eth_requestAccounts"}).then(ue=>ue).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const W=pb(z[0]);let H=(r=j==null?void 0:j.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!H){const ue=await O.request({method:"eth_chainId"});H=YR(ue)}const X={domain:D.host,address:W,statement:A,uri:D.href,version:"1",chainId:H,nonce:(o=j==null?void 0:j.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(l=j==null?void 0:j.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=j==null?void 0:j.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=j==null?void 0:j.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=j==null?void 0:j.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=j==null?void 0:j.signInWithEthereum)===null||y===void 0?void 0:y.resources};P=QR(X),k=await O.request({method:"personal_sign",params:[XR(P),W]})}try{const{data:T,error:C}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:P,signature:k},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Sr});if(C)throw C;if(!T||!T.session||!T.user){const A=new Aa;return this._returnResult({data:{user:null,session:null},error:A})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:C})}catch(T){if(Re(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(e){var n,r,o,l,c,d,f,p,y,_,b,P;let k,T;if("message"in e)k=e.message,T=e.signature;else{const{chain:C,wallet:A,statement:j,options:O}=e;let D;if(qt())if(typeof A=="object")D=A;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))D=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=A}const z=new URL((n=O==null?void 0:O.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const W=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),j?{statement:j}:null));let H;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")H=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)H=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)k=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),T=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${z.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(o=(r=O==null?void 0:O.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=O==null?void 0:O.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((c=O==null?void 0:O.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((d=O==null?void 0:O.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((f=O==null?void 0:O.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((p=O==null?void 0:O.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((_=(y=O==null?void 0:O.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...O.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const W=await D.signMessage(new TextEncoder().encode(k),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=W}}try{const{data:C,error:A}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:bo(T)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(P=e.options)===null||P===void 0?void 0:P.captchaToken}}:null),xform:Sr});if(A)throw A;if(!C||!C.session||!C.user){const j=new Aa;return this._returnResult({data:{user:null,session:null},error:j})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:A})}catch(C){if(Re(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const n=await mo(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new _R;const{data:l,error:c}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Sr});if(await Ht(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const d=new Aa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),Re(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:r,token:o,access_token:l,nonce:c}=e,d=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Sr}),{data:f,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f||!f.session||!f.user){const y=new Aa;return this._returnResult({data:{user:null,session:null},error:y})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:p})}catch(n){if(Re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,o,l,c;try{if("email"in e){const{email:d,options:f}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Na(this.storage,this.storageKey));const{error:_}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:d,options:f}=e,{data:p,error:y}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(l=f==null?void 0:f.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y})}throw new $d("You must provide either an email or phone number.")}catch(d){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),Re(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,r;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:d}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:Sr});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,p=c.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(o){if(Re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,r,o,l,c;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await Na(this.storage,this.storageKey));const p=await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:WR});return!((l=p.data)===null||l===void 0)&&l.url&&qt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),Re(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Fn;const{error:o}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(Re(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:l}=e,{error:c}=await je(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:r,type:o,options:l}=e,{data:c,error:d}=await je(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new $d("You must provide either an email or phone number and a type")}catch(n){if(Re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await mo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<tm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const c=await mo(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=im()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=zR(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Es}):await this._useSession(async n=>{var r,o,l;const{data:c,error:d}=n;if(d)throw d;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fn}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Es})})}catch(n){if(Re(n))return nm(n)&&(await this._removeSession(),await Ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:o,error:l}=r;if(l)throw l;if(!o.session)throw new Fn;const c=o.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await Na(this.storage,this.storageKey));const{data:p,error:y}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:c.access_token,xform:Es});if(y)throw y;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(r){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),Re(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fn;const n=Date.now()/1e3;let r=n,o=!0,l=null;const{payload:c}=Hd(e.access_token);if(c.exp&&(r=c.exp,o=r<=n),o){const{data:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(Re(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:c,error:d}=n;if(d)throw d;e=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Fn;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!qt())throw new Wd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new u0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new u0("No code detected.");const{data:j,error:O}=await this._exchangeCodeForSession(e.code);if(O)throw O;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:d,expires_at:f,token_type:p}=e;if(!l||!d||!c||!p)throw new Wd("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(d);let b=y+_;f&&(b=parseInt(f));const P=b-y;P*1e3<=Fa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${P}s, should have been closer to ${_}s`);const k=b-_;y-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,b,y):y-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,b,y);const{data:T,error:C}=await this._getUser(l);if(C)throw C;const A={provider_token:r,provider_refresh_token:o,access_token:l,expires_in:_,expires_at:b,refresh_token:c,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:e.type},error:null})}catch(r){if(Re(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await mo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:l}=n;if(l&&!nm(l))return this._returnResult({error:l});const c=(r=o.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(vR(d)&&(d.status===404||d.status===401||d.status===403)||nm(d)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=PR(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,o;try{const{data:{session:l},error:c}=n;if(c)throw c;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Na(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),Re(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:o}=await this._useSession(async l=>{var c,d,f,p,y;const{data:_,error:b}=l;if(b)throw b;const P=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",P,{headers:this.headers,jwt:(y=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return qt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Re(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:c,provider:d,token:f,access_token:p,nonce:y}=e,_=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=l==null?void 0:l.access_token)!==null&&r!==void 0?r:void 0,body:{provider:d,id_token:f,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Sr}),{data:b,error:P}=_;return P?this._returnResult({data:{user:null,session:null},error:P}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Aa}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:P}))}catch(o){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),Re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,o;const{data:l,error:c}=n;if(c)throw c;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await AR(async o=>(o>0&&await RR(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Sr})),(o,l)=>{const c=200*Math.pow(2,o);return l&&rm(l)&&Date.now()+c-r<Fa})}catch(r){if(this._debug(n,"error",r),Re(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),qt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await mo(this.storage,this.storageKey);if(o&&this.userStorage){let c=await mo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await za(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:im()}else if(o&&!o.user&&!o.user){const c=await mo(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(o.user=c.user,await Ht(this.storage,this.storageKey+"-user"),await za(this.storage,this.storageKey,o)):o.user=im()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<tm;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${tm}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),rm(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(o.access_token);!d&&(c!=null&&c.user)?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Fn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Bh;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Fn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),Re(l)){const c={data:null,error:l};return rm(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(f){l.push(f)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ht(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await za(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=m0(o);await za(this.storage,this.storageKey,l)}else{const o=m0(n);await za(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ht(this.storage,this.storageKey),await Ht(this.storage,this.storageKey+"-code-verifier"),await Ht(this.storage,this.storageKey+"-user"),this.userStorage&&await Ht(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Fa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/Fa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Fa}ms, refresh threshold is ${Wm} ticks`),o<=Wm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof fb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,c]=await Na(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(d.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);o.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await je(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,o;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:p}=await je(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&f.type==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?oA(e.webauthn.credential_response):aA(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:f}=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:iA(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:sA(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,r,o,l;if(e)try{const{payload:P}=Hd(e);let k=null;P.aal&&(k=P.aal);let T=k;const{data:{user:C},error:A}=await this.getUser(e);if(A)return this._returnResult({data:null,error:A});((r=(n=C==null?void 0:C.factors)===null||n===void 0?void 0:n.filter(D=>D.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(T="aal2");const O=P.amr||[];return{data:{currentLevel:k,nextLevel:T,currentAuthenticationMethods:O},error:null}}catch(P){if(Re(P))return this._returnResult({data:null,error:P});throw P}const{data:{session:c},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Hd(c.access_token);let p=null;f.aal&&(p=f.aal);let y=p;((l=(o=c.user.factors)===null||o===void 0?void 0:o.filter(P=>P.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(y="aal2");const b=f.amr||[];return{data:{currentLevel:p,nextLevel:y,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?await je(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Fn})})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:o},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Fn});const c=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&qt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:o},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Fn});const c=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&qt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Fn})})}catch(e){if(Re(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?(await je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Fn})})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(d=>d.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(d=>d.kid===e),r&&this.jwks_cached_at+mR>o)return r;const{data:l,error:c}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,r=l.keys.find(d=>d.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:P,error:k}=await this.getSession();if(k||!P.session)return this._returnResult({data:null,error:k});r=P.session.access_token}const{header:o,payload:l,signature:c,raw:{header:d,payload:f}}=Hd(r);n!=null&&n.allowExpired||MR(l.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:P}=await this.getUser(r);if(P)throw P;return{data:{claims:l,header:o,signature:c},error:null}}const y=BR(o.alg),_=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,c,ER(`${d}.${f}`)))throw new Km("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}}Wc.nextInstanceID={};const gA=Wc,vA="2.95.3";let Tc="";typeof Deno<"u"?Tc="deno":typeof document<"u"?Tc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tc="react-native":Tc="node";const yA={"X-Client-Info":`supabase-js-${Tc}/${vA}`},_A={headers:yA},wA={schema:"public"},xA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bA={};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function SA(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EA(t){var e=SA(t,"string");return Hc(e)=="symbol"?e:e+""}function TA(t,e,n){return(e=EA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b0(Object(n),!0).forEach(function(r){TA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const PA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),CA=()=>Headers,kA=(t,e,n)=>{const r=PA(n),o=CA();return async(l,c)=>{var d;const f=(d=await e())!==null&&d!==void 0?d:t;let p=new o(c==null?void 0:c.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),r(l,Pt(Pt({},c),{},{headers:p}))}};function RA(t){return t.endsWith("/")?t:t+"/"}function AA(t,e){var n,r;const{db:o,auth:l,realtime:c,global:d}=t,{db:f,auth:p,realtime:y,global:_}=e,b={db:Pt(Pt({},f),o),auth:Pt(Pt({},p),l),realtime:Pt(Pt({},y),c),storage:{},global:Pt(Pt(Pt({},_),d),{},{headers:Pt(Pt({},(n=_==null?void 0:_.headers)!==null&&n!==void 0?n:{}),(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}function NA(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(RA(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var OA=class extends gA{constructor(t){super(t)}},jA=class{constructor(t,e,n){var r,o;this.supabaseUrl=t,this.supabaseKey=e;const l=NA(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:wA,realtime:bA,auth:Pt(Pt({},xA),{},{storageKey:c}),global:_A},f=AA(n??{},d);if(this.storageKey=(r=f.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=f.auth)!==null&&p!==void 0?p:{},this.headers,f.global.fetch)}this.fetch=kA(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Pt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new vk(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new uR(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new ck(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:o,storageKey:l,flowType:c,lock:d,debug:f,throwOnError:p},y,_){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new OA({url:this.authUrl.href,headers:Pt(Pt({},b),y),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:o,flowType:c,lock:d,debug:f,throwOnError:p,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(P=>P.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Lk(this.realtimeUrl.href,Pt(Pt({},t),{},{params:Pt(Pt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const LA=(t,e,n)=>new jA(t,e,n);function IA(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}IA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const DA=void 0,MA=void 0;console.error("Missing Supabase environment variables");const Ke=LA(DA,MA),gb=S.createContext(null),BA={tenant:"/dashboard",landlord:"/dashboard",dao_member:"/dao",admin:"/admin"};function FA({children:t}){const[e,n]=S.useState(null),[r,o]=S.useState(null),[l,c]=S.useState(null),[d,f]=S.useState(!0),p=Qc(),y=S.useCallback(async A=>{try{const{data:j,error:O}=await Ke.from("profiles").select("*").eq("id",A).single();return O?(console.error("Error fetching profile:",O),null):j}catch(j){return console.error("Profile fetch error:",j),null}},[]),_=S.useCallback(async A=>{if(A!=null&&A.user){n(A.user);const j=await y(A.user.id);j&&(o(j),c(j.role))}else n(null),o(null),c(null);f(!1)},[y]);S.useEffect(()=>{Ke.auth.getSession().then(({data:{session:j}})=>{_(j)});const{data:{subscription:A}}=Ke.auth.onAuthStateChange(async(j,O)=>{if(console.log("Auth event:",j),await _(O),j==="SIGNED_IN"&&(O!=null&&O.user)){const D=await y(O.user.id);if(D!=null&&D.role){const z=BA[D.role]||"/dashboard";p(z)}}j==="SIGNED_OUT"&&p("/login")});return()=>{A==null||A.unsubscribe()}},[_,y,p]);const C={user:e,profile:r,role:l,loading:d,signIn:async(A,j)=>{f(!0);try{const{data:O,error:D}=await Ke.auth.signInWithPassword({email:A,password:j});if(D)throw D;return{data:O,error:null}}catch(O){return console.error("Sign in error:",O),{data:null,error:O}}finally{f(!1)}},signUp:async(A,j,O={})=>{f(!0);try{const{data:D,error:z}=await Ke.auth.signUp({email:A,password:j,options:{data:O}});if(z)throw z;if(D.user){const{error:W}=await Ke.from("profiles").insert({id:D.user.id,email:D.user.email,full_name:O.full_name||"",role:O.role||"tenant"});W&&console.error("Profile creation error:",W)}return{data:D,error:null}}catch(D){return console.error("Sign up error:",D),{data:null,error:D}}finally{f(!1)}},signOut:async()=>{f(!0);try{const{error:A}=await Ke.auth.signOut();if(A)throw A}catch(A){console.error("Sign out error:",A)}finally{f(!1)}},refreshProfile:async()=>{if(e){const A=await y(e.id);A&&(o(A),c(A.role))}},isAuthenticated:!!e,isTenant:l==="tenant",isLandlord:l==="landlord",isDAOMember:l==="dao_member",isAdmin:l==="admin"};return v.jsx(gb.Provider,{value:C,children:t})}function lr(){const t=S.useContext(gb);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function $e(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function S0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ul(...t){return e=>{let n=!1;const r=t.map(o=>{const l=S0(o,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<r.length;o++){const l=r[o];typeof l=="function"?l():S0(t[o],null)}}}}function vt(...t){return S.useCallback(ul(...t),t)}function zA(t,e){const n=S.createContext(e),r=l=>{const{children:c,...d}=l,f=S.useMemo(()=>d,Object.values(d));return v.jsx(n.Provider,{value:f,children:c})};r.displayName=t+"Provider";function o(l){const c=S.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[r,o]}function Lo(t,e=[]){let n=[];function r(l,c){const d=S.createContext(c),f=n.length;n=[...n,c];const p=_=>{var A;const{scope:b,children:P,...k}=_,T=((A=b==null?void 0:b[t])==null?void 0:A[f])||d,C=S.useMemo(()=>k,Object.values(k));return v.jsx(T.Provider,{value:C,children:P})};p.displayName=l+"Provider";function y(_,b){var T;const P=((T=b==null?void 0:b[t])==null?void 0:T[f])||d,k=S.useContext(P);if(k)return k;if(c!==void 0)return c;throw new Error(`\`${_}\` must be used within \`${l}\``)}return[p,y]}const o=()=>{const l=n.map(c=>S.createContext(c));return function(d){const f=(d==null?void 0:d[t])||l;return S.useMemo(()=>({[`__scope${t}`]:{...d,[t]:f}}),[d,f])}};return o.scopeName=t,[r,UA(o,...e)]}function UA(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=r.reduce((d,{useScope:f,scopeName:p})=>{const _=f(l)[`__scope${p}`];return{...d,..._}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function E0(t){const e=VA(t),n=S.forwardRef((r,o)=>{const{children:l,...c}=r,d=S.Children.toArray(l),f=d.find(WA);if(f){const p=f.props.children,y=d.map(_=>_===f?S.Children.count(p)>1?S.Children.only(null):S.isValidElement(p)?p.props.children:null:_);return v.jsx(e,{...c,ref:o,children:S.isValidElement(p)?S.cloneElement(p,void 0,y):null})}return v.jsx(e,{...c,ref:o,children:l})});return n.displayName=`${t}.Slot`,n}function VA(t){const e=S.forwardRef((n,r)=>{const{children:o,...l}=n;if(S.isValidElement(o)){const c=qA(o),d=HA(l,o.props);return o.type!==S.Fragment&&(d.ref=r?ul(r,c):c),S.cloneElement(o,d)}return S.Children.count(o)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $A=Symbol("radix.slottable");function WA(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$A}function HA(t,e){const n={...e};for(const r in e){const o=t[r],l=e[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...t,...n}}function qA(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ug(t){const e=t+"CollectionProvider",[n,r]=Lo(e),[o,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=T=>{const{scope:C,children:A}=T,j=Sn.useRef(null),O=Sn.useRef(new Map).current;return v.jsx(o,{scope:C,itemMap:O,collectionRef:j,children:A})};c.displayName=e;const d=t+"CollectionSlot",f=E0(d),p=Sn.forwardRef((T,C)=>{const{scope:A,children:j}=T,O=l(d,A),D=vt(C,O.collectionRef);return v.jsx(f,{ref:D,children:j})});p.displayName=d;const y=t+"CollectionItemSlot",_="data-radix-collection-item",b=E0(y),P=Sn.forwardRef((T,C)=>{const{scope:A,children:j,...O}=T,D=Sn.useRef(null),z=vt(C,D),W=l(y,A);return Sn.useEffect(()=>(W.itemMap.set(D,{ref:D,...O}),()=>void W.itemMap.delete(D))),v.jsx(b,{[_]:"",ref:z,children:j})});P.displayName=y;function k(T){const C=l(t+"CollectionConsumer",T);return Sn.useCallback(()=>{const j=C.collectionRef.current;if(!j)return[];const O=Array.from(j.querySelectorAll(`[${_}]`));return Array.from(C.itemMap.values()).sort((W,H)=>O.indexOf(W.ref.current)-O.indexOf(H.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:c,Slot:p,ItemSlot:P},k,r]}function KA(t){const e=ZA(t),n=S.forwardRef((r,o)=>{const{children:l,...c}=r,d=S.Children.toArray(l),f=d.find(JA);if(f){const p=f.props.children,y=d.map(_=>_===f?S.Children.count(p)>1?S.Children.only(null):S.isValidElement(p)?p.props.children:null:_);return v.jsx(e,{...c,ref:o,children:S.isValidElement(p)?S.cloneElement(p,void 0,y):null})}return v.jsx(e,{...c,ref:o,children:l})});return n.displayName=`${t}.Slot`,n}function ZA(t){const e=S.forwardRef((n,r)=>{const{children:o,...l}=n;if(S.isValidElement(o)){const c=XA(o),d=YA(l,o.props);return o.type!==S.Fragment&&(d.ref=r?ul(r,c):c),S.cloneElement(o,d)}return S.Children.count(o)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var GA=Symbol("radix.slottable");function JA(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===GA}function YA(t,e){const n={...e};for(const r in e){const o=t[r],l=e[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...t,...n}}function XA(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var QA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ze=QA.reduce((t,e)=>{const n=KA(`Primitive.${e}`),r=S.forwardRef((o,l)=>{const{asChild:c,...d}=o,f=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(f,{...d,ref:l})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function vb(t,e){t&&jo.flushSync(()=>t.dispatchEvent(e))}function or(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function eN(t,e=globalThis==null?void 0:globalThis.document){const n=or(t);S.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var tN="DismissableLayer",Zm="dismissableLayer.update",nN="dismissableLayer.pointerDownOutside",rN="dismissableLayer.focusOutside",T0,yb=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fh=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...f}=t,p=S.useContext(yb),[y,_]=S.useState(null),b=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,P]=S.useState({}),k=vt(e,H=>_(H)),T=Array.from(p.layers),[C]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),A=T.indexOf(C),j=y?T.indexOf(y):-1,O=p.layersWithOutsidePointerEventsDisabled.size>0,D=j>=A,z=sN(H=>{const X=H.target,ue=[...p.branches].some(ye=>ye.contains(X));!D||ue||(o==null||o(H),c==null||c(H),H.defaultPrevented||d==null||d())},b),W=oN(H=>{const X=H.target;[...p.branches].some(ye=>ye.contains(X))||(l==null||l(H),c==null||c(H),H.defaultPrevented||d==null||d())},b);return eN(H=>{j===p.layers.size-1&&(r==null||r(H),!H.defaultPrevented&&d&&(H.preventDefault(),d()))},b),S.useEffect(()=>{if(y)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(T0=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),P0(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=T0)}},[y,b,n,p]),S.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),P0())},[y,p]),S.useEffect(()=>{const H=()=>P({});return document.addEventListener(Zm,H),()=>document.removeEventListener(Zm,H)},[]),v.jsx(Ze.div,{...f,ref:k,style:{pointerEvents:O?D?"auto":"none":void 0,...t.style},onFocusCapture:$e(t.onFocusCapture,W.onFocusCapture),onBlurCapture:$e(t.onBlurCapture,W.onBlurCapture),onPointerDownCapture:$e(t.onPointerDownCapture,z.onPointerDownCapture)})});Fh.displayName=tN;var iN="DismissableLayerBranch",_b=S.forwardRef((t,e)=>{const n=S.useContext(yb),r=S.useRef(null),o=vt(e,r);return S.useEffect(()=>{const l=r.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),v.jsx(Ze.div,{...t,ref:o})});_b.displayName=iN;function sN(t,e=globalThis==null?void 0:globalThis.document){const n=or(t),r=S.useRef(!1),o=S.useRef(()=>{});return S.useEffect(()=>{const l=d=>{if(d.target&&!r.current){let f=function(){wb(nN,n,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function oN(t,e=globalThis==null?void 0:globalThis.document){const n=or(t),r=S.useRef(!1);return S.useEffect(()=>{const o=l=>{l.target&&!r.current&&wb(rN,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function P0(){const t=new CustomEvent(Zm);document.dispatchEvent(t)}function wb(t,e,n,{discrete:r}){const o=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?vb(o,l):o.dispatchEvent(l)}var aN=Fh,lN=_b,Zt=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},cN="Portal",zh=S.forwardRef((t,e)=>{var d;const{container:n,...r}=t,[o,l]=S.useState(!1);Zt(()=>l(!0),[]);const c=n||o&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?t1.createPortal(v.jsx(Ze.div,{...r,ref:e}),c):null});zh.displayName=cN;function uN(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var dl=t=>{const{present:e,children:n}=t,r=dN(e),o=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),l=vt(r.ref,hN(o));return typeof n=="function"||r.isPresent?S.cloneElement(o,{ref:l}):null};dl.displayName="Presence";function dN(t){const[e,n]=S.useState(),r=S.useRef(null),o=S.useRef(t),l=S.useRef("none"),c=t?"mounted":"unmounted",[d,f]=uN(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const p=qd(r.current);l.current=d==="mounted"?p:"none"},[d]),Zt(()=>{const p=r.current,y=o.current;if(y!==t){const b=l.current,P=qd(p);t?f("MOUNT"):P==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(y&&b!==P?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,f]),Zt(()=>{if(e){let p;const y=e.ownerDocument.defaultView??window,_=P=>{const T=qd(r.current).includes(CSS.escape(P.animationName));if(P.target===e&&T&&(f("ANIMATION_END"),!o.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",p=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},b=P=>{P.target===e&&(l.current=qd(r.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{y.clearTimeout(p),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:S.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function qd(t){return(t==null?void 0:t.animationName)||"none"}function hN(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var fN=Lh[" useInsertionEffect ".trim().toString()]||Zt;function Qa({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[o,l,c]=pN({defaultProp:e,onChange:n}),d=t!==void 0,f=d?t:o;{const y=S.useRef(t!==void 0);S.useEffect(()=>{const _=y.current;_!==d&&console.warn(`${r} is changing from ${_?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=d},[d,r])}const p=S.useCallback(y=>{var _;if(d){const b=mN(y)?y(t):y;b!==t&&((_=c.current)==null||_.call(c,b))}else l(y)},[d,t,l,c]);return[f,p]}function pN({defaultProp:t,onChange:e}){const[n,r]=S.useState(t),o=S.useRef(n),l=S.useRef(e);return fN(()=>{l.current=e},[e]),S.useEffect(()=>{var c;o.current!==n&&((c=l.current)==null||c.call(l,n),o.current=n)},[n,o]),[n,r,l]}function mN(t){return typeof t=="function"}var xb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),gN="VisuallyHidden",Vg=S.forwardRef((t,e)=>v.jsx(Ze.span,{...t,ref:e,style:{...xb,...t.style}}));Vg.displayName=gN;var $g="ToastProvider",[Wg,vN,yN]=Ug("Toast"),[bb]=Lo("Toast",[yN]),[_N,Uh]=bb($g),Sb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:l=50,children:c}=t,[d,f]=S.useState(null),[p,y]=S.useState(0),_=S.useRef(!1),b=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${$g}\`. Expected non-empty \`string\`.`),v.jsx(Wg.Provider,{scope:e,children:v.jsx(_N,{scope:e,label:n,duration:r,swipeDirection:o,swipeThreshold:l,toastCount:p,viewport:d,onViewportChange:f,onToastAdd:S.useCallback(()=>y(P=>P+1),[]),onToastRemove:S.useCallback(()=>y(P=>P-1),[]),isFocusedToastEscapeKeyDownRef:_,isClosePausedRef:b,children:c})})};Sb.displayName=$g;var Eb="ToastViewport",wN=["F8"],Gm="toast.viewportPause",Jm="toast.viewportResume",Tb=S.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=wN,label:o="Notifications ({hotkey})",...l}=t,c=Uh(Eb,n),d=vN(n),f=S.useRef(null),p=S.useRef(null),y=S.useRef(null),_=S.useRef(null),b=vt(e,_,c.onViewportChange),P=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=c.toastCount>0;S.useEffect(()=>{const C=A=>{var O;r.length!==0&&r.every(D=>A[D]||A.code===D)&&((O=_.current)==null||O.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[r]),S.useEffect(()=>{const C=f.current,A=_.current;if(k&&C&&A){const j=()=>{if(!c.isClosePausedRef.current){const W=new CustomEvent(Gm);A.dispatchEvent(W),c.isClosePausedRef.current=!0}},O=()=>{if(c.isClosePausedRef.current){const W=new CustomEvent(Jm);A.dispatchEvent(W),c.isClosePausedRef.current=!1}},D=W=>{!C.contains(W.relatedTarget)&&O()},z=()=>{C.contains(document.activeElement)||O()};return C.addEventListener("focusin",j),C.addEventListener("focusout",D),C.addEventListener("pointermove",j),C.addEventListener("pointerleave",z),window.addEventListener("blur",j),window.addEventListener("focus",O),()=>{C.removeEventListener("focusin",j),C.removeEventListener("focusout",D),C.removeEventListener("pointermove",j),C.removeEventListener("pointerleave",z),window.removeEventListener("blur",j),window.removeEventListener("focus",O)}}},[k,c.isClosePausedRef]);const T=S.useCallback(({tabbingDirection:C})=>{const j=d().map(O=>{const D=O.ref.current,z=[D,...LN(D)];return C==="forwards"?z:z.reverse()});return(C==="forwards"?j.reverse():j).flat()},[d]);return S.useEffect(()=>{const C=_.current;if(C){const A=j=>{var z,W,H;const O=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!O){const X=document.activeElement,ue=j.shiftKey;if(j.target===C&&ue){(z=p.current)==null||z.focus();return}const le=T({tabbingDirection:ue?"backwards":"forwards"}),be=le.findIndex(G=>G===X);om(le.slice(be+1))?j.preventDefault():ue?(W=p.current)==null||W.focus():(H=y.current)==null||H.focus()}};return C.addEventListener("keydown",A),()=>C.removeEventListener("keydown",A)}},[d,T]),v.jsxs(lN,{ref:f,role:"region","aria-label":o.replace("{hotkey}",P),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&v.jsx(Ym,{ref:p,onFocusFromOutsideViewport:()=>{const C=T({tabbingDirection:"forwards"});om(C)}}),v.jsx(Wg.Slot,{scope:n,children:v.jsx(Ze.ol,{tabIndex:-1,...l,ref:b})}),k&&v.jsx(Ym,{ref:y,onFocusFromOutsideViewport:()=>{const C=T({tabbingDirection:"backwards"});om(C)}})]})});Tb.displayName=Eb;var Pb="ToastFocusProxy",Ym=S.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=t,l=Uh(Pb,n);return v.jsx(Vg,{tabIndex:0,...o,ref:e,style:{position:"fixed"},onFocus:c=>{var p;const d=c.relatedTarget;!((p=l.viewport)!=null&&p.contains(d))&&r()}})});Ym.displayName=Pb;var tu="Toast",xN="toast.swipeStart",bN="toast.swipeMove",SN="toast.swipeCancel",EN="toast.swipeEnd",Cb=S.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:l,...c}=t,[d,f]=Qa({prop:r,defaultProp:o??!0,onChange:l,caller:tu});return v.jsx(dl,{present:n||d,children:v.jsx(CN,{open:d,...c,ref:e,onClose:()=>f(!1),onPause:or(t.onPause),onResume:or(t.onResume),onSwipeStart:$e(t.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:$e(t.onSwipeMove,p=>{const{x:y,y:_}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${_}px`)}),onSwipeCancel:$e(t.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:$e(t.onSwipeEnd,p=>{const{x:y,y:_}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${_}px`),f(!1)})})})});Cb.displayName=tu;var[TN,PN]=bb(tu,{onClose(){}}),CN=S.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:l,onClose:c,onEscapeKeyDown:d,onPause:f,onResume:p,onSwipeStart:y,onSwipeMove:_,onSwipeCancel:b,onSwipeEnd:P,...k}=t,T=Uh(tu,n),[C,A]=S.useState(null),j=vt(e,G=>A(G)),O=S.useRef(null),D=S.useRef(null),z=o||T.duration,W=S.useRef(0),H=S.useRef(z),X=S.useRef(0),{onToastAdd:ue,onToastRemove:ye}=T,pe=or(()=>{var se;(C==null?void 0:C.contains(document.activeElement))&&((se=T.viewport)==null||se.focus()),c()}),le=S.useCallback(G=>{!G||G===1/0||(window.clearTimeout(X.current),W.current=new Date().getTime(),X.current=window.setTimeout(pe,G))},[pe]);S.useEffect(()=>{const G=T.viewport;if(G){const se=()=>{le(H.current),p==null||p()},ne=()=>{const oe=new Date().getTime()-W.current;H.current=H.current-oe,window.clearTimeout(X.current),f==null||f()};return G.addEventListener(Gm,ne),G.addEventListener(Jm,se),()=>{G.removeEventListener(Gm,ne),G.removeEventListener(Jm,se)}}},[T.viewport,z,f,p,le]),S.useEffect(()=>{l&&!T.isClosePausedRef.current&&le(z)},[l,z,T.isClosePausedRef,le]),S.useEffect(()=>(ue(),()=>ye()),[ue,ye]);const be=S.useMemo(()=>C?jb(C):null,[C]);return T.viewport?v.jsxs(v.Fragment,{children:[be&&v.jsx(kN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:be}),v.jsx(TN,{scope:n,onClose:pe,children:jo.createPortal(v.jsx(Wg.ItemSlot,{scope:n,children:v.jsx(aN,{asChild:!0,onEscapeKeyDown:$e(d,()=>{T.isFocusedToastEscapeKeyDownRef.current||pe(),T.isFocusedToastEscapeKeyDownRef.current=!1}),children:v.jsx(Ze.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":T.swipeDirection,...k,ref:j,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:$e(t.onKeyDown,G=>{G.key==="Escape"&&(d==null||d(G.nativeEvent),G.nativeEvent.defaultPrevented||(T.isFocusedToastEscapeKeyDownRef.current=!0,pe()))}),onPointerDown:$e(t.onPointerDown,G=>{G.button===0&&(O.current={x:G.clientX,y:G.clientY})}),onPointerMove:$e(t.onPointerMove,G=>{if(!O.current)return;const se=G.clientX-O.current.x,ne=G.clientY-O.current.y,oe=!!D.current,V=["left","right"].includes(T.swipeDirection),ce=["left","up"].includes(T.swipeDirection)?Math.min:Math.max,te=V?ce(0,se):0,B=V?0:ce(0,ne),Q=G.pointerType==="touch"?10:2,_e={x:te,y:B},me={originalEvent:G,delta:_e};oe?(D.current=_e,Kd(bN,_,me,{discrete:!1})):C0(_e,T.swipeDirection,Q)?(D.current=_e,Kd(xN,y,me,{discrete:!1}),G.target.setPointerCapture(G.pointerId)):(Math.abs(se)>Q||Math.abs(ne)>Q)&&(O.current=null)}),onPointerUp:$e(t.onPointerUp,G=>{const se=D.current,ne=G.target;if(ne.hasPointerCapture(G.pointerId)&&ne.releasePointerCapture(G.pointerId),D.current=null,O.current=null,se){const oe=G.currentTarget,V={originalEvent:G,delta:se};C0(se,T.swipeDirection,T.swipeThreshold)?Kd(EN,P,V,{discrete:!0}):Kd(SN,b,V,{discrete:!0}),oe.addEventListener("click",ce=>ce.preventDefault(),{once:!0})}})})})}),T.viewport)})]}):null}),kN=t=>{const{__scopeToast:e,children:n,...r}=t,o=Uh(tu,e),[l,c]=S.useState(!1),[d,f]=S.useState(!1);return ON(()=>c(!0)),S.useEffect(()=>{const p=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(p)},[]),d?null:v.jsx(zh,{asChild:!0,children:v.jsx(Vg,{...r,children:l&&v.jsxs(v.Fragment,{children:[o.label," ",n]})})})},RN="ToastTitle",kb=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(Ze.div,{...r,ref:e})});kb.displayName=RN;var AN="ToastDescription",Rb=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(Ze.div,{...r,ref:e})});Rb.displayName=AN;var Ab="ToastAction",NN=S.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?v.jsx(Ob,{altText:n,asChild:!0,children:v.jsx(Hg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ab}\`. Expected non-empty \`string\`.`),null)});NN.displayName=Ab;var Nb="ToastClose",Hg=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,o=PN(Nb,n);return v.jsx(Ob,{asChild:!0,children:v.jsx(Ze.button,{type:"button",...r,ref:e,onClick:$e(t.onClick,o.onClose)})})});Hg.displayName=Nb;var Ob=S.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...o}=t;return v.jsx(Ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:e})});function jb(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),jN(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",l=r.dataset.radixToastAnnounceExclude==="";if(!o)if(l){const c=r.dataset.radixToastAnnounceAlt;c&&e.push(c)}else e.push(...jb(r))}}),e}function Kd(t,e,n,{discrete:r}){const o=n.originalEvent.currentTarget,l=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?vb(o,l):o.dispatchEvent(l)}var C0=(t,e,n=0)=>{const r=Math.abs(t.x),o=Math.abs(t.y),l=r>o;return e==="left"||e==="right"?l&&r>n:!l&&o>n};function ON(t=()=>{}){const e=or(t);Zt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function jN(t){return t.nodeType===t.ELEMENT_NODE}function LN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function om(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var IN=Sb,DN=Tb,MN=Cb,BN=kb,FN=Rb,zN=Hg;/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ge=(t,e)=>{const n=S.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:f,...p},y)=>S.createElement("svg",{ref:y,...UN,width:o,height:o,stroke:r,strokeWidth:c?Number(l)*24/Number(o):l,className:["lucide",`lucide-${VN(t)}`,d].join(" "),...p},[...e.map(([_,b])=>S.createElement(_,b)),...Array.isArray(f)?f:[f]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=Ge("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=Ge("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=Ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=Ge("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=Ge("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Ge("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=Ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=Ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=Ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=Ge("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=Ge("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=Ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=Ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=Ge("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=Ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=Ge("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=Ge("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=Ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=Ge("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=Ge("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=Ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=Ge("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=Ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=Ge("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=Ge("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=Ge("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=Ge("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=Ge("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=Ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=Ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=Ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=Ge("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=Ge("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function zb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=zb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ub(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=zb(t))&&(r&&(r+=" "),r+=e);return r}const Kg="-",nO=t=>{const e=iO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const d=c.split(Kg);return d[0]===""&&d.length!==1&&d.shift(),Vb(d,e)||rO(c)},getConflictingClassGroupIds:(c,d)=>{const f=n[c]||[];return d&&r[c]?[...f,...r[c]]:f}}},Vb=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),o=r?Vb(t.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const l=t.join(Kg);return(c=e.validators.find(({validator:d})=>d(l)))==null?void 0:c.classGroupId},j0=/^\[(.+)\]$/,rO=t=>{if(j0.test(t)){const e=j0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},iO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return oO(Object.entries(t.classGroups),n).forEach(([l,c])=>{eg(c,r,l,e)}),r},eg=(t,e,n,r)=>{t.forEach(o=>{if(typeof o=="string"){const l=o===""?e:L0(e,o);l.classGroupId=n;return}if(typeof o=="function"){if(sO(o)){eg(o(r),e,n,r);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([l,c])=>{eg(c,L0(e,l),n,r)})})},L0=(t,e)=>{let n=t;return e.split(Kg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},sO=t=>t.isThemeGetter,oO=(t,e)=>e?t.map(([n,r])=>{const o=r.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,d])=>[e+c,d])):l);return[n,o]}):t,aO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const o=(l,c)=>{n.set(l,c),e++,e>t&&(e=0,r=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=r.get(l))!==void 0)return o(l,c),c},set(l,c){n.has(l)?n.set(l,c):o(l,c)}}},$b="!",lO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,o=e[0],l=e.length,c=d=>{const f=[];let p=0,y=0,_;for(let C=0;C<d.length;C++){let A=d[C];if(p===0){if(A===o&&(r||d.slice(C,C+l)===e)){f.push(d.slice(y,C)),y=C+l;continue}if(A==="/"){_=C;continue}}A==="["?p++:A==="]"&&p--}const b=f.length===0?d:d.substring(y),P=b.startsWith($b),k=P?b.substring(1):b,T=_&&_>y?_-y:void 0;return{modifiers:f,hasImportantModifier:P,baseClassName:k,maybePostfixModifierPosition:T}};return n?d=>n({className:d,parseClassName:c}):c},cO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},uO=t=>({cache:aO(t.cacheSize),parseClassName:lO(t),...nO(t)}),dO=/\s+/,hO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=e,l=[],c=t.trim().split(dO);let d="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{modifiers:y,hasImportantModifier:_,baseClassName:b,maybePostfixModifierPosition:P}=n(p);let k=!!P,T=r(k?b.substring(0,P):b);if(!T){if(!k){d=p+(d.length>0?" "+d:d);continue}if(T=r(b),!T){d=p+(d.length>0?" "+d:d);continue}k=!1}const C=cO(y).join(":"),A=_?C+$b:C,j=A+T;if(l.includes(j))continue;l.push(j);const O=o(T,k);for(let D=0;D<O.length;++D){const z=O[D];l.push(A+z)}d=p+(d.length>0?" "+d:d)}return d};function fO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Wb(e))&&(r&&(r+=" "),r+=n);return r}const Wb=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Wb(t[r]))&&(n&&(n+=" "),n+=e);return n};function pO(t,...e){let n,r,o,l=c;function c(f){const p=e.reduce((y,_)=>_(y),t());return n=uO(p),r=n.cache.get,o=n.cache.set,l=d,d(f)}function d(f){const p=r(f);if(p)return p;const y=hO(f,n);return o(f,y),y}return function(){return l(fO.apply(null,arguments))}}const pt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Hb=/^\[(?:([a-z-]+):)?(.+)\]$/i,mO=/^\d+\/\d+$/,gO=new Set(["px","full","screen"]),vO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_O=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,wO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pi=t=>Ga(t)||gO.has(t)||mO.test(t),_s=t=>hl(t,"length",RO),Ga=t=>!!t&&!Number.isNaN(Number(t)),am=t=>hl(t,"number",Ga),_c=t=>!!t&&Number.isInteger(Number(t)),bO=t=>t.endsWith("%")&&Ga(t.slice(0,-1)),He=t=>Hb.test(t),ws=t=>vO.test(t),SO=new Set(["length","size","percentage"]),EO=t=>hl(t,SO,qb),TO=t=>hl(t,"position",qb),PO=new Set(["image","url"]),CO=t=>hl(t,PO,NO),kO=t=>hl(t,"",AO),wc=()=>!0,hl=(t,e,n)=>{const r=Hb.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},RO=t=>yO.test(t)&&!_O.test(t),qb=()=>!1,AO=t=>wO.test(t),NO=t=>xO.test(t),OO=()=>{const t=pt("colors"),e=pt("spacing"),n=pt("blur"),r=pt("brightness"),o=pt("borderColor"),l=pt("borderRadius"),c=pt("borderSpacing"),d=pt("borderWidth"),f=pt("contrast"),p=pt("grayscale"),y=pt("hueRotate"),_=pt("invert"),b=pt("gap"),P=pt("gradientColorStops"),k=pt("gradientColorStopPositions"),T=pt("inset"),C=pt("margin"),A=pt("opacity"),j=pt("padding"),O=pt("saturate"),D=pt("scale"),z=pt("sepia"),W=pt("skew"),H=pt("space"),X=pt("translate"),ue=()=>["auto","contain","none"],ye=()=>["auto","hidden","clip","visible","scroll"],pe=()=>["auto",He,e],le=()=>[He,e],be=()=>["",Pi,_s],G=()=>["auto",Ga,He],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],ce=()=>["","0",He],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Ga,He];return{cacheSize:500,separator:":",theme:{colors:[wc],spacing:[Pi,_s],blur:["none","",ws,He],brightness:B(),borderColor:[t],borderRadius:["none","","full",ws,He],borderSpacing:le(),borderWidth:be(),contrast:B(),grayscale:ce(),hueRotate:B(),invert:ce(),gap:le(),gradientColorStops:[t],gradientColorStopPositions:[bO,_s],inset:pe(),margin:pe(),opacity:B(),padding:le(),saturate:B(),scale:B(),sepia:ce(),skew:B(),space:le(),translate:le()},classGroups:{aspect:[{aspect:["auto","square","video",He]}],container:["container"],columns:[{columns:[ws]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),He]}],overflow:[{overflow:ye()}],"overflow-x":[{"overflow-x":ye()}],"overflow-y":[{"overflow-y":ye()}],overscroll:[{overscroll:ue()}],"overscroll-x":[{"overscroll-x":ue()}],"overscroll-y":[{"overscroll-y":ue()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[T]}],"inset-x":[{"inset-x":[T]}],"inset-y":[{"inset-y":[T]}],start:[{start:[T]}],end:[{end:[T]}],top:[{top:[T]}],right:[{right:[T]}],bottom:[{bottom:[T]}],left:[{left:[T]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_c,He]}],basis:[{basis:pe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",He]}],grow:[{grow:ce()}],shrink:[{shrink:ce()}],order:[{order:["first","last","none",_c,He]}],"grid-cols":[{"grid-cols":[wc]}],"col-start-end":[{col:["auto",{span:["full",_c,He]},He]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[wc]}],"row-start-end":[{row:["auto",{span:[_c,He]},He]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",He]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",He]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[H]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[H]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",He,e]}],"min-w":[{"min-w":[He,e,"min","max","fit"]}],"max-w":[{"max-w":[He,e,"none","full","min","max","fit","prose",{screen:[ws]},ws]}],h:[{h:[He,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[He,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[He,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[He,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ws,_s]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",am]}],"font-family":[{font:[wc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",He]}],"line-clamp":[{"line-clamp":["none",Ga,am]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pi,He]}],"list-image":[{"list-image":["none",He]}],"list-style-type":[{list:["none","disc","decimal",He]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pi,_s]}],"underline-offset":[{"underline-offset":["auto",Pi,He]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:le()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),TO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",EO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},CO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[P]}],"gradient-via":[{via:[P]}],"gradient-to":[{to:[P]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:ne()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[Pi,He]}],"outline-w":[{outline:[Pi,_s]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:be()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[Pi,_s]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ws,kO]}],"shadow-color":[{shadow:[wc]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",ws,He]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[_]}],saturate:[{saturate:[O]}],sepia:[{sepia:[z]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[_]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",He]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",He]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",He]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[_c,He]}],"translate-x":[{"translate-x":[X]}],"translate-y":[{"translate-y":[X]}],"skew-x":[{"skew-x":[W]}],"skew-y":[{"skew-y":[W]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",He]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":le()}],"scroll-mx":[{"scroll-mx":le()}],"scroll-my":[{"scroll-my":le()}],"scroll-ms":[{"scroll-ms":le()}],"scroll-me":[{"scroll-me":le()}],"scroll-mt":[{"scroll-mt":le()}],"scroll-mr":[{"scroll-mr":le()}],"scroll-mb":[{"scroll-mb":le()}],"scroll-ml":[{"scroll-ml":le()}],"scroll-p":[{"scroll-p":le()}],"scroll-px":[{"scroll-px":le()}],"scroll-py":[{"scroll-py":le()}],"scroll-ps":[{"scroll-ps":le()}],"scroll-pe":[{"scroll-pe":le()}],"scroll-pt":[{"scroll-pt":le()}],"scroll-pr":[{"scroll-pr":le()}],"scroll-pb":[{"scroll-pb":le()}],"scroll-pl":[{"scroll-pl":le()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Pi,_s,am]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jO=pO(OO);function it(...t){return jO(Ub(t))}const Kb=S.createContext(null);function LO({children:t}){const[e,n]=S.useState([]),r=S.useCallback(({title:c,description:d,variant:f="default",duration:p=5e3})=>{const y=Date.now();return n(_=>[..._,{id:y,title:c,description:d,variant:f,duration:p}]),p>0&&setTimeout(()=>{n(_=>_.filter(b=>b.id!==y))},p),y},[]),o=S.useCallback(c=>{n(d=>d.filter(f=>f.id!==c))},[]),l=S.useCallback(c=>r(c),[r]);return l.success=(c,d)=>r({title:c,description:d,variant:"success"}),l.error=(c,d)=>r({title:c,description:d,variant:"error"}),l.warning=(c,d)=>r({title:c,description:d,variant:"warning"}),v.jsx(Kb.Provider,{value:{toast:l,removeToast:o},children:v.jsxs(IN,{swipeDirection:"right",children:[t,e.map(c=>v.jsxs(MN,{open:!0,onOpenChange:d=>!d&&o(c.id),className:it("fixed bottom-4 right-4 z-[100] flex w-full max-w-sm items-center justify-between gap-4 rounded-lg border p-4 shadow-lg transition-all","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-bottom-full",{"border-gray-700 bg-gray-800 text-white":c.variant==="default","border-green-600 bg-green-900/90 text-green-100":c.variant==="success","border-red-600 bg-red-900/90 text-red-100":c.variant==="error","border-yellow-600 bg-yellow-900/90 text-yellow-100":c.variant==="warning"}),children:[v.jsxs("div",{className:"flex flex-col gap-1",children:[c.title&&v.jsx(BN,{className:"text-sm font-semibold",children:c.title}),c.description&&v.jsx(FN,{className:"text-sm opacity-90",children:c.description})]}),v.jsx(zN,{className:"rounded p-1 opacity-70 hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-white/20",children:v.jsx(qh,{className:"h-4 w-4"})})]},c.id)),v.jsx(DN,{className:"fixed bottom-0 right-0 z-[100] m-0 flex max-h-screen w-full flex-col-reverse gap-2 p-4 sm:max-w-[420px]"})]})})}function Io(){const t=S.useContext(Kb);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}function xc({children:t}){const{isAuthenticated:e,loading:n}=lr(),r=al();return n?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),v.jsx("p",{className:"text-gray-400",children:"Loading..."})]})}):e?t:v.jsx(Xa,{to:"/login",state:{from:r},replace:!0})}function lm({children:t,allowedRoles:e,redirectTo:n="/dashboard"}){const{role:r,loading:o}=lr();return o?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),v.jsx("p",{className:"text-gray-400",children:"Checking permissions..."})]})}):(Array.isArray(e)?e:[e]).includes(r)?t:v.jsx(Xa,{to:n,replace:!0})}const Zb=S.createContext({});function IO(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Zg=S.createContext(null),Gb=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function DO(t=!0){const e=S.useContext(Zg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,l=S.useId();S.useEffect(()=>{t&&o(l)},[t]);const c=S.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const Gg=typeof window<"u",MO=Gg?S.useLayoutEffect:S.useEffect,$n=t=>t;let Jb=$n;function Jg(t){let e;return()=>(e===void 0&&(e=t()),e)}const el=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ai=t=>t*1e3,Ni=t=>t/1e3,BO={useManualTiming:!1};function FO(t){let e=new Set,n=new Set,r=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(p){l.has(p)&&(f.schedule(p),t()),p(c)}const f={schedule:(p,y=!1,_=!1)=>{const P=_&&r?e:n;return y&&l.add(p),P.has(p)||P.add(p),p},cancel:p=>{n.delete(p),l.delete(p)},process:p=>{if(c=p,r){o=!0;return}r=!0,[e,n]=[n,e],e.forEach(d),e.clear(),r=!1,o&&(o=!1,f.process(p))}};return f}const Zd=["read","resolveKeyframes","update","preRender","render","postRender"],zO=40;function Yb(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Zd.reduce((A,j)=>(A[j]=FO(l),A),{}),{read:d,resolveKeyframes:f,update:p,preRender:y,render:_,postRender:b}=c,P=()=>{const A=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(A-o.timestamp,zO),1),o.timestamp=A,o.isProcessing=!0,d.process(o),f.process(o),p.process(o),y.process(o),_.process(o),b.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(P))},k=()=>{n=!0,r=!0,o.isProcessing||t(P)};return{schedule:Zd.reduce((A,j)=>{const O=c[j];return A[j]=(D,z=!1,W=!1)=>(n||k(),O.schedule(D,z,W)),A},{}),cancel:A=>{for(let j=0;j<Zd.length;j++)c[Zd[j]].cancel(A)},state:o,steps:c}}const{schedule:mt,cancel:ks,state:Kt,steps:cm}=Yb(typeof requestAnimationFrame<"u"?requestAnimationFrame:$n,!0),Xb=S.createContext({strict:!1}),I0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tl={};for(const t in I0)tl[t]={isEnabled:e=>I0[t].some(n=>!!e[n])};function UO(t){for(const e in t)tl[e]={...tl[e],...t[e]}}const VO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||VO.has(t)}let Qb=t=>!yh(t);function $O(t){t&&(Qb=e=>e.startsWith("on")?!yh(e):t(e))}try{$O(require("@emotion/is-prop-valid").default)}catch{}function WO(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(Qb(o)||n===!0&&yh(o)||!e&&!yh(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function HO(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const Kh=S.createContext({});function qc(t){return typeof t=="string"||Array.isArray(t)}function Zh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Yg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xg=["initial",...Yg];function Gh(t){return Zh(t.animate)||Xg.some(e=>qc(t[e]))}function eS(t){return!!(Gh(t)||t.variants)}function qO(t,e){if(Gh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||qc(n)?n:void 0,animate:qc(r)?r:void 0}}return t.inherit!==!1?e:{}}function KO(t){const{initial:e,animate:n}=qO(t,S.useContext(Kh));return S.useMemo(()=>({initial:e,animate:n}),[D0(e),D0(n)])}function D0(t){return Array.isArray(t)?t.join(" "):t}const ZO=Symbol.for("motionComponentSymbol");function Va(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function GO(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Va(n)&&(n.current=r))},[e])}const Qg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JO="framerAppearId",tS="data-"+Qg(JO),{schedule:ev}=Yb(queueMicrotask,!1),nS=S.createContext({});function YO(t,e,n,r,o){var l,c;const{visualElement:d}=S.useContext(Kh),f=S.useContext(Xb),p=S.useContext(Zg),y=S.useContext(Gb).reducedMotion,_=S.useRef(null);r=r||f.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:d,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const b=_.current,P=S.useContext(nS);b&&!b.projection&&o&&(b.type==="html"||b.type==="svg")&&XO(_.current,n,o,P);const k=S.useRef(!1);S.useInsertionEffect(()=>{b&&k.current&&b.update(n,p)});const T=n[tS],C=S.useRef(!!T&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,T))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,T)));return MO(()=>{b&&(k.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),ev.render(b.render),C.current&&b.animationState&&b.animationState.animateChanges())}),S.useEffect(()=>{b&&(!C.current&&b.animationState&&b.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)===null||A===void 0||A.call(window,T)}),C.current=!1))}),b}function XO(t,e,n,r){const{layoutId:o,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:rS(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||d&&Va(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}function rS(t){if(t)return t.options.allowProjection!==!1?t.projection:rS(t.parent)}function QO({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){var l,c;t&&UO(t);function d(p,y){let _;const b={...S.useContext(Gb),...p,layoutId:ej(p)},{isStatic:P}=b,k=KO(p),T=r(p,P);if(!P&&Gg){tj();const C=nj(b);_=C.MeasureLayout,k.visualElement=YO(o,T,b,e,C.ProjectionNode)}return v.jsxs(Kh.Provider,{value:k,children:[_&&k.visualElement?v.jsx(_,{visualElement:k.visualElement,...b}):null,n(o,p,GO(T,k.visualElement,y),T,P,k.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(c=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&c!==void 0?c:""})`}`;const f=S.forwardRef(d);return f[ZO]=o,f}function ej({layoutId:t}){const e=S.useContext(Zb).id;return e&&t!==void 0?e+"-"+t:t}function tj(t,e){S.useContext(Xb).strict}function nj(t){const{drag:e,layout:n}=tl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const rj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tv(t){return typeof t!="string"||t.includes("-")?!1:!!(rj.indexOf(t)>-1||/[A-Z]/u.test(t))}function M0(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function nv(t,e,n,r){if(typeof e=="function"){const[o,l]=M0(r);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=M0(r);e=e(n!==void 0?n:t.custom,o,l)}return e}const tg=t=>Array.isArray(t),ij=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),sj=t=>tg(t)?t[t.length-1]||0:t,ln=t=>!!(t&&t.getVelocity);function rh(t){const e=ln(t)?t.get():t;return ij(e)?e.toValue():e}function oj({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,o,l){const c={latestValues:aj(r,o,l,t),renderState:e()};return n&&(c.onMount=d=>n({props:r,current:d,...c}),c.onUpdate=d=>n(d)),c}const iS=t=>(e,n)=>{const r=S.useContext(Kh),o=S.useContext(Zg),l=()=>oj(t,e,r,o);return n?l():IO(l)};function aj(t,e,n,r){const o={},l=r(t,{});for(const b in l)o[b]=rh(l[b]);let{initial:c,animate:d}=t;const f=Gh(t),p=eS(t);e&&p&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!Zh(_)){const b=Array.isArray(_)?_:[_];for(let P=0;P<b.length;P++){const k=nv(t,b[P]);if(k){const{transitionEnd:T,transition:C,...A}=k;for(const j in A){let O=A[j];if(Array.isArray(O)){const D=y?O.length-1:0;O=O[D]}O!==null&&(o[j]=O)}for(const j in T)o[j]=T[j]}}}return o}const fl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Do=new Set(fl),sS=t=>e=>typeof e=="string"&&e.startsWith(t),oS=sS("--"),lj=sS("var(--"),rv=t=>lj(t)?cj.test(t.split("/*")[0].trim()):!1,cj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,aS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Oi=(t,e,n)=>n>e?e:n<t?t:n,pl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Kc={...pl,transform:t=>Oi(0,1,t)},Gd={...pl,default:1},iu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xs=iu("deg"),Jr=iu("%"),Le=iu("px"),uj=iu("vh"),dj=iu("vw"),B0={...Jr,parse:t=>Jr.parse(t)/100,transform:t=>Jr.transform(t*100)},hj={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le},fj={rotate:xs,rotateX:xs,rotateY:xs,rotateZ:xs,scale:Gd,scaleX:Gd,scaleY:Gd,scaleZ:Gd,skew:xs,skewX:xs,skewY:xs,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:Kc,originX:B0,originY:B0,originZ:Le},F0={...pl,transform:Math.round},iv={...hj,...fj,zIndex:F0,size:Le,fillOpacity:Kc,strokeOpacity:Kc,numOctaves:F0},pj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mj=fl.length;function gj(t,e,n){let r="",o=!0;for(let l=0;l<mj;l++){const c=fl[l],d=t[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const p=aS(d,iv[c]);if(!f){o=!1;const y=pj[c]||c;r+=`${y}(${p}) `}n&&(e[c]=p)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function sv(t,e,n){const{style:r,vars:o,transformOrigin:l}=t;let c=!1,d=!1;for(const f in e){const p=e[f];if(Do.has(f)){c=!0;continue}else if(oS(f)){o[f]=p;continue}else{const y=aS(p,iv[f]);f.startsWith("origin")?(d=!0,l[f]=y):r[f]=y}}if(e.transform||(c||n?r.transform=gj(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${f} ${p} ${y}`}}const vj={offset:"stroke-dashoffset",array:"stroke-dasharray"},yj={offset:"strokeDashoffset",array:"strokeDasharray"};function _j(t,e,n=1,r=0,o=!0){t.pathLength=1;const l=o?vj:yj;t[l.offset]=Le.transform(-r);const c=Le.transform(e),d=Le.transform(n);t[l.array]=`${c} ${d}`}function z0(t,e,n){return typeof t=="string"?t:Le.transform(e+n*t)}function wj(t,e,n){const r=z0(e,t.x,t.width),o=z0(n,t.y,t.height);return`${r} ${o}`}function ov(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:f=0,...p},y,_){if(sv(t,p,_),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:P,dimensions:k}=t;b.transform&&(k&&(P.transform=b.transform),delete b.transform),k&&(o!==void 0||l!==void 0||P.transform)&&(P.transformOrigin=wj(k,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),r!==void 0&&(b.scale=r),c!==void 0&&_j(b,c,d,f,!1)}const av=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),lS=()=>({...av(),attrs:{}}),lv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function cS(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}const uS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dS(t,e,n,r){cS(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(uS.has(o)?o:Qg(o),e.attrs[o])}const _h={};function xj(t){Object.assign(_h,t)}function hS(t,{layout:e,layoutId:n}){return Do.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_h[t]||t==="opacity")}function cv(t,e,n){var r;const{style:o}=t,l={};for(const c in o)(ln(o[c])||e.style&&ln(e.style[c])||hS(c,t)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[c]=o[c]);return l}function fS(t,e,n){const r=cv(t,e,n);for(const o in t)if(ln(t[o])||ln(e[o])){const l=fl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[l]=t[o]}return r}function bj(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const U0=["x","y","width","height","cx","cy","r"],Sj={useVisualState:iS({scrapeMotionValuesFromProps:fS,createRenderState:lS,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:o})=>{if(!n)return;let l=!!t.drag;if(!l){for(const d in o)if(Do.has(d)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let d=0;d<U0.length;d++){const f=U0[d];t[f]!==e[f]&&(c=!0)}c&&mt.read(()=>{bj(n,r),mt.render(()=>{ov(r,o,lv(n.tagName),t.transformTemplate),dS(n,r)})})}})},Ej={useVisualState:iS({scrapeMotionValuesFromProps:cv,createRenderState:av})};function pS(t,e,n){for(const r in e)!ln(e[r])&&!hS(r,n)&&(t[r]=e[r])}function Tj({transformTemplate:t},e){return S.useMemo(()=>{const n=av();return sv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Pj(t,e){const n=t.style||{},r={};return pS(r,n,t),Object.assign(r,Tj(t,e)),r}function Cj(t,e){const n={},r=Pj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function kj(t,e,n,r){const o=S.useMemo(()=>{const l=lS();return ov(l,e,lv(r),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};pS(l,t.style,t),o.style={...l,...o.style}}return o}function Rj(t=!1){return(n,r,o,{latestValues:l},c)=>{const f=(tv(n)?kj:Cj)(r,l,c,n),p=WO(r,typeof n=="string",t),y=n!==S.Fragment?{...p,...f,ref:o}:{},{children:_}=r,b=S.useMemo(()=>ln(_)?_.get():_,[_]);return S.createElement(n,{...y,children:b})}}function Aj(t,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...tv(r)?Sj:Ej,preloadedFeatures:t,useRender:Rj(o),createVisualElement:e,Component:r};return QO(c)}}function mS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Jh(t,e,n){const r=t.getProps();return nv(r,e,n!==void 0?n:r.custom,t)}const Nj=Jg(()=>window.ScrollTimeline!==void 0);class Oj{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(o=>{if(Nj()&&o.attachTimeline)return o.attachTimeline(e);if(typeof n=="function")return n(o)});return()=>{r.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class jj extends Oj{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function uv(t,e){return t?t[e]||t.default||t:void 0}const ng=2e4;function gS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ng;)e+=n,r=t.next(e);return e>=ng?1/0:e}function dv(t){return typeof t=="function"}function V0(t,e){t.timeline=e,t.onfinish=null}const hv=t=>Array.isArray(t)&&typeof t[0]=="number",Lj={linearEasing:void 0};function Ij(t,e){const n=Jg(t);return()=>{var r;return(r=Lj[e])!==null&&r!==void 0?r:n()}}const wh=Ij(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vS=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)r+=t(el(0,o-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function yS(t){return!!(typeof t=="function"&&wh()||!t||typeof t=="string"&&(t in rg||wh())||hv(t)||Array.isArray(t)&&t.every(yS))}const Pc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,rg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pc([0,.65,.55,1]),circOut:Pc([.55,0,1,.45]),backIn:Pc([.31,.01,.66,-.59]),backOut:Pc([.33,1.53,.69,.99])};function _S(t,e){if(t)return typeof t=="function"&&wh()?vS(t,e):hv(t)?Pc(t):Array.isArray(t)?t.map(n=>_S(n,e)||rg.easeOut):rg[t]}const Er={x:!1,y:!1};function wS(){return Er.x||Er.y}function Dj(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let o=document;const l=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function xS(t,e){const n=Dj(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function $0(t){return e=>{e.pointerType==="touch"||wS()||t(e)}}function Mj(t,e,n={}){const[r,o,l]=xS(t,n),c=$0(d=>{const{target:f}=d,p=e(d);if(typeof p!="function"||!f)return;const y=$0(_=>{p(_),f.removeEventListener("pointerleave",y)});f.addEventListener("pointerleave",y,o)});return r.forEach(d=>{d.addEventListener("pointerenter",c,o)}),l}const bS=(t,e)=>e?t===e?!0:bS(t,e.parentElement):!1,fv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Bj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Fj(t){return Bj.has(t.tagName)||t.tabIndex!==-1}const Cc=new WeakSet;function W0(t){return e=>{e.key==="Enter"&&t(e)}}function um(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zj=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=W0(()=>{if(Cc.has(n))return;um(n,"down");const o=W0(()=>{um(n,"up")}),l=()=>um(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function H0(t){return fv(t)&&!wS()}function Uj(t,e,n={}){const[r,o,l]=xS(t,n),c=d=>{const f=d.currentTarget;if(!H0(d)||Cc.has(f))return;Cc.add(f);const p=e(d),y=(P,k)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),!(!H0(P)||!Cc.has(f))&&(Cc.delete(f),typeof p=="function"&&p(P,{success:k}))},_=P=>{y(P,n.useGlobalTarget||bS(f,P.target))},b=P=>{y(P,!1)};window.addEventListener("pointerup",_,o),window.addEventListener("pointercancel",b,o)};return r.forEach(d=>{!Fj(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),d.addEventListener("focus",p=>zj(p,o),o)}),l}function Vj(t){return t==="x"||t==="y"?Er[t]?null:(Er[t]=!0,()=>{Er[t]=!1}):Er.x||Er.y?null:(Er.x=Er.y=!0,()=>{Er.x=Er.y=!1})}const SS=new Set(["width","height","top","left","right","bottom",...fl]);let ih;function $j(){ih=void 0}const Yr={now:()=>(ih===void 0&&Yr.set(Kt.isProcessing||BO.useManualTiming?Kt.timestamp:performance.now()),ih),set:t=>{ih=t,queueMicrotask($j)}};function pv(t,e){t.indexOf(e)===-1&&t.push(e)}function mv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class gv{constructor(){this.subscriptions=[]}add(e){return pv(this.subscriptions,e),()=>mv(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ES(t,e){return e?t*(1e3/e):0}const q0=30,Wj=t=>!isNaN(parseFloat(t));class Hj{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const l=Yr.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Yr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Wj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new gv);const r=this.events[e].add(n);return e==="change"?()=>{r(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>q0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,q0);return ES(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zc(t,e){return new Hj(t,e)}function qj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Zc(n))}function Kj(t,e){const n=Jh(t,e);let{transitionEnd:r={},transition:o={},...l}=n||{};l={...l,...r};for(const c in l){const d=sj(l[c]);qj(t,c,d)}}function Zj(t){return!!(ln(t)&&t.add)}function ig(t,e){const n=t.getValue("willChange");if(Zj(n))return n.add(e)}function TS(t){return t.props[tS]}const PS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Gj=1e-7,Jj=12;function Yj(t,e,n,r,o){let l,c,d=0;do c=e+(n-e)/2,l=PS(c,r,o)-t,l>0?n=c:e=c;while(Math.abs(l)>Gj&&++d<Jj);return c}function su(t,e,n,r){if(t===e&&n===r)return $n;const o=l=>Yj(l,0,1,t,n);return l=>l===0||l===1?l:PS(o(l),e,r)}const CS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,kS=t=>e=>1-t(1-e),RS=su(.33,1.53,.69,.99),vv=kS(RS),AS=CS(vv),NS=t=>(t*=2)<1?.5*vv(t):.5*(2-Math.pow(2,-10*(t-1))),yv=t=>1-Math.sin(Math.acos(t)),OS=kS(yv),jS=CS(yv),LS=t=>/^0[^.\s]+$/u.test(t);function Xj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||LS(t):!0}const jc=t=>Math.round(t*1e5)/1e5,_v=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Qj(t){return t==null}const eL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wv=(t,e)=>n=>!!(typeof n=="string"&&eL.test(n)&&n.startsWith(t)||e&&!Qj(n)&&Object.prototype.hasOwnProperty.call(n,e)),IS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,l,c,d]=r.match(_v);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},tL=t=>Oi(0,255,t),dm={...pl,transform:t=>Math.round(tL(t))},So={test:wv("rgb","red"),parse:IS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+dm.transform(t)+", "+dm.transform(e)+", "+dm.transform(n)+", "+jc(Kc.transform(r))+")"};function nL(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const sg={test:wv("#"),parse:nL,transform:So.transform},$a={test:wv("hsl","hue"),parse:IS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Jr.transform(jc(e))+", "+Jr.transform(jc(n))+", "+jc(Kc.transform(r))+")"},sn={test:t=>So.test(t)||sg.test(t)||$a.test(t),parse:t=>So.test(t)?So.parse(t):$a.test(t)?$a.parse(t):sg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?So.transform(t):$a.transform(t)},rL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iL(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(_v))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(rL))===null||n===void 0?void 0:n.length)||0)>0}const DS="number",MS="color",sL="var",oL="var(",K0="${}",aL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(aL,f=>(sn.test(f)?(r.color.push(l),o.push(MS),n.push(sn.parse(f))):f.startsWith(oL)?(r.var.push(l),o.push(sL),n.push(f)):(r.number.push(l),o.push(DS),n.push(parseFloat(f))),++l,K0)).split(K0);return{values:n,split:d,indexes:r,types:o}}function BS(t){return Gc(t).values}function FS(t){const{split:e,types:n}=Gc(t),r=e.length;return o=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],o[c]!==void 0){const d=n[c];d===DS?l+=jc(o[c]):d===MS?l+=sn.transform(o[c]):l+=o[c]}return l}}const lL=t=>typeof t=="number"?0:t;function cL(t){const e=BS(t);return FS(t)(e.map(lL))}const Rs={test:iL,parse:BS,createTransformer:FS,getAnimatableNone:cL},uL=new Set(["brightness","contrast","saturate","opacity"]);function dL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(_v)||[];if(!r)return t;const o=n.replace(r,"");let l=uL.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+o+")"}const hL=/\b([a-z-]*)\(.*?\)/gu,og={...Rs,getAnimatableNone:t=>{const e=t.match(hL);return e?e.map(dL).join(" "):t}},fL={...iv,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:og,WebkitFilter:og},xv=t=>fL[t];function zS(t,e){let n=xv(t);return n!==og&&(n=Rs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const pL=new Set(["auto","none","0"]);function mL(t,e,n){let r=0,o;for(;r<t.length&&!o;){const l=t[r];typeof l=="string"&&!pL.has(l)&&Gc(l).values.length&&(o=t[r]),r++}if(o&&n)for(const l of e)t[l]=zS(n,o)}const Z0=t=>t===pl||t===Le,G0=(t,e)=>parseFloat(t.split(", ")[e]),J0=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return G0(o[1],e);{const l=r.match(/^matrix\((.+)\)$/u);return l?G0(l[1],t):0}},gL=new Set(["x","y","z"]),vL=fl.filter(t=>!gL.has(t));function yL(t){const e=[];return vL.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const nl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:J0(4,13),y:J0(5,14)};nl.translateX=nl.x;nl.translateY=nl.y;const To=new Set;let ag=!1,lg=!1;function US(){if(lg){const t=Array.from(To).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=yL(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([l,c])=>{var d;(d=r.getValue(l))===null||d===void 0||d.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}lg=!1,ag=!1,To.forEach(t=>t.complete()),To.clear()}function VS(){To.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(lg=!0)})}function _L(){VS(),US()}class bv{constructor(e,n,r,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(To.add(this),ag||(ag=!0,mt.read(VS),mt.resolveKeyframes(US))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=o==null?void 0:o.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const f=r.readValue(n,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),o&&c===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),To.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,To.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const $S=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),wL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xL(t){const e=wL.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n??r}`,o]}function WS(t,e,n=1){const[r,o]=xL(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return $S(c)?parseFloat(c):c}return rv(o)?WS(o,e,n+1):o}const HS=t=>e=>e.test(t),bL={test:t=>t==="auto",parse:t=>t},qS=[pl,Le,Jr,xs,dj,uj,bL],Y0=t=>qS.find(HS(t));class KS extends bv{constructor(e,n,r,o,l){super(e,n,r,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),rv(p))){const y=WS(p,n.current);y!==void 0&&(e[f]=y),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!SS.has(r)||e.length!==2)return;const[o,l]=e,c=Y0(o),d=Y0(l);if(c!==d)if(Z0(c)&&Z0(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)Xj(e[o])&&r.push(o);r.length&&mL(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const l=n.getValue(r);l&&l.jump(this.measuredOrigin,!1);const c=o.length-1,d=o[c];o[c]=nl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const X0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Rs.test(t)||t==="0")&&!t.startsWith("url("));function SL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function EL(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=X0(o,e),d=X0(l,e);return!c||!d?!1:SL(t)||(n==="spring"||dv(n))&&r}const TL=t=>t!==null;function Yh(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(TL),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const PL=40;class ZS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Yr.now(),this.options={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>PL?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&_L(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Yr.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:l,delay:c,onComplete:d,onUpdate:f,isGenerator:p}=this.options;if(!p&&!EL(e,r,o,l))if(c)this.options.duration=0;else{f&&f(Yh(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,n);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...y},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const bt=(t,e,n)=>t+(e-t)*n;function hm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function CL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,l=0,c=0;if(!e)o=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;o=hm(f,d,t+1/3),l=hm(f,d,t),c=hm(f,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function xh(t,e){return n=>n>0?e:t}const fm=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},kL=[sg,So,$a],RL=t=>kL.find(e=>e.test(t));function Q0(t){const e=RL(t);if(!e)return!1;let n=e.parse(t);return e===$a&&(n=CL(n)),n}const ew=(t,e)=>{const n=Q0(t),r=Q0(e);if(!n||!r)return xh(t,e);const o={...n};return l=>(o.red=fm(n.red,r.red,l),o.green=fm(n.green,r.green,l),o.blue=fm(n.blue,r.blue,l),o.alpha=bt(n.alpha,r.alpha,l),So.transform(o))},AL=(t,e)=>n=>e(t(n)),ou=(...t)=>t.reduce(AL),cg=new Set(["none","hidden"]);function NL(t,e){return cg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function OL(t,e){return n=>bt(t,e,n)}function Sv(t){return typeof t=="number"?OL:typeof t=="string"?rv(t)?xh:sn.test(t)?ew:IL:Array.isArray(t)?GS:typeof t=="object"?sn.test(t)?ew:jL:xh}function GS(t,e){const n=[...t],r=n.length,o=t.map((l,c)=>Sv(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=o[c](l);return n}}function jL(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=Sv(t[o])(t[o],e[o]));return o=>{for(const l in r)n[l]=r[l](o);return n}}function LL(t,e){var n;const r=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],d=t.indexes[c][o[c]],f=(n=t.values[d])!==null&&n!==void 0?n:0;r[l]=f,o[c]++}return r}const IL=(t,e)=>{const n=Rs.createTransformer(e),r=Gc(t),o=Gc(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?cg.has(t)&&!o.values.length||cg.has(e)&&!r.values.length?NL(t,e):ou(GS(LL(r,o),o.values),n):xh(t,e)};function JS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?bt(t,e,n):Sv(t)(t,e)}const DL=5;function YS(t,e,n){const r=Math.max(e-DL,0);return ES(n-t(r),e-r)}const Ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pm=.001;function ML({duration:t=Ct.duration,bounce:e=Ct.bounce,velocity:n=Ct.velocity,mass:r=Ct.mass}){let o,l,c=1-e;c=Oi(Ct.minDamping,Ct.maxDamping,c),t=Oi(Ct.minDuration,Ct.maxDuration,Ni(t)),c<1?(o=p=>{const y=p*c,_=y*t,b=y-n,P=ug(p,c),k=Math.exp(-_);return pm-b/P*k},l=p=>{const _=p*c*t,b=_*n+n,P=Math.pow(c,2)*Math.pow(p,2)*t,k=Math.exp(-_),T=ug(Math.pow(p,2),c);return(-o(p)+pm>0?-1:1)*((b-P)*k)/T}):(o=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-pm+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const d=5/t,f=FL(o,l,d);if(t=Ai(t),isNaN(f))return{stiffness:Ct.stiffness,damping:Ct.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const BL=12;function FL(t,e,n){let r=n;for(let o=1;o<BL;o++)r=r-t(r)/e(r);return r}function ug(t,e){return t*Math.sqrt(1-e*e)}const zL=["duration","bounce"],UL=["stiffness","damping","mass"];function tw(t,e){return e.some(n=>t[n]!==void 0)}function VL(t){let e={velocity:Ct.velocity,stiffness:Ct.stiffness,damping:Ct.damping,mass:Ct.mass,isResolvedFromDuration:!1,...t};if(!tw(t,UL)&&tw(t,zL))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,l=2*Oi(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Ct.mass,stiffness:o,damping:l}}else{const n=ML(t);e={...e,...n,mass:Ct.mass},e.isResolvedFromDuration=!0}return e}function XS(t=Ct.visualDuration,e=Ct.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:p,mass:y,duration:_,velocity:b,isResolvedFromDuration:P}=VL({...n,velocity:-Ni(n.velocity||0)}),k=b||0,T=p/(2*Math.sqrt(f*y)),C=c-l,A=Ni(Math.sqrt(f/y)),j=Math.abs(C)<5;r||(r=j?Ct.restSpeed.granular:Ct.restSpeed.default),o||(o=j?Ct.restDelta.granular:Ct.restDelta.default);let O;if(T<1){const z=ug(A,T);O=W=>{const H=Math.exp(-T*A*W);return c-H*((k+T*A*C)/z*Math.sin(z*W)+C*Math.cos(z*W))}}else if(T===1)O=z=>c-Math.exp(-A*z)*(C+(k+A*C)*z);else{const z=A*Math.sqrt(T*T-1);O=W=>{const H=Math.exp(-T*A*W),X=Math.min(z*W,300);return c-H*((k+T*A*C)*Math.sinh(X)+z*C*Math.cosh(X))/z}}const D={calculatedDuration:P&&_||null,next:z=>{const W=O(z);if(P)d.done=z>=_;else{let H=0;T<1&&(H=z===0?Ai(k):YS(O,z,W));const X=Math.abs(H)<=r,ue=Math.abs(c-W)<=o;d.done=X&&ue}return d.value=d.done?c:W,d},toString:()=>{const z=Math.min(gS(D),ng),W=vS(H=>D.next(z*H).value,z,30);return z+"ms "+W}};return D}function nw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:p=.5,restSpeed:y}){const _=t[0],b={done:!1,value:_},P=X=>d!==void 0&&X<d||f!==void 0&&X>f,k=X=>d===void 0?f:f===void 0||Math.abs(d-X)<Math.abs(f-X)?d:f;let T=n*e;const C=_+T,A=c===void 0?C:c(C);A!==C&&(T=A-_);const j=X=>-T*Math.exp(-X/r),O=X=>A+j(X),D=X=>{const ue=j(X),ye=O(X);b.done=Math.abs(ue)<=p,b.value=b.done?A:ye};let z,W;const H=X=>{P(b.value)&&(z=X,W=XS({keyframes:[b.value,k(b.value)],velocity:YS(O,X,b.value),damping:o,stiffness:l,restDelta:p,restSpeed:y}))};return H(0),{calculatedDuration:null,next:X=>{let ue=!1;return!W&&z===void 0&&(ue=!0,D(X),H(X)),z!==void 0&&X>=z?W.next(X-z):(!ue&&D(X),b)}}}const $L=su(.42,0,1,1),WL=su(0,0,.58,1),QS=su(.42,0,.58,1),HL=t=>Array.isArray(t)&&typeof t[0]!="number",qL={linear:$n,easeIn:$L,easeInOut:QS,easeOut:WL,circIn:yv,circInOut:jS,circOut:OS,backIn:vv,backInOut:AS,backOut:RS,anticipate:NS},rw=t=>{if(hv(t)){Jb(t.length===4);const[e,n,r,o]=t;return su(e,n,r,o)}else if(typeof t=="string")return qL[t];return t};function KL(t,e,n){const r=[],o=n||JS,l=t.length-1;for(let c=0;c<l;c++){let d=o(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||$n:e;d=ou(f,d)}r.push(d)}return r}function ZL(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const l=t.length;if(Jb(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=KL(e,r,o),f=d.length,p=y=>{if(c&&y<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const b=el(t[_],t[_+1],y);return d[_](b)};return n?y=>p(Oi(t[0],t[l-1],y)):p}function GL(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=el(0,e,r);t.push(bt(n,1,o))}}function JL(t){const e=[0];return GL(e,t.length-1),e}function YL(t,e){return t.map(n=>n*e)}function XL(t,e){return t.map(()=>e||QS).splice(0,t.length-1)}function bh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=HL(r)?r.map(rw):rw(r),l={done:!1,value:e[0]},c=YL(n&&n.length===e.length?n:JL(e),t),d=ZL(c,e,{ease:Array.isArray(o)?o:XL(e,o)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const QL=t=>{const e=({timestamp:n})=>t(n);return{start:()=>mt.update(e,!0),stop:()=>ks(e),now:()=>Kt.isProcessing?Kt.timestamp:Yr.now()}},eI={decay:nw,inertia:nw,tween:bh,keyframes:bh,spring:XS},tI=t=>t/100;class Ev extends ZS{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:r,element:o,keyframes:l}=this.options,c=(o==null?void 0:o.KeyframeResolver)||bv,d=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new c(l,d,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=this.options,d=dv(n)?n:eI[n]||bh;let f,p;d!==bh&&typeof e[0]!="number"&&(f=ou(tI,JS(e[0],e[1])),e=[0,100]);const y=d({...this.options,keyframes:e});l==="mirror"&&(p=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=gS(y));const{calculatedDuration:_}=y,b=_+o,P=b*(r+1)-o;return{generator:y,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:_,resolvedDuration:b,totalDuration:P}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:X}=this.options;return{done:!0,value:X[X.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:p,totalDuration:y,resolvedDuration:_}=r;if(this.startTime===null)return l.next(0);const{delay:b,repeat:P,repeatType:k,repeatDelay:T,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const A=this.currentTime-b*(this.speed>=0?1:-1),j=this.speed>=0?A<0:A>y;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let O=this.currentTime,D=l;if(P){const X=Math.min(this.currentTime,y)/_;let ue=Math.floor(X),ye=X%1;!ye&&X>=1&&(ye=1),ye===1&&ue--,ue=Math.min(ue,P+1),!!(ue%2)&&(k==="reverse"?(ye=1-ye,T&&(ye-=T/_)):k==="mirror"&&(D=c)),O=Oi(0,1,ye)*_}const z=j?{done:!1,value:f[0]}:D.next(O);d&&(z.value=d(z.value));let{done:W}=z;!j&&p!==null&&(W=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return H&&o!==void 0&&(z.value=Yh(f,this.options,o)),C&&C(z.value),H&&this.finish(),z}get duration(){const{resolved:e}=this;return e?Ni(e.calculatedDuration):0}get time(){return Ni(this.currentTime)}set time(e){e=Ai(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ni(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=QL,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const nI=new Set(["opacity","clipPath","filter","transform"]);function rI(t,e,n,{delay:r=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:f}={}){const p={[e]:n};f&&(p.offset=f);const y=_S(d,o);return Array.isArray(y)&&(p.easing=y),t.animate(p,{delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const iI=Jg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Sh=10,sI=2e4;function oI(t){return dv(t.type)||t.type==="spring"||!yS(t.ease)}function aI(t,e){const n=new Ev({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const o=[];let l=0;for(;!r.done&&l<sI;)r=n.sample(l),o.push(r.value),l+=Sh;return{times:void 0,keyframes:o,duration:l-Sh,ease:"linear"}}const eE={anticipate:NS,backInOut:AS,circInOut:jS};function lI(t){return t in eE}class iw extends ZS{constructor(e){super(e);const{name:n,motionValue:r,element:o,keyframes:l}=this.options;this.resolver=new KS(l,(c,d)=>this.onKeyframesResolved(c,d),n,r,o),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:o,ease:l,type:c,motionValue:d,name:f,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&wh()&&lI(l)&&(l=eE[l]),oI(this.options)){const{onComplete:_,onUpdate:b,motionValue:P,element:k,...T}=this.options,C=aI(e,T);e=C.keyframes,e.length===1&&(e[1]=e[0]),r=C.duration,o=C.times,l=C.ease,c="keyframes"}const y=rI(d.owner.current,f,e,{...this.options,duration:r,times:o,ease:l});return y.startTime=p??this.calcStartTime(),this.pendingTimeline?(V0(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:_}=this.options;d.set(Yh(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:r,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ni(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ni(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ai(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return $n;const{animation:r}=n;V0(r,e)}return $n}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:o,type:l,ease:c,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:y,onComplete:_,element:b,...P}=this.options,k=new Ev({...P,keyframes:r,duration:o,type:l,ease:c,times:d,isGenerator:!0}),T=Ai(this.time);p.setWithVelocity(k.sample(T-Sh).value,k.sample(T).value,Sh)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:o,repeatType:l,damping:c,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=n.owner.getProps();return iI()&&r&&nI.has(r)&&!f&&!p&&!o&&l!=="mirror"&&c!==0&&d!=="inertia"}}const cI={type:"spring",stiffness:500,damping:25,restSpeed:10},uI=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dI={type:"keyframes",duration:.8},hI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fI=(t,{keyframes:e})=>e.length>2?dI:Do.has(t)?t.startsWith("scale")?uI(e[1]):cI:hI;function pI({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:p,...y}){return!!Object.keys(y).length}const Tv=(t,e,n,r={},o,l)=>c=>{const d=uv(r,t)||{},f=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Ai(f);let y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:b=>{e.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};pI(d)||(y={...y,...fI(t,y)}),y.duration&&(y.duration=Ai(y.duration)),y.repeatDelay&&(y.repeatDelay=Ai(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),_&&!l&&e.get()!==void 0){const b=Yh(y.keyframes,d);if(b!==void 0)return mt.update(()=>{y.onUpdate(b),y.onComplete()}),new jj([])}return!l&&iw.supports(y)?new iw(y):new Ev(y)};function mI({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function tE(t,e,{delay:n=0,transitionOverride:r,type:o}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...f}=e;r&&(c=r);const p=[],y=o&&t.animationState&&t.animationState.getState()[o];for(const _ in f){const b=t.getValue(_,(l=t.latestValues[_])!==null&&l!==void 0?l:null),P=f[_];if(P===void 0||y&&mI(y,_))continue;const k={delay:n,...uv(c||{},_)};let T=!1;if(window.MotionHandoffAnimation){const A=TS(t);if(A){const j=window.MotionHandoffAnimation(A,_,mt);j!==null&&(k.startTime=j,T=!0)}}ig(t,_),b.start(Tv(_,b,P,t.shouldReduceMotion&&SS.has(_)?{type:!1}:k,t,T));const C=b.animation;C&&p.push(C)}return d&&Promise.all(p).then(()=>{mt.update(()=>{d&&Kj(t,d)})}),p}function dg(t,e,n={}){var r;const o=Jh(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(l=n.transitionOverride);const c=o?()=>Promise.all(tE(t,o,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:b}=l;return gI(t,e,y+p,_,b,n)}:()=>Promise.resolve(),{when:f}=l;if(f){const[p,y]=f==="beforeChildren"?[c,d]:[d,c];return p().then(()=>y())}else return Promise.all([c(),d(n.delay)])}function gI(t,e,n=0,r=0,o=1,l){const c=[],d=(t.variantChildren.size-1)*r,f=o===1?(p=0)=>p*r:(p=0)=>d-p*r;return Array.from(t.variantChildren).sort(vI).forEach((p,y)=>{p.notify("AnimationStart",e),c.push(dg(p,e,{...l,delay:n+f(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function vI(t,e){return t.sortNodePosition(e)}function yI(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(l=>dg(t,l,n));r=Promise.all(o)}else if(typeof e=="string")r=dg(t,e,n);else{const o=typeof e=="function"?Jh(t,e,n.custom):e;r=Promise.all(tE(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const _I=Xg.length;function nE(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?nE(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<_I;n++){const r=Xg[n],o=t.props[r];(qc(o)||o===!1)&&(e[r]=o)}return e}const wI=[...Yg].reverse(),xI=Yg.length;function bI(t){return e=>Promise.all(e.map(({animation:n,options:r})=>yI(t,n,r)))}function SI(t){let e=bI(t),n=sw(),r=!0;const o=f=>(p,y)=>{var _;const b=Jh(t,y,f==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(b){const{transition:P,transitionEnd:k,...T}=b;p={...p,...T,...k}}return p};function l(f){e=f(t)}function c(f){const{props:p}=t,y=nE(t.parent)||{},_=[],b=new Set;let P={},k=1/0;for(let C=0;C<xI;C++){const A=wI[C],j=n[A],O=p[A]!==void 0?p[A]:y[A],D=qc(O),z=A===f?j.isActive:null;z===!1&&(k=C);let W=O===y[A]&&O!==p[A]&&D;if(W&&r&&t.manuallyAnimateOnMount&&(W=!1),j.protectedKeys={...P},!j.isActive&&z===null||!O&&!j.prevProp||Zh(O)||typeof O=="boolean")continue;const H=EI(j.prevProp,O);let X=H||A===f&&j.isActive&&!W&&D||C>k&&D,ue=!1;const ye=Array.isArray(O)?O:[O];let pe=ye.reduce(o(A),{});z===!1&&(pe={});const{prevResolvedValues:le={}}=j,be={...le,...pe},G=oe=>{X=!0,b.has(oe)&&(ue=!0,b.delete(oe)),j.needsAnimating[oe]=!0;const V=t.getValue(oe);V&&(V.liveStyle=!1)};for(const oe in be){const V=pe[oe],ce=le[oe];if(P.hasOwnProperty(oe))continue;let te=!1;tg(V)&&tg(ce)?te=!mS(V,ce):te=V!==ce,te?V!=null?G(oe):b.add(oe):V!==void 0&&b.has(oe)?G(oe):j.protectedKeys[oe]=!0}j.prevProp=O,j.prevResolvedValues=pe,j.isActive&&(P={...P,...pe}),r&&t.blockInitialAnimation&&(X=!1),X&&(!(W&&H)||ue)&&_.push(...ye.map(oe=>({animation:oe,options:{type:A}})))}if(b.size){const C={};b.forEach(A=>{const j=t.getBaseTarget(A),O=t.getValue(A);O&&(O.liveStyle=!0),C[A]=j??null}),_.push({animation:C})}let T=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(_):Promise.resolve()}function d(f,p){var y;if(n[f].isActive===p)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(b=>{var P;return(P=b.animationState)===null||P===void 0?void 0:P.setActive(f,p)}),n[f].isActive=p;const _=c(f);for(const b in n)n[b].protectedKeys={};return _}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=sw(),r=!0}}}function EI(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!mS(e,t):!1}function go(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sw(){return{animate:go(!0),whileInView:go(),whileHover:go(),whileTap:go(),whileDrag:go(),whileFocus:go(),exit:go()}}class Ls{constructor(e){this.isMounted=!1,this.node=e}update(){}}class TI extends Ls{constructor(e){super(e),e.animationState||(e.animationState=SI(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Zh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let PI=0;class CI extends Ls{constructor(){super(...arguments),this.id=PI++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const kI={animation:{Feature:TI},exit:{Feature:CI}};function Jc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function au(t){return{point:{x:t.pageX,y:t.pageY}}}const RI=t=>e=>fv(e)&&t(e,au(e));function Lc(t,e,n,r){return Jc(t,e,RI(n),r)}const ow=(t,e)=>Math.abs(t-e);function AI(t,e){const n=ow(t.x,e.x),r=ow(t.y,e.y);return Math.sqrt(n**2+r**2)}class rE{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=gm(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,P=AI(_.offset,{x:0,y:0})>=3;if(!b&&!P)return;const{point:k}=_,{timestamp:T}=Kt;this.history.push({...k,timestamp:T});const{onStart:C,onMove:A}=this.handlers;b||(C&&C(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,_)},this.handlePointerMove=(_,b)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=mm(b,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(_,b)=>{this.end();const{onEnd:P,onSessionEnd:k,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=gm(_.type==="pointercancel"?this.lastMoveEventInfo:mm(b,this.transformPagePoint),this.history);this.startEvent&&P&&P(_,C),k&&k(_,C)},!fv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const c=au(e),d=mm(c,this.transformPagePoint),{point:f}=d,{timestamp:p}=Kt;this.history=[{...f,timestamp:p}];const{onSessionStart:y}=n;y&&y(e,gm(d,this.history)),this.removeListeners=ou(Lc(this.contextWindow,"pointermove",this.handlePointerMove),Lc(this.contextWindow,"pointerup",this.handlePointerUp),Lc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ks(this.updatePoint)}}function mm(t,e){return e?{point:e(t.point)}:t}function aw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function gm({point:t},e){return{point:t,delta:aw(t,iE(e)),offset:aw(t,NI(e)),velocity:OI(e,.1)}}function NI(t){return t[0]}function iE(t){return t[t.length-1]}function OI(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=iE(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Ai(e)));)n--;if(!r)return{x:0,y:0};const l=Ni(o.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-r.x)/l,y:(o.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const sE=1e-4,jI=1-sE,LI=1+sE,oE=.01,II=0-oE,DI=0+oE;function Hn(t){return t.max-t.min}function MI(t,e,n){return Math.abs(t-e)<=n}function lw(t,e,n,r=.5){t.origin=r,t.originPoint=bt(e.min,e.max,t.origin),t.scale=Hn(n)/Hn(e),t.translate=bt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=jI&&t.scale<=LI||isNaN(t.scale))&&(t.scale=1),(t.translate>=II&&t.translate<=DI||isNaN(t.translate))&&(t.translate=0)}function Ic(t,e,n,r){lw(t.x,e.x,n.x,r?r.originX:void 0),lw(t.y,e.y,n.y,r?r.originY:void 0)}function cw(t,e,n){t.min=n.min+e.min,t.max=t.min+Hn(e)}function BI(t,e,n){cw(t.x,e.x,n.x),cw(t.y,e.y,n.y)}function uw(t,e,n){t.min=e.min-n.min,t.max=t.min+Hn(e)}function Dc(t,e,n){uw(t.x,e.x,n.x),uw(t.y,e.y,n.y)}function FI(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?bt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?bt(n,t,r.max):Math.min(t,n)),t}function dw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zI(t,{top:e,left:n,bottom:r,right:o}){return{x:dw(t.x,n,o),y:dw(t.y,e,r)}}function hw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function UI(t,e){return{x:hw(t.x,e.x),y:hw(t.y,e.y)}}function VI(t,e){let n=.5;const r=Hn(t),o=Hn(e);return o>r?n=el(e.min,e.max-r,t.min):r>o&&(n=el(t.min,t.max-o,e.min)),Oi(0,1,n)}function $I(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hg=.35;function WI(t=hg){return t===!1?t=0:t===!0&&(t=hg),{x:fw(t,"left","right"),y:fw(t,"top","bottom")}}function fw(t,e,n){return{min:pw(t,e),max:pw(t,n)}}function pw(t,e){return typeof t=="number"?t:t[e]||0}const mw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wa=()=>({x:mw(),y:mw()}),gw=()=>({min:0,max:0}),Rt=()=>({x:gw(),y:gw()});function sr(t){return[t("x"),t("y")]}function aE({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function HI({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qI(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function vm(t){return t===void 0||t===1}function fg({scale:t,scaleX:e,scaleY:n}){return!vm(t)||!vm(e)||!vm(n)}function yo(t){return fg(t)||lE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function lE(t){return vw(t.x)||vw(t.y)}function vw(t){return t&&t!=="0%"}function Eh(t,e,n){const r=t-n,o=e*r;return n+o}function yw(t,e,n,r,o){return o!==void 0&&(t=Eh(t,o,r)),Eh(t,n,r)+e}function pg(t,e=0,n=1,r,o){t.min=yw(t.min,e,n,r,o),t.max=yw(t.max,e,n,r,o)}function cE(t,{x:e,y:n}){pg(t.x,e.translate,e.scale,e.originPoint),pg(t.y,n.translate,n.scale,n.originPoint)}const _w=.999999999999,ww=1.0000000000001;function KI(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,c;for(let d=0;d<o;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&qa(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,cE(t,c)),r&&yo(l.latestValues)&&qa(t,l.latestValues))}e.x<ww&&e.x>_w&&(e.x=1),e.y<ww&&e.y>_w&&(e.y=1)}function Ha(t,e){t.min=t.min+e,t.max=t.max+e}function xw(t,e,n,r,o=.5){const l=bt(t.min,t.max,o);pg(t,e,n,l,r)}function qa(t,e){xw(t.x,e.x,e.scaleX,e.scale,e.originX),xw(t.y,e.y,e.scaleY,e.scale,e.originY)}function uE(t,e){return aE(qI(t.getBoundingClientRect(),e))}function ZI(t,e,n){const r=uE(t,n),{scroll:o}=e;return o&&(Ha(r.x,o.offset.x),Ha(r.y,o.offset.y)),r}const dE=({current:t})=>t?t.ownerDocument.defaultView:null,GI=new WeakMap;class JI{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(au(y).point)},l=(y,_)=>{const{drag:b,dragPropagation:P,onDragStart:k}=this.getProps();if(b&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Vj(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sr(C=>{let A=this.getAxisMotionValue(C).get()||0;if(Jr.test(A)){const{projection:j}=this.visualElement;if(j&&j.layout){const O=j.layout.layoutBox[C];O&&(A=Hn(O)*(parseFloat(A)/100))}}this.originPoint[C]=A}),k&&mt.postRender(()=>k(y,_)),ig(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},c=(y,_)=>{const{dragPropagation:b,dragDirectionLock:P,onDirectionLock:k,onDrag:T}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:C}=_;if(P&&this.currentDirection===null){this.currentDirection=YI(C),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",_.point,C),this.updateAxis("y",_.point,C),this.visualElement.render(),T&&T(y,_)},d=(y,_)=>this.stop(y,_),f=()=>sr(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new rE(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:dE(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&mt.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!Jd(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=FI(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&Va(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=zI(o.layoutBox,n):this.constraints=!1,this.elastic=WI(r),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&sr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=$I(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Va(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=ZI(r,o.root,this.visualElement.getTransformPagePoint());let c=UI(o.layout.layoutBox,l);if(n){const d=n(HI(c));this.hasMutatedConstraints=!!d,d&&(c=aE(d))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=sr(y=>{if(!Jd(y,n,this.currentDirection))return;let _=f&&f[y]||{};c&&(_={min:0,max:0});const b=o?200:1e6,P=o?40:1e7,k={type:"inertia",velocity:r?e[y]:0,bounceStiffness:b,bounceDamping:P,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,k)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ig(this.visualElement,e),r.start(Tv(e,r,0,n,this.visualElement,!1))}stopAnimation(){sr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){sr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){sr(n=>{const{drag:r}=this.getProps();if(!Jd(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];l.set(e[n]-bt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Va(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};sr(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();o[c]=VI({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),sr(c=>{if(!Jd(c,e,null))return;const d=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];d.set(bt(f,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;GI.set(this.visualElement,this);const e=this.visualElement.current,n=Lc(e,"pointerdown",f=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Va(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),mt.read(r);const c=Jc(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(sr(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=f[y].translate,_.set(_.get()+f[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=hg,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Jd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function YI(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class XI extends Ls{constructor(e){super(e),this.removeGroupControls=$n,this.removeListeners=$n,this.controls=new JI(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$n}unmount(){this.removeGroupControls(),this.removeListeners()}}const bw=t=>(e,n)=>{t&&mt.postRender(()=>t(e,n))};class QI extends Ls{constructor(){super(...arguments),this.removePointerDownListener=$n}onPointerDown(e){this.session=new rE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:bw(e),onStart:bw(n),onMove:r,onEnd:(l,c)=>{delete this.session,o&&mt.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=Lc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Le.test(t))t=parseFloat(t);else return t;const n=Sw(t,e.target.x),r=Sw(t,e.target.y);return`${n}% ${r}%`}},eD={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=Rs.parse(t);if(o.length>5)return r;const l=Rs.createTransformer(t),c=typeof o[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;o[0+c]/=d,o[1+c]/=f;const p=bt(d,f,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),l(o)}};class tD extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:l}=e;xj(nD),l&&(n.group&&n.group.add(l),r&&r.register&&o&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),sh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,o||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||mt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ev.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hE(t){const[e,n]=DO(),r=S.useContext(Zb);return v.jsx(tD,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(nS),isPresent:e,safeToRemove:n})}const nD={borderRadius:{...bc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bc,borderTopRightRadius:bc,borderBottomLeftRadius:bc,borderBottomRightRadius:bc,boxShadow:eD};function rD(t,e,n){const r=ln(t)?t:Zc(t);return r.start(Tv("",r,e,n)),r.animation}function iD(t){return t instanceof SVGElement&&t.tagName!=="svg"}const sD=(t,e)=>t.depth-e.depth;class oD{constructor(){this.children=[],this.isDirty=!1}add(e){pv(this.children,e),this.isDirty=!0}remove(e){mv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sD),this.isDirty=!1,this.children.forEach(e)}}function aD(t,e){const n=Yr.now(),r=({timestamp:o})=>{const l=o-n;l>=e&&(ks(r),t(l-e))};return mt.read(r,!0),()=>ks(r)}const fE=["TopLeft","TopRight","BottomLeft","BottomRight"],lD=fE.length,Ew=t=>typeof t=="string"?parseFloat(t):t,Tw=t=>typeof t=="number"||Le.test(t);function cD(t,e,n,r,o,l){o?(t.opacity=bt(0,n.opacity!==void 0?n.opacity:1,uD(r)),t.opacityExit=bt(e.opacity!==void 0?e.opacity:1,0,dD(r))):l&&(t.opacity=bt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<lD;c++){const d=`border${fE[c]}Radius`;let f=Pw(e,d),p=Pw(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Tw(f)===Tw(p)?(t[d]=Math.max(bt(Ew(f),Ew(p),r),0),(Jr.test(p)||Jr.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=bt(e.rotate||0,n.rotate||0,r))}function Pw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const uD=pE(0,.5,OS),dD=pE(.5,.95,$n);function pE(t,e,n){return r=>r<t?0:r>e?1:n(el(t,e,r))}function Cw(t,e){t.min=e.min,t.max=e.max}function ir(t,e){Cw(t.x,e.x),Cw(t.y,e.y)}function kw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Rw(t,e,n,r,o){return t-=e,t=Eh(t,1/n,r),o!==void 0&&(t=Eh(t,1/o,r)),t}function hD(t,e=0,n=1,r=.5,o,l=t,c=t){if(Jr.test(e)&&(e=parseFloat(e),e=bt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=bt(l.min,l.max,r);t===l&&(d-=e),t.min=Rw(t.min,e,n,d,o),t.max=Rw(t.max,e,n,d,o)}function Aw(t,e,[n,r,o],l,c){hD(t,e[n],e[r],e[o],e.scale,l,c)}const fD=["x","scaleX","originX"],pD=["y","scaleY","originY"];function Nw(t,e,n,r){Aw(t.x,e,fD,n?n.x:void 0,r?r.x:void 0),Aw(t.y,e,pD,n?n.y:void 0,r?r.y:void 0)}function Ow(t){return t.translate===0&&t.scale===1}function mE(t){return Ow(t.x)&&Ow(t.y)}function jw(t,e){return t.min===e.min&&t.max===e.max}function mD(t,e){return jw(t.x,e.x)&&jw(t.y,e.y)}function Lw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function gE(t,e){return Lw(t.x,e.x)&&Lw(t.y,e.y)}function Iw(t){return Hn(t.x)/Hn(t.y)}function Dw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class gD{constructor(){this.members=[]}add(e){pv(this.members,e),e.scheduleRender()}remove(e){if(mv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vD(t,e,n){let r="";const o=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((o||l||c)&&(r=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:b,skewX:P,skewY:k}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),b&&(r+=`rotateY(${b}deg) `),P&&(r+=`skewX(${P}deg) `),k&&(r+=`skewY(${k}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const _o={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},kc=typeof window<"u"&&window.MotionDebug!==void 0,ym=["","X","Y","Z"],yD={visibility:"hidden"},Mw=1e3;let _D=0;function _m(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function vE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=TS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",mt,!(o||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&vE(r)}function yE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},d=e==null?void 0:e()){this.id=_D++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,kc&&(_o.totalNodes=_o.resolvedTargetDeltas=_o.recalculatedProjection=0),this.nodes.forEach(bD),this.nodes.forEach(CD),this.nodes.forEach(kD),this.nodes.forEach(SD),kc&&window.MotionDebug.record(_o)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new oD)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new gv),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=iD(c),this.instance=c;const{layoutId:f,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||f)&&(this.isLayoutDirty=!0),t){let _;const b=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=aD(b,250),sh.hasAnimatedSinceResize&&(sh.hasAnimatedSinceResize=!1,this.nodes.forEach(Fw))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&y&&(f||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:b,hasRelativeTargetChanged:P,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||y.getDefaultTransition()||jD,{onLayoutAnimationStart:C,onLayoutAnimationComplete:A}=y.getProps(),j=!this.targetLayout||!gE(this.targetLayout,k)||P,O=!b&&P;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||O||b&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,O);const D={...uv(T,"layout"),onPlay:C,onComplete:A};(y.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else b||Fw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RD),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bw);return}this.isUpdating||this.nodes.forEach(TD),this.isUpdating=!1,this.nodes.forEach(PD),this.nodes.forEach(wD),this.nodes.forEach(xD),this.clearAllSnapshots();const d=Yr.now();Kt.delta=Oi(0,1e3/60,d-Kt.timestamp),Kt.timestamp=d,Kt.isProcessing=!0,cm.update.process(Kt),cm.preRender.process(Kt),cm.render.process(Kt),Kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ev.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ED),this.sharedNodes.forEach(AD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!mE(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&(d||yo(this.latestValues)||y)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),LD(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return Rt();const f=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(ID))){const{scroll:y}=this.root;y&&(Ha(f.x,y.offset.x),Ha(f.y,y.offset.y))}return f}removeElementScroll(c){var d;const f=Rt();if(ir(f,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:b}=y;y!==this.root&&_&&b.layoutScroll&&(_.wasRoot&&ir(f,c),Ha(f.x,_.offset.x),Ha(f.y,_.offset.y))}return f}applyTransform(c,d=!1){const f=Rt();ir(f,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&qa(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),yo(y.latestValues)&&qa(f,y.latestValues)}return yo(this.latestValues)&&qa(f,this.latestValues),f}removeTransform(c){const d=Rt();ir(d,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!yo(p.latestValues))continue;fg(p.latestValues)&&p.updateSnapshot();const y=Rt(),_=p.measurePageBox();ir(y,_),Nw(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return yo(this.latestValues)&&Nw(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:b}=this.options;if(!(!this.layout||!(_||b))){if(this.resolvedRelativeTargetAt=Kt.timestamp,!this.targetDelta&&!this.relativeTarget){const P=this.getClosestProjectingParent();P&&P.layout&&this.animationProgress!==1?(this.relativeParent=P,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Dc(this.relativeTargetOrigin,this.layout.layoutBox,P.layout.layoutBox),ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),BI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ir(this.target,this.layout.layoutBox),cE(this.target,this.targetDelta)):ir(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const P=this.getClosestProjectingParent();P&&!!P.resumingFrom==!!this.resumingFrom&&!P.options.layoutScroll&&P.target&&this.animationProgress!==1?(this.relativeParent=P,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Dc(this.relativeTargetOrigin,this.target,P.target),ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}kc&&_o.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||fg(this.parent.latestValues)||lE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Kt.timestamp&&(p=!1),p)return;const{layout:y,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||_))return;ir(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,P=this.treeScale.y;KI(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Rt());const{target:k}=d;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kw(this.prevProjectionDelta.x,this.projectionDelta.x),kw(this.prevProjectionDelta.y,this.projectionDelta.y)),Ic(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==P||!Dw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Dw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),kc&&_o.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wa(),this.projectionDelta=Wa(),this.projectionDeltaWithTransform=Wa()}setAnimationOrigin(c,d=!1){const f=this.snapshot,p=f?f.latestValues:{},y={...this.latestValues},_=Wa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=Rt(),P=f?f.source:void 0,k=this.layout?this.layout.source:void 0,T=P!==k,C=this.getStack(),A=!C||C.members.length<=1,j=!!(T&&!A&&this.options.crossfade===!0&&!this.path.some(OD));this.animationProgress=0;let O;this.mixTargetDelta=D=>{const z=D/1e3;zw(_.x,c.x,z),zw(_.y,c.y,z),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ND(this.relativeTarget,this.relativeTargetOrigin,b,z),O&&mD(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Rt()),ir(O,this.relativeTarget)),T&&(this.animationValues=y,cD(y,p,this.latestValues,z,j,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{sh.hasAnimatedSinceResize=!0,this.currentAnimation=rD(0,Mw,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Mw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:y}=c;if(!(!d||!f||!p)){if(this!==c&&this.layout&&p&&_E(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Rt();const _=Hn(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+_;const b=Hn(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+b}ir(d,f),qa(d,y),Ic(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new gD),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&_m("z",c,p,this.animationValues);for(let y=0;y<ym.length;y++)_m(`rotate${ym[y]}`,c,p,this.animationValues),_m(`skew${ym[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return yD;const p={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=rh(c==null?void 0:c.pointerEvents)||"",p.transform=y?y(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=rh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!yo(this.latestValues)&&(T.transform=y?y({},""):"none",this.hasProjected=!1),T}const b=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=vD(this.projectionDeltaWithTransform,this.treeScale,b),y&&(p.transform=y(b,p.transform));const{x:P,y:k}=this.projectionDelta;p.transformOrigin=`${P.origin*100}% ${k.origin*100}% 0`,_.animationValues?p.opacity=_===this?(f=(d=b.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:p.opacity=_===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const T in _h){if(b[T]===void 0)continue;const{correct:C,applyTo:A}=_h[T],j=p.transform==="none"?b[T]:C(b[T],_);if(A){const O=A.length;for(let D=0;D<O;D++)p[A[D]]=j}else p[T]=j}return this.options.layoutId&&(p.pointerEvents=_===this?rh(c==null?void 0:c.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(Bw),this.root.sharedNodes.clear()}}}function wD(t){t.updateLayout()}function xD(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?sr(_=>{const b=c?n.measuredBox[_]:n.layoutBox[_],P=Hn(b);b.min=r[_].min,b.max=b.min+P}):_E(l,n.layoutBox,r)&&sr(_=>{const b=c?n.measuredBox[_]:n.layoutBox[_],P=Hn(r[_]);b.max=b.min+P,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+P)});const d=Wa();Ic(d,r,n.layoutBox);const f=Wa();c?Ic(f,t.applyTransform(o,!0),n.measuredBox):Ic(f,r,n.layoutBox);const p=!mE(d);let y=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:b,layout:P}=_;if(b&&P){const k=Rt();Dc(k,n.layoutBox,b.layoutBox);const T=Rt();Dc(T,r,P.layoutBox),gE(k,T)||(y=!0),_.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=k,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeTargetChanged:y})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function bD(t){kc&&_o.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function SD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ED(t){t.clearSnapshot()}function Bw(t){t.clearMeasurements()}function TD(t){t.isLayoutDirty=!1}function PD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Fw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function CD(t){t.resolveTargetDelta()}function kD(t){t.calcProjection()}function RD(t){t.resetSkewAndRotation()}function AD(t){t.removeLeadSnapshot()}function zw(t,e,n){t.translate=bt(e.translate,0,n),t.scale=bt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Uw(t,e,n,r){t.min=bt(e.min,n.min,r),t.max=bt(e.max,n.max,r)}function ND(t,e,n,r){Uw(t.x,e.x,n.x,r),Uw(t.y,e.y,n.y,r)}function OD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jD={duration:.45,ease:[.4,0,.1,1]},Vw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),$w=Vw("applewebkit/")&&!Vw("chrome/")?Math.round:$n;function Ww(t){t.min=$w(t.min),t.max=$w(t.max)}function LD(t){Ww(t.x),Ww(t.y)}function _E(t,e,n){return t==="position"||t==="preserve-aspect"&&!MI(Iw(e),Iw(n),.2)}function ID(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const DD=yE({attachResizeListener:(t,e)=>Jc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wm={current:void 0},wE=yE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wm.current){const t=new DD({});t.mount(window),t.setOptions({layoutScroll:!0}),wm.current=t}return wm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),MD={pan:{Feature:QI},drag:{Feature:XI,ProjectionNode:wE,MeasureLayout:hE}};function Hw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=r[o];l&&mt.postRender(()=>l(e,au(e)))}class BD extends Ls{mount(){const{current:e}=this.node;e&&(this.unmount=Mj(e,n=>(Hw(this.node,n,"Start"),r=>Hw(this.node,r,"End"))))}unmount(){}}class FD extends Ls{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ou(Jc(this.node.current,"focus",()=>this.onFocus()),Jc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function qw(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=r[o];l&&mt.postRender(()=>l(e,au(e)))}class zD extends Ls{mount(){const{current:e}=this.node;e&&(this.unmount=Uj(e,n=>(qw(this.node,n,"Start"),(r,{success:o})=>qw(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mg=new WeakMap,xm=new WeakMap,UD=t=>{const e=mg.get(t.target);e&&e(t)},VD=t=>{t.forEach(UD)};function $D({root:t,...e}){const n=t||document;xm.has(n)||xm.set(n,{});const r=xm.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(VD,{root:t,...e})),r[o]}function WD(t,e,n){const r=$D(e);return mg.set(t,n),r.observe(t),()=>{mg.delete(t),r.unobserve(t)}}const HD={some:0,all:1};class qD extends Ls{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:HD[o]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),b=p?y:_;b&&b(f)};return WD(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(KD(e,n))&&this.startObserver()}unmount(){}}function KD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ZD={inView:{Feature:qD},tap:{Feature:zD},focus:{Feature:FD},hover:{Feature:BD}},GD={layout:{ProjectionNode:wE,MeasureLayout:hE}},gg={current:null},xE={current:!1};function JD(){if(xE.current=!0,!!Gg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gg.current=t.matches;t.addListener(e),e()}else gg.current=!1}const YD=[...qS,sn,Rs],XD=t=>YD.find(HS(t)),Kw=new WeakMap;function QD(t,e,n){for(const r in e){const o=e[r],l=n[r];if(ln(o))t.addValue(r,o);else if(ln(l))t.addValue(r,Zc(o,{owner:t}));else if(l!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,Zc(c!==void 0?c:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Zw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class e2{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const P=Yr.now();this.renderScheduledAt<P&&(this.renderScheduledAt=P,mt.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:y}=c;this.onUpdate=y,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Gh(n),this.isVariantNode=eS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const P in b){const k=b[P];f[P]!==void 0&&ln(k)&&k.set(f[P],!1)}}mount(e){this.current=e,Kw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),xE.current||JD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Kw.delete(this.current),this.projection&&this.projection.unmount(),ks(this.notifyUpdate),ks(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Do.has(e),o=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&mt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in tl){const n=tl[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Zw.length;r++){const o=Zw[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=QD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Zc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&($S(o)||LS(o))?o=parseFloat(o):!XD(o)&&Rs.test(n)&&(o=zS(e,n)),this.setBaseTarget(e,ln(o)?o.get():o)),ln(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const c=nv(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(o=c[e])}if(r&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!ln(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new gv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class bE extends e2{constructor(){super(...arguments),this.KeyframeResolver=KS}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ln(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function t2(t){return window.getComputedStyle(t)}class n2 extends bE{constructor(){super(...arguments),this.type="html",this.renderInstance=cS}readValueFromInstance(e,n){if(Do.has(n)){const r=xv(n);return r&&r.default||0}else{const r=t2(e),o=(oS(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return uE(e,n)}build(e,n,r){sv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return cv(e,n,r)}}class r2 extends bE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Do.has(n)){const r=xv(n);return r&&r.default||0}return n=uS.has(n)?n:Qg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return fS(e,n,r)}build(e,n,r){ov(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,o){dS(e,n,r,o)}mount(e){this.isSVGTag=lv(e.tagName),super.mount(e)}}const i2=(t,e)=>tv(t)?new r2(e):new n2(e,{allowProjection:t!==S.Fragment}),s2=Aj({...kI,...ZD,...MD,...GD},i2),ki=HO(s2);var o2=Symbol.for("react.lazy"),Th=Lh[" use ".trim().toString()];function a2(t){return typeof t=="object"&&t!==null&&"then"in t}function SE(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===o2&&"_payload"in t&&a2(t._payload)}function Pv(t){const e=c2(t),n=S.forwardRef((r,o)=>{let{children:l,...c}=r;SE(l)&&typeof Th=="function"&&(l=Th(l._payload));const d=S.Children.toArray(l),f=d.find(d2);if(f){const p=f.props.children,y=d.map(_=>_===f?S.Children.count(p)>1?S.Children.only(null):S.isValidElement(p)?p.props.children:null:_);return v.jsx(e,{...c,ref:o,children:S.isValidElement(p)?S.cloneElement(p,void 0,y):null})}return v.jsx(e,{...c,ref:o,children:l})});return n.displayName=`${t}.Slot`,n}var l2=Pv("Slot");function c2(t){const e=S.forwardRef((n,r)=>{let{children:o,...l}=n;if(SE(o)&&typeof Th=="function"&&(o=Th(o._payload)),S.isValidElement(o)){const c=f2(o),d=h2(l,o.props);return o.type!==S.Fragment&&(d.ref=r?ul(r,c):c),S.cloneElement(o,d)}return S.Children.count(o)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var u2=Symbol("radix.slottable");function d2(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===u2}function h2(t,e){const n={...e};for(const r in e){const o=t[r],l=e[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...t,...n}}function f2(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Gw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Jw=Ub,Cv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Jw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:l}=e,c=Object.keys(o).map(p=>{const y=n==null?void 0:n[p],_=l==null?void 0:l[p];if(y===null)return null;const b=Gw(y)||Gw(_);return o[p][b]}),d=n&&Object.entries(n).reduce((p,y)=>{let[_,b]=y;return b===void 0||(p[_]=b),p},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:_,className:b,...P}=y;return Object.entries(P).every(k=>{let[T,C]=k;return Array.isArray(C)?C.includes({...l,...d}[T]):{...l,...d}[T]===C})?[...p,_,b]:p},[]);return Jw(t,c,f,n==null?void 0:n.class,n==null?void 0:n.className)},p2=Cv("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-gray-900 transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-gradient-to-r from-cyan-500 to-blue-600 text-white hover:from-cyan-400 hover:to-blue-500 shadow-lg shadow-cyan-500/25",destructive:"bg-red-600 text-white hover:bg-red-500 shadow-lg shadow-red-500/25",outline:"border border-gray-600 bg-transparent text-gray-200 hover:bg-gray-800 hover:border-gray-500",secondary:"bg-gray-700 text-gray-100 hover:bg-gray-600",ghost:"text-gray-300 hover:bg-gray-800 hover:text-white",link:"text-cyan-400 underline-offset-4 hover:underline",success:"bg-green-600 text-white hover:bg-green-500 shadow-lg shadow-green-500/25",warning:"bg-amber-600 text-white hover:bg-amber-500 shadow-lg shadow-amber-500/25"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8 text-base",xl:"h-12 rounded-lg px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),lt=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,loading:o=!1,children:l,...c},d)=>{const f=r?l2:"button";return v.jsx(f,{className:it(p2({variant:e,size:n,className:t})),ref:d,disabled:o||c.disabled,...c,children:o?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Loading..."]}):l})});lt.displayName="Button";const zn=S.forwardRef(({className:t,type:e,error:n,...r},o)=>v.jsx("input",{type:e,className:it("flex h-10 w-full rounded-lg border bg-gray-800/50 px-3 py-2 text-sm text-gray-100 ring-offset-gray-900 file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all",n?"border-red-500 focus-visible:ring-red-500":"border-gray-600 focus-visible:ring-cyan-500 hover:border-gray-500",t),ref:o,...r}));zn.displayName="Input";var m2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],g2=m2.reduce((t,e)=>{const n=Pv(`Primitive.${e}`),r=S.forwardRef((o,l)=>{const{asChild:c,...d}=o,f=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(f,{...d,ref:l})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),v2="Label",EE=S.forwardRef((t,e)=>v.jsx(g2.label,{...t,ref:e,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=t.onMouseDown)==null||o.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));EE.displayName=v2;var TE=EE;const y2=Cv("text-sm font-medium leading-none text-gray-200 peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),on=S.forwardRef(({className:t,...e},n)=>v.jsx(TE,{ref:n,className:it(y2(),t),...e}));on.displayName=TE.displayName;const Qe=S.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:it("rounded-xl border border-gray-700/50 bg-gray-800/50 backdrop-blur-sm text-gray-100 shadow-xl",t),...e}));Qe.displayName="Card";const pn=S.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:it("flex flex-col space-y-1.5 p-6",t),...e}));pn.displayName="CardHeader";const En=S.forwardRef(({className:t,...e},n)=>v.jsx("h3",{ref:n,className:it("text-2xl font-semibold leading-none tracking-tight text-white",t),...e}));En.displayName="CardTitle";const Is=S.forwardRef(({className:t,...e},n)=>v.jsx("p",{ref:n,className:it("text-sm text-gray-400",t),...e}));Is.displayName="CardDescription";const et=S.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:it("p-6 pt-0",t),...e}));et.displayName="CardContent";const kv=S.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:it("flex items-center p-6 pt-0",t),...e}));kv.displayName="CardFooter";function _2(){const{signIn:t,isAuthenticated:e,loading:n}=lr(),{toast:r}=Io(),[o,l]=S.useState(""),[c,d]=S.useState(""),[f,p]=S.useState(!1),[y,_]=S.useState({});if(e&&!n)return v.jsx(Xa,{to:"/dashboard",replace:!0});const b=()=>{const k={};return o?/\S+@\S+\.\S+/.test(o)||(k.email="Invalid email format"):k.email="Email is required",c?c.length<6&&(k.password="Password must be at least 6 characters"):k.password="Password is required",_(k),Object.keys(k).length===0},P=async k=>{if(k.preventDefault(),!!b()){p(!0);try{const{error:T}=await t(o,c);T?r.error("Login Failed",T.message):r.success("Welcome back!","You have been logged in successfully")}catch{r.error("Error","An unexpected error occurred")}finally{p(!1)}}};return v.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:[v.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[v.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl"}),v.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"})]}),v.jsx(ki.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md relative z-10",children:v.jsxs(Qe,{className:"border-gray-700/50 bg-gray-800/80 backdrop-blur-xl",children:[v.jsxs(pn,{className:"text-center space-y-4",children:[v.jsx("div",{className:"flex justify-center",children:v.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-600 shadow-lg shadow-cyan-500/25",children:v.jsx(Wh,{className:"w-8 h-8 text-white"})})}),v.jsx(En,{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Welcome to RentShield"}),v.jsx(Is,{className:"text-gray-400",children:"Sign in to access your account"})]}),v.jsxs("form",{onSubmit:P,children:[v.jsxs(et,{className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(on,{htmlFor:"email",children:"Email"}),v.jsxs("div",{className:"relative",children:[v.jsx(qg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),v.jsx(zn,{id:"email",type:"email",placeholder:"you@example.com",value:o,onChange:k=>l(k.target.value),error:y.email,className:"pl-10"})]}),y.email&&v.jsx("p",{className:"text-sm text-red-400",children:y.email})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(on,{htmlFor:"password",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(Xm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),v.jsx(zn,{id:"password",type:"password",placeholder:"",value:c,onChange:k=>d(k.target.value),error:y.password,className:"pl-10"})]}),y.password&&v.jsx("p",{className:"text-sm text-red-400",children:y.password})]})]}),v.jsxs(kv,{className:"flex flex-col gap-4",children:[v.jsxs(lt,{type:"submit",className:"w-full",size:"lg",loading:f,children:["Sign In",v.jsx(Vh,{className:"ml-2 w-4 h-4"})]}),v.jsxs("p",{className:"text-sm text-gray-400 text-center",children:["Don't have an account?"," ",v.jsx(Qr,{to:"/register",className:"text-cyan-400 hover:text-cyan-300 transition-colors",children:"Create one"})]})]})]})]})})]})}const w2=[{id:"tenant",label:"Tenant",icon:ru,description:"Report issues and track resolutions"},{id:"landlord",label:"Landlord",icon:nu,description:"Respond to tenant issues"},{id:"dao_member",label:"DAO Member",icon:Hh,description:"Vote on dispute resolutions"}];function x2(){const{signUp:t,isAuthenticated:e,loading:n}=lr(),{toast:r}=Io(),[o,l]=S.useState({email:"",password:"",confirmPassword:"",fullName:"",role:"tenant"}),[c,d]=S.useState(!1),[f,p]=S.useState({});if(e&&!n)return v.jsx(Xa,{to:"/dashboard",replace:!0});const y=()=>{const P={};return o.email?/\S+@\S+\.\S+/.test(o.email)||(P.email="Invalid email format"):P.email="Email is required",o.password?o.password.length<6&&(P.password="Password must be at least 6 characters"):P.password="Password is required",o.password!==o.confirmPassword&&(P.confirmPassword="Passwords do not match"),o.fullName||(P.fullName="Full name is required"),p(P),Object.keys(P).length===0},_=(P,k)=>{l(T=>({...T,[P]:k})),f[P]&&p(T=>({...T,[P]:null}))},b=async P=>{if(P.preventDefault(),!!y()){d(!0);try{const{error:k}=await t(o.email,o.password,{full_name:o.fullName,role:o.role});k?r.error("Registration Failed",k.message):r.success("Account Created!","Please check your email to verify your account")}catch{r.error("Error","An unexpected error occurred")}finally{d(!1)}}};return v.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4 py-12",children:[v.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[v.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl"}),v.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"})]}),v.jsx(ki.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-lg relative z-10",children:v.jsxs(Qe,{className:"border-gray-700/50 bg-gray-800/80 backdrop-blur-xl",children:[v.jsxs(pn,{className:"text-center space-y-4",children:[v.jsx("div",{className:"flex justify-center",children:v.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-600 shadow-lg shadow-cyan-500/25",children:v.jsx(Wh,{className:"w-8 h-8 text-white"})})}),v.jsx(En,{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Create Account"}),v.jsx(Is,{className:"text-gray-400",children:"Join RentShield to resolve housing disputes fairly"})]}),v.jsxs("form",{onSubmit:b,children:[v.jsxs(et,{className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(on,{children:"I am a..."}),v.jsx("div",{className:"grid grid-cols-3 gap-2",children:w2.map(P=>v.jsxs("button",{type:"button",onClick:()=>_("role",P.id),className:`p-3 rounded-lg border transition-all text-center ${o.role===P.id?"border-cyan-500 bg-cyan-500/10 text-cyan-400":"border-gray-600 bg-gray-700/50 text-gray-400 hover:border-gray-500"}`,children:[v.jsx(P.icon,{className:"w-5 h-5 mx-auto mb-1"}),v.jsx("span",{className:"text-xs font-medium",children:P.label})]},P.id))})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(on,{htmlFor:"fullName",children:"Full Name"}),v.jsxs("div",{className:"relative",children:[v.jsx(ru,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),v.jsx(zn,{id:"fullName",type:"text",placeholder:"John Doe",value:o.fullName,onChange:P=>_("fullName",P.target.value),error:f.fullName,className:"pl-10"})]}),f.fullName&&v.jsx("p",{className:"text-sm text-red-400",children:f.fullName})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(on,{htmlFor:"email",children:"Email"}),v.jsxs("div",{className:"relative",children:[v.jsx(qg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),v.jsx(zn,{id:"email",type:"email",placeholder:"you@example.com",value:o.email,onChange:P=>_("email",P.target.value),error:f.email,className:"pl-10"})]}),f.email&&v.jsx("p",{className:"text-sm text-red-400",children:f.email})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(on,{htmlFor:"password",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(Xm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),v.jsx(zn,{id:"password",type:"password",placeholder:"",value:o.password,onChange:P=>_("password",P.target.value),error:f.password,className:"pl-10"})]}),f.password&&v.jsx("p",{className:"text-sm text-red-400",children:f.password})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(on,{htmlFor:"confirmPassword",children:"Confirm Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(Xm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),v.jsx(zn,{id:"confirmPassword",type:"password",placeholder:"",value:o.confirmPassword,onChange:P=>_("confirmPassword",P.target.value),error:f.confirmPassword,className:"pl-10"})]}),f.confirmPassword&&v.jsx("p",{className:"text-sm text-red-400",children:f.confirmPassword})]})]}),v.jsxs(kv,{className:"flex flex-col gap-4",children:[v.jsxs(lt,{type:"submit",className:"w-full",size:"lg",loading:c,children:["Create Account",v.jsx(Vh,{className:"ml-2 w-4 h-4"})]}),v.jsxs("p",{className:"text-sm text-gray-400 text-center",children:["Already have an account?"," ",v.jsx(Qr,{to:"/login",className:"text-cyan-400 hover:text-cyan-300 transition-colors",children:"Sign in"})]})]})]})]})})]})}function Yc(t={}){const{user:e,role:n}=lr(),[r,o]=S.useState([]),[l,c]=S.useState(!0),[d,f]=S.useState(null),{status:p,landlordOnly:y,tenantOnly:_}=t,b=S.useCallback(async()=>{try{c(!0),f(null);let C=Ke.from("issues").select(`
          *,
          property:properties(*),
          tenant:profiles!issues_tenant_id_fkey(id, full_name, email),
          landlord:profiles!issues_landlord_id_fkey(id, full_name, email)
        `).order("created_at",{ascending:!1});p&&(C=C.eq("status",p)),y&&e&&(C=C.eq("landlord_id",e.id)),_&&e&&(C=C.eq("tenant_id",e.id));const{data:A,error:j}=await C;if(j)throw j;o(A||[])}catch(C){console.error("Error fetching issues:",C),f(C.message)}finally{c(!1)}},[e,p,y,_]),P=S.useCallback(async C=>{try{const{data:A,error:j}=await Ke.from("issues").select(`
          *,
          property:properties(*),
          tenant:profiles!issues_tenant_id_fkey(id, full_name, email),
          landlord:profiles!issues_landlord_id_fkey(id, full_name, email),
          evidence(*),
          landlord_responses(*),
          ai_verdicts(*),
          dao_votes(*),
          resolution_followups(*)
        `).eq("id",C).single();if(j)throw j;return{data:A,error:null}}catch(A){return console.error("Error fetching issue:",A),{data:null,error:A}}},[]),k=S.useCallback(async C=>{try{const{data:A,error:j}=await Ke.from("issues").insert({...C,tenant_id:e.id,status:"REPORTED"}).select().single();if(j)throw j;return{data:A,error:null}}catch(A){return console.error("Error creating issue:",A),{data:null,error:A}}},[e]),T=S.useCallback(async(C,A)=>{try{const{data:j,error:O}=await Ke.from("issues").update({status:A,updated_at:new Date().toISOString()}).eq("id",C).select().single();if(O)throw O;return{data:j,error:null}}catch(j){return console.error("Error updating issue status:",j),{data:null,error:j}}},[]);return S.useEffect(()=>{b();const C=Ke.channel("issues-changes").on("postgres_changes",{event:"*",schema:"public",table:"issues"},A=>{console.log("Issue change:",A),b()}).subscribe();return()=>{Ke.removeChannel(C)}},[b]),{issues:r,loading:l,error:d,fetchIssues:b,getIssue:P,createIssue:k,updateIssueStatus:T}}function b2(t){const[e,n]=S.useState(null),[r,o]=S.useState(!0),[l,c]=S.useState(null),d=S.useCallback(async()=>{if(t)try{o(!0);const{data:f,error:p}=await Ke.from("issues").select(`
          *,
          property:properties(*),
          tenant:profiles!issues_tenant_id_fkey(id, full_name, email),
          landlord:profiles!issues_landlord_id_fkey(id, full_name, email),
          evidence(*),
          landlord_responses(*),
          ai_verdicts(*),
          dao_votes(id, vote, created_at),
          resolution_followups(*)
        `).eq("id",t).single();if(p)throw p;n(f)}catch(f){console.error("Error fetching issue:",f),c(f.message)}finally{o(!1)}},[t]);return S.useEffect(()=>{d();const f=Ke.channel(`issue-${t}`).on("postgres_changes",{event:"*",schema:"public",table:"issues",filter:`id=eq.${t}`},()=>d()).on("postgres_changes",{event:"*",schema:"public",table:"dao_votes",filter:`issue_id=eq.${t}`},()=>d()).subscribe();return()=>{Ke.removeChannel(f)}},[t,d]),{issue:e,loading:r,error:l,refetch:d}}const S2=Cv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-cyan-500/20 text-cyan-300",secondary:"border-transparent bg-gray-600 text-gray-200",destructive:"border-transparent bg-red-500/20 text-red-300",success:"border-transparent bg-green-500/20 text-green-300",warning:"border-transparent bg-amber-500/20 text-amber-300",outline:"border-gray-600 text-gray-300",reported:"border-transparent bg-blue-500/20 text-blue-300",awaiting:"border-transparent bg-yellow-500/20 text-yellow-300",dao_review:"border-transparent bg-purple-500/20 text-purple-300",dao_verdict:"border-transparent bg-indigo-500/20 text-indigo-300",resolved:"border-transparent bg-green-500/20 text-green-300",escalated:"border-transparent bg-red-500/20 text-red-300"}},defaultVariants:{variant:"default"}});function Ri({className:t,variant:e,...n}){return v.jsx("div",{className:it(S2({variant:e}),t),...n})}var E2=Lh[" useId ".trim().toString()]||(()=>{}),T2=0;function Cs(t){const[e,n]=S.useState(E2());return Zt(()=>{n(r=>r??String(T2++))},[t]),e?`radix-${e}`:""}var P2=S.createContext(void 0);function Rv(t){const e=S.useContext(P2);return t||e||"ltr"}var bm="rovingFocusGroup.onEntryFocus",C2={bubbles:!1,cancelable:!0},lu="RovingFocusGroup",[vg,PE,k2]=Ug(lu),[R2,CE]=Lo(lu,[k2]),[A2,N2]=R2(lu),kE=S.forwardRef((t,e)=>v.jsx(vg.Provider,{scope:t.__scopeRovingFocusGroup,children:v.jsx(vg.Slot,{scope:t.__scopeRovingFocusGroup,children:v.jsx(O2,{...t,ref:e})})}));kE.displayName=lu;var O2=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:y=!1,..._}=t,b=S.useRef(null),P=vt(e,b),k=Rv(l),[T,C]=Qa({prop:c,defaultProp:d??null,onChange:f,caller:lu}),[A,j]=S.useState(!1),O=or(p),D=PE(n),z=S.useRef(!1),[W,H]=S.useState(0);return S.useEffect(()=>{const X=b.current;if(X)return X.addEventListener(bm,O),()=>X.removeEventListener(bm,O)},[O]),v.jsx(A2,{scope:n,orientation:r,dir:k,loop:o,currentTabStopId:T,onItemFocus:S.useCallback(X=>C(X),[C]),onItemShiftTab:S.useCallback(()=>j(!0),[]),onFocusableItemAdd:S.useCallback(()=>H(X=>X+1),[]),onFocusableItemRemove:S.useCallback(()=>H(X=>X-1),[]),children:v.jsx(Ze.div,{tabIndex:A||W===0?-1:0,"data-orientation":r,..._,ref:P,style:{outline:"none",...t.style},onMouseDown:$e(t.onMouseDown,()=>{z.current=!0}),onFocus:$e(t.onFocus,X=>{const ue=!z.current;if(X.target===X.currentTarget&&ue&&!A){const ye=new CustomEvent(bm,C2);if(X.currentTarget.dispatchEvent(ye),!ye.defaultPrevented){const pe=D().filter(ne=>ne.focusable),le=pe.find(ne=>ne.active),be=pe.find(ne=>ne.id===T),se=[le,be,...pe].filter(Boolean).map(ne=>ne.ref.current);NE(se,y)}}z.current=!1}),onBlur:$e(t.onBlur,()=>j(!1))})})}),RE="RovingFocusGroupItem",AE=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:l,children:c,...d}=t,f=Cs(),p=l||f,y=N2(RE,n),_=y.currentTabStopId===p,b=PE(n),{onFocusableItemAdd:P,onFocusableItemRemove:k,currentTabStopId:T}=y;return S.useEffect(()=>{if(r)return P(),()=>k()},[r,P,k]),v.jsx(vg.ItemSlot,{scope:n,id:p,focusable:r,active:o,children:v.jsx(Ze.span,{tabIndex:_?0:-1,"data-orientation":y.orientation,...d,ref:e,onMouseDown:$e(t.onMouseDown,C=>{r?y.onItemFocus(p):C.preventDefault()}),onFocus:$e(t.onFocus,()=>y.onItemFocus(p)),onKeyDown:$e(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){y.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const A=I2(C,y.orientation,y.dir);if(A!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let O=b().filter(D=>D.focusable).map(D=>D.ref.current);if(A==="last")O.reverse();else if(A==="prev"||A==="next"){A==="prev"&&O.reverse();const D=O.indexOf(C.currentTarget);O=y.loop?D2(O,D+1):O.slice(D+1)}setTimeout(()=>NE(O))}}),children:typeof c=="function"?c({isCurrentTabStop:_,hasTabStop:T!=null}):c})})});AE.displayName=RE;var j2={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function L2(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function I2(t,e,n){const r=L2(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return j2[r]}function NE(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function D2(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var M2=kE,B2=AE,Xh="Tabs",[F2]=Lo(Xh,[CE]),OE=CE(),[z2,Av]=F2(Xh),jE=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:l,orientation:c="horizontal",dir:d,activationMode:f="automatic",...p}=t,y=Rv(d),[_,b]=Qa({prop:r,onChange:o,defaultProp:l??"",caller:Xh});return v.jsx(z2,{scope:n,baseId:Cs(),value:_,onValueChange:b,orientation:c,dir:y,activationMode:f,children:v.jsx(Ze.div,{dir:y,"data-orientation":c,...p,ref:e})})});jE.displayName=Xh;var LE="TabsList",IE=S.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...o}=t,l=Av(LE,n),c=OE(n);return v.jsx(M2,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:r,children:v.jsx(Ze.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:e})})});IE.displayName=LE;var DE="TabsTrigger",ME=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...l}=t,c=Av(DE,n),d=OE(n),f=zE(c.baseId,r),p=UE(c.baseId,r),y=r===c.value;return v.jsx(B2,{asChild:!0,...d,focusable:!o,active:y,children:v.jsx(Ze.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":p,"data-state":y?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...l,ref:e,onMouseDown:$e(t.onMouseDown,_=>{!o&&_.button===0&&_.ctrlKey===!1?c.onValueChange(r):_.preventDefault()}),onKeyDown:$e(t.onKeyDown,_=>{[" ","Enter"].includes(_.key)&&c.onValueChange(r)}),onFocus:$e(t.onFocus,()=>{const _=c.activationMode!=="manual";!y&&!o&&_&&c.onValueChange(r)})})})});ME.displayName=DE;var BE="TabsContent",FE=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:o,children:l,...c}=t,d=Av(BE,n),f=zE(d.baseId,r),p=UE(d.baseId,r),y=r===d.value,_=S.useRef(y);return S.useEffect(()=>{const b=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(b)},[]),v.jsx(dl,{present:o||y,children:({present:b})=>v.jsx(Ze.div,{"data-state":y?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!b,id:p,tabIndex:0,...c,ref:e,style:{...t.style,animationDuration:_.current?"0s":void 0},children:b&&l})})});FE.displayName=BE;function zE(t,e){return`${t}-trigger-${e}`}function UE(t,e){return`${t}-content-${e}`}var U2=jE,VE=IE,$E=ME,WE=FE;const Nv=U2,Qh=S.forwardRef(({className:t,...e},n)=>v.jsx(VE,{ref:n,className:it("inline-flex h-10 items-center justify-center rounded-lg bg-gray-800/50 p-1 text-gray-400 border border-gray-700",t),...e}));Qh.displayName=VE.displayName;const kr=S.forwardRef(({className:t,...e},n)=>v.jsx($E,{ref:n,className:it("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-gray-900 transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-500 data-[state=active]:to-blue-600 data-[state=active]:text-white data-[state=active]:shadow-sm",t),...e}));kr.displayName=$E.displayName;const Ka=S.forwardRef(({className:t,...e},n)=>v.jsx(WE,{ref:n,className:it("mt-2 ring-offset-gray-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500 focus-visible:ring-offset-2",t),...e}));Ka.displayName=WE.displayName;const ml=Sn.forwardRef(({className:t,size:e="md",...n},r)=>{const o={sm:"w-4 h-4 border-2",md:"w-8 h-8 border-3",lg:"w-12 h-12 border-4"};return v.jsx("div",{ref:r,className:it("border-cyan-500 border-t-transparent rounded-full animate-spin",o[e],t),...n})});ml.displayName="Spinner";const Yw={REPORTED:{label:"Reported",variant:"reported",icon:Co},AWAITING_LANDLORD_RESPONSE:{label:"Awaiting Response",variant:"awaiting",icon:Db},DAO_REVIEW:{label:"DAO Review",variant:"dao_review",icon:eO},DAO_VERDICT:{label:"DAO Verdict",variant:"dao_verdict",icon:ar},RESOLVED:{label:"Resolved",variant:"success",icon:ar},ESCALATED_TO_ADMIN:{label:"Escalated",variant:"escalated",icon:js}};function V2({issue:t}){var r;const e=Yw[t.status]||Yw.REPORTED,n=e.icon;return v.jsx(ki.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"group",children:v.jsx(Qr,{to:`/issue/${t.id}`,children:v.jsx(Qe,{className:"hover:border-cyan-500/50 transition-all cursor-pointer bg-gray-800/50 hover:bg-gray-800/80",children:v.jsxs(et,{className:"p-4",children:[v.jsxs("div",{className:"flex items-start justify-between gap-4",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"font-semibold text-white truncate group-hover:text-cyan-400 transition-colors",children:t.title||"Untitled Issue"}),v.jsx("p",{className:"text-sm text-gray-400 mt-1 line-clamp-2",children:t.description}),v.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[v.jsxs(Ri,{variant:e.variant,children:[v.jsx(n,{className:"w-3 h-3 mr-1"}),e.label]}),t.category&&v.jsx(Ri,{variant:"outline",children:t.category})]})]}),v.jsx(Vh,{className:"w-5 h-5 text-gray-500 group-hover:text-cyan-400 transition-colors flex-shrink-0"})]}),v.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-3 border-t border-gray-700/50 text-sm text-gray-500",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(nu,{className:"w-4 h-4"}),((r=t.property)==null?void 0:r.address)||"No address"]}),v.jsx("span",{children:new Date(t.created_at).toLocaleDateString()})]})]})})})})}function $2(){const{user:t,role:e,profile:n}=lr(),[r,o]=S.useState("all"),l=e==="tenant",c=e==="landlord",{issues:d,loading:f,error:p,fetchIssues:y}=Yc({tenantOnly:l,landlordOnly:c}),_=d.filter(P=>r==="all"?!0:r==="active"?!["RESOLVED","ESCALATED_TO_ADMIN"].includes(P.status):r==="resolved"?P.status==="RESOLVED":r==="awaiting"?P.status==="AWAITING_LANDLORD_RESPONSE":!0),b={total:d.length,active:d.filter(P=>!["RESOLVED","ESCALATED_TO_ADMIN"].includes(P.status)).length,resolved:d.filter(P=>P.status==="RESOLVED").length,awaiting:d.filter(P=>P.status==="AWAITING_LANDLORD_RESPONSE").length};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4 md:p-8",children:v.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"text-3xl font-bold text-white",children:["Welcome, ",(n==null?void 0:n.full_name)||"User"]}),v.jsx("p",{className:"text-gray-400 mt-1",children:l?"Track your reported issues":"Manage tenant issues"})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs(lt,{variant:"outline",size:"sm",onClick:y,children:[v.jsx($h,{className:"w-4 h-4 mr-2"}),"Refresh"]}),l&&v.jsx(Qr,{to:"/report-issue",children:v.jsxs(lt,{children:[v.jsx(A0,{className:"w-4 h-4 mr-2"}),"Report Issue"]})})]})]}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[v.jsx(Qe,{className:"bg-gray-800/50",children:v.jsx(et,{className:"p-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-400",children:"Total Issues"}),v.jsx("p",{className:"text-2xl font-bold text-white",children:b.total})]}),v.jsx(Co,{className:"w-8 h-8 text-gray-600"})]})})}),v.jsx(Qe,{className:"bg-gray-800/50",children:v.jsx(et,{className:"p-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-400",children:"Active"}),v.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:b.active})]}),v.jsx(Db,{className:"w-8 h-8 text-cyan-600"})]})})}),v.jsx(Qe,{className:"bg-gray-800/50",children:v.jsx(et,{className:"p-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-400",children:"Resolved"}),v.jsx("p",{className:"text-2xl font-bold text-green-400",children:b.resolved})]}),v.jsx(ar,{className:"w-8 h-8 text-green-600"})]})})}),v.jsx(Qe,{className:"bg-gray-800/50",children:v.jsx(et,{className:"p-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-400",children:"Awaiting"}),v.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:b.awaiting})]}),v.jsx(js,{className:"w-8 h-8 text-yellow-600"})]})})})]}),v.jsxs(Qe,{className:"bg-gray-800/30",children:[v.jsxs(pn,{children:[v.jsx(En,{children:"Your Issues"}),v.jsx(Is,{children:l?"Issues you have reported":"Issues assigned to your properties"})]}),v.jsx(et,{children:v.jsxs(Nv,{value:r,onValueChange:o,children:[v.jsxs(Qh,{className:"mb-4",children:[v.jsxs(kr,{value:"all",children:["All (",b.total,")"]}),v.jsxs(kr,{value:"active",children:["Active (",b.active,")"]}),c&&v.jsxs(kr,{value:"awaiting",children:["Awaiting Response (",b.awaiting,")"]}),v.jsxs(kr,{value:"resolved",children:["Resolved (",b.resolved,")"]})]}),v.jsx(Ka,{value:r,className:"mt-0",children:f?v.jsx("div",{className:"flex justify-center py-12",children:v.jsx(ml,{size:"lg"})}):p?v.jsxs("div",{className:"text-center py-12",children:[v.jsx("p",{className:"text-red-400",children:p}),v.jsx(lt,{variant:"outline",onClick:y,className:"mt-4",children:"Try Again"})]}):_.length===0?v.jsxs("div",{className:"text-center py-12",children:[v.jsx(Co,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-400",children:"No issues found"}),l&&v.jsx(Qr,{to:"/report-issue",children:v.jsxs(lt,{className:"mt-4",children:[v.jsx(A0,{className:"w-4 h-4 mr-2"}),"Report Your First Issue"]})})]}):v.jsx("div",{className:"space-y-3",children:_.map(P=>v.jsx(V2,{issue:P},P.id))})})]})})]})]})})}const W2=10*1024*1024,Xw=["image/jpeg","image/png","image/webp","image/gif"];function HE(){const[t,e]=S.useState(!1),[n,r]=S.useState(null),o=S.useCallback(f=>f.type.startsWith("image/")?Xw.includes(f.type)?f.size>W2?{valid:!1,error:"File size must be less than 10MB"}:{valid:!0,error:null}:{valid:!1,error:`Invalid file type. Allowed: ${Xw.join(", ")}`}:{valid:!1,error:"File must be an image"},[]),l=S.useCallback(async(f,p,y,_="tenant_evidence")=>{try{e(!0),r(null);const b=o(f);if(!b.valid)throw new Error(b.error);const k=`${Date.now()}-${f.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`,T=`evidence/${p}/${k}`,{data:C,error:A}=await Ke.storage.from("evidence").upload(T,f,{cacheControl:"3600",upsert:!1});if(A)throw A;const{data:{publicUrl:j}}=Ke.storage.from("evidence").getPublicUrl(T),{data:O,error:D}=await Ke.from("evidence").insert({issue_id:p,file_url:j,file_name:f.name,file_type:f.type,file_size:f.size,uploaded_by:y,evidence_type:_}).select().single();if(D)throw D;return{data:O,error:null}}catch(b){return console.error("Error uploading evidence:",b),r(b.message),{data:null,error:b}}finally{e(!1)}},[o]),c=S.useCallback(async(f,p,y,_="tenant_evidence")=>{const b=[],P=[];e(!0);for(const k of f){const{data:T,error:C}=await l(k,p,y,_);C?P.push({file:k.name,error:C.message}):b.push(T)}return e(!1),{data:b,errors:P}},[l]),d=S.useCallback(async f=>{try{const{data:p,error:y}=await Ke.from("evidence").select("*").eq("issue_id",f).order("created_at",{ascending:!0});if(y)throw y;return{data:p,error:null}}catch(p){return console.error("Error fetching evidence:",p),{data:null,error:p}}},[]);return{uploading:t,error:n,validateFile:o,uploadEvidence:l,uploadMultipleEvidence:c,getEvidenceForIssue:d}}function H2(){const[t,e]=S.useState(!1),[n,r]=S.useState(null),o=S.useCallback(async d=>{try{e(!0),r(null);const{data:f,error:p}=await Ke.from("profiles").select("id, email, full_name, role").eq("email",d.toLowerCase()).eq("role","landlord").single();if(p&&p.code==="PGRST116")return{data:null,error:new Error("Landlord not found with this email")};if(p)throw p;return{data:f,error:null}}catch(f){return console.error("Error finding landlord:",f),r(f.message),{data:null,error:f}}finally{e(!1)}},[]),l=S.useCallback(async d=>{try{e(!0),r(null);const{address:f,area:p,city:y,latitude:_,longitude:b}=d,{data:P,error:k}=await Ke.from("properties").select("*").ilike("address",f).single();if(k&&k.code!=="PGRST116")throw k;if(P)return{data:P,error:null};const{data:T,error:C}=await Ke.from("properties").insert({address:f,area:p,city:y,latitude:_||null,longitude:b||null}).select().single();if(C)throw C;return{data:T,error:null}}catch(f){return console.error("Error upserting property:",f),r(f.message),{data:null,error:f}}finally{e(!1)}},[]),c=S.useCallback(async d=>{try{const{data:f,error:p}=await Ke.from("properties").select(`
          *,
          issues(id, status, category, created_at)
        `).eq("id",d).single();if(p)throw p;const y=f.issues||[],_=y.filter(P=>P.status==="RESOLVED").length,b={previous_complaints:y.length,resolution_rate:y.length>0?_/y.length:0};return{data:{...f,history:b},error:null}}catch(f){return console.error("Error fetching property:",f),{data:null,error:f}}},[]);return{loading:t,error:n,findLandlordByEmail:o,upsertProperty:l,getPropertyWithHistory:c}}function qE(t,e){return function(){return t.apply(e,arguments)}}const{toString:q2}=Object.prototype,{getPrototypeOf:Ov}=Object,{iterator:ef,toStringTag:KE}=Symbol,tf=(t=>e=>{const n=q2.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Nr=t=>(t=t.toLowerCase(),e=>tf(e)===t),nf=t=>e=>typeof e===t,{isArray:gl}=Array,rl=nf("undefined");function cu(t){return t!==null&&!rl(t)&&t.constructor!==null&&!rl(t.constructor)&&Tn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ZE=Nr("ArrayBuffer");function K2(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ZE(t.buffer),e}const Z2=nf("string"),Tn=nf("function"),GE=nf("number"),uu=t=>t!==null&&typeof t=="object",G2=t=>t===!0||t===!1,oh=t=>{if(tf(t)!=="object")return!1;const e=Ov(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(KE in t)&&!(ef in t)},J2=t=>{if(!uu(t)||cu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Y2=Nr("Date"),X2=Nr("File"),Q2=Nr("Blob"),eM=Nr("FileList"),tM=t=>uu(t)&&Tn(t.pipe),nM=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Tn(t.append)&&((e=tf(t))==="formdata"||e==="object"&&Tn(t.toString)&&t.toString()==="[object FormData]"))},rM=Nr("URLSearchParams"),[iM,sM,oM,aM]=["ReadableStream","Request","Response","Headers"].map(Nr),lM=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function du(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),gl(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{if(cu(t))return;const l=n?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let d;for(r=0;r<c;r++)d=l[r],e.call(null,t[d],d,t)}}function JE(t,e){if(cu(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const Eo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,YE=t=>!rl(t)&&t!==Eo;function yg(){const{caseless:t,skipUndefined:e}=YE(this)&&this||{},n={},r=(o,l)=>{const c=t&&JE(n,l)||l;oh(n[c])&&oh(o)?n[c]=yg(n[c],o):oh(o)?n[c]=yg({},o):gl(o)?n[c]=o.slice():(!e||!rl(o))&&(n[c]=o)};for(let o=0,l=arguments.length;o<l;o++)arguments[o]&&du(arguments[o],r);return n}const cM=(t,e,n,{allOwnKeys:r}={})=>(du(e,(o,l)=>{n&&Tn(o)?Object.defineProperty(t,l,{value:qE(o,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,l,{value:o,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),t),uM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),dM=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},hM=(t,e,n,r)=>{let o,l,c;const d={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),l=o.length;l-- >0;)c=o[l],(!r||r(c,t,e))&&!d[c]&&(e[c]=t[c],d[c]=!0);t=n!==!1&&Ov(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},fM=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},pM=t=>{if(!t)return null;if(gl(t))return t;let e=t.length;if(!GE(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},mM=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ov(Uint8Array)),gM=(t,e)=>{const r=(t&&t[ef]).call(t);let o;for(;(o=r.next())&&!o.done;){const l=o.value;e.call(t,l[0],l[1])}},vM=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},yM=Nr("HTMLFormElement"),_M=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),Qw=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),wM=Nr("RegExp"),XE=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};du(n,(o,l)=>{let c;(c=e(o,l,t))!==!1&&(r[l]=c||o)}),Object.defineProperties(t,r)},xM=t=>{XE(t,(e,n)=>{if(Tn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Tn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},bM=(t,e)=>{const n={},r=o=>{o.forEach(l=>{n[l]=!0})};return gl(t)?r(t):r(String(t).split(e)),n},SM=()=>{},EM=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function TM(t){return!!(t&&Tn(t.append)&&t[KE]==="FormData"&&t[ef])}const PM=t=>{const e=new Array(10),n=(r,o)=>{if(uu(r)){if(e.indexOf(r)>=0)return;if(cu(r))return r;if(!("toJSON"in r)){e[o]=r;const l=gl(r)?[]:{};return du(r,(c,d)=>{const f=n(c,o+1);!rl(f)&&(l[d]=f)}),e[o]=void 0,l}}return r};return n(t,0)},CM=Nr("AsyncFunction"),kM=t=>t&&(uu(t)||Tn(t))&&Tn(t.then)&&Tn(t.catch),QE=((t,e)=>t?setImmediate:e?((n,r)=>(Eo.addEventListener("message",({source:o,data:l})=>{o===Eo&&l===n&&r.length&&r.shift()()},!1),o=>{r.push(o),Eo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Tn(Eo.postMessage)),RM=typeof queueMicrotask<"u"?queueMicrotask.bind(Eo):typeof process<"u"&&process.nextTick||QE,AM=t=>t!=null&&Tn(t[ef]),ee={isArray:gl,isArrayBuffer:ZE,isBuffer:cu,isFormData:nM,isArrayBufferView:K2,isString:Z2,isNumber:GE,isBoolean:G2,isObject:uu,isPlainObject:oh,isEmptyObject:J2,isReadableStream:iM,isRequest:sM,isResponse:oM,isHeaders:aM,isUndefined:rl,isDate:Y2,isFile:X2,isBlob:Q2,isRegExp:wM,isFunction:Tn,isStream:tM,isURLSearchParams:rM,isTypedArray:mM,isFileList:eM,forEach:du,merge:yg,extend:cM,trim:lM,stripBOM:uM,inherits:dM,toFlatObject:hM,kindOf:tf,kindOfTest:Nr,endsWith:fM,toArray:pM,forEachEntry:gM,matchAll:vM,isHTMLForm:yM,hasOwnProperty:Qw,hasOwnProp:Qw,reduceDescriptors:XE,freezeMethods:xM,toObjectSet:bM,toCamelCase:_M,noop:SM,toFiniteNumber:EM,findKey:JE,global:Eo,isContextDefined:YE,isSpecCompliantForm:TM,toJSONObject:PM,isAsyncFn:CM,isThenable:kM,setImmediate:QE,asap:RM,isIterable:AM};let Me=class eT extends Error{static from(e,n,r,o,l,c){const d=new eT(e.message,n||e.code,r,o,l);return d.cause=e,d.name=e.name,c&&Object.assign(d,c),d}constructor(e,n,r,o,l){super(e),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),r&&(this.config=r),o&&(this.request=o),l&&(this.response=l,this.status=l.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}};Me.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Me.ERR_BAD_OPTION="ERR_BAD_OPTION";Me.ECONNABORTED="ECONNABORTED";Me.ETIMEDOUT="ETIMEDOUT";Me.ERR_NETWORK="ERR_NETWORK";Me.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Me.ERR_DEPRECATED="ERR_DEPRECATED";Me.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Me.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Me.ERR_CANCELED="ERR_CANCELED";Me.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Me.ERR_INVALID_URL="ERR_INVALID_URL";const NM=null;function _g(t){return ee.isPlainObject(t)||ee.isArray(t)}function tT(t){return ee.endsWith(t,"[]")?t.slice(0,-2):t}function ex(t,e,n){return t?t.concat(e).map(function(o,l){return o=tT(o),!n&&l?"["+o+"]":o}).join(n?".":""):e}function OM(t){return ee.isArray(t)&&!t.some(_g)}const jM=ee.toFlatObject(ee,{},null,function(e){return/^is[A-Z]/.test(e)});function rf(t,e,n){if(!ee.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,C){return!ee.isUndefined(C[T])});const r=n.metaTokens,o=n.visitor||y,l=n.dots,c=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(e);if(!ee.isFunction(o))throw new TypeError("visitor must be a function");function p(k){if(k===null)return"";if(ee.isDate(k))return k.toISOString();if(ee.isBoolean(k))return k.toString();if(!f&&ee.isBlob(k))throw new Me("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(k)||ee.isTypedArray(k)?f&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function y(k,T,C){let A=k;if(k&&!C&&typeof k=="object"){if(ee.endsWith(T,"{}"))T=r?T:T.slice(0,-2),k=JSON.stringify(k);else if(ee.isArray(k)&&OM(k)||(ee.isFileList(k)||ee.endsWith(T,"[]"))&&(A=ee.toArray(k)))return T=tT(T),A.forEach(function(O,D){!(ee.isUndefined(O)||O===null)&&e.append(c===!0?ex([T],D,l):c===null?T:T+"[]",p(O))}),!1}return _g(k)?!0:(e.append(ex(C,T,l),p(k)),!1)}const _=[],b=Object.assign(jM,{defaultVisitor:y,convertValue:p,isVisitable:_g});function P(k,T){if(!ee.isUndefined(k)){if(_.indexOf(k)!==-1)throw Error("Circular reference detected in "+T.join("."));_.push(k),ee.forEach(k,function(A,j){(!(ee.isUndefined(A)||A===null)&&o.call(e,A,ee.isString(j)?j.trim():j,T,b))===!0&&P(A,T?T.concat(j):[j])}),_.pop()}}if(!ee.isObject(t))throw new TypeError("data must be an object");return P(t),e}function tx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function jv(t,e){this._pairs=[],t&&rf(t,this,e)}const nT=jv.prototype;nT.append=function(e,n){this._pairs.push([e,n])};nT.toString=function(e){const n=e?function(r){return e.call(this,r,tx)}:tx;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function LM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function rT(t,e,n){if(!e)return t;const r=n&&n.encode||LM,o=ee.isFunction(n)?{serialize:n}:n,l=o&&o.serialize;let c;if(l?c=l(e,o):c=ee.isURLSearchParams(e)?e.toString():new jv(e,o).toString(r),c){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class nx{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ee.forEach(this.handlers,function(r){r!==null&&e(r)})}}const iT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},IM=typeof URLSearchParams<"u"?URLSearchParams:jv,DM=typeof FormData<"u"?FormData:null,MM=typeof Blob<"u"?Blob:null,BM={isBrowser:!0,classes:{URLSearchParams:IM,FormData:DM,Blob:MM},protocols:["http","https","file","blob","url","data"]},Lv=typeof window<"u"&&typeof document<"u",wg=typeof navigator=="object"&&navigator||void 0,FM=Lv&&(!wg||["ReactNative","NativeScript","NS"].indexOf(wg.product)<0),zM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",UM=Lv&&window.location.href||"http://localhost",VM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lv,hasStandardBrowserEnv:FM,hasStandardBrowserWebWorkerEnv:zM,navigator:wg,origin:UM},Symbol.toStringTag,{value:"Module"})),an={...VM,...BM};function $M(t,e){return rf(t,new an.classes.URLSearchParams,{visitor:function(n,r,o,l){return an.isNode&&ee.isBuffer(n)?(this.append(r,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...e})}function WM(t){return ee.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function HM(t){const e={},n=Object.keys(t);let r;const o=n.length;let l;for(r=0;r<o;r++)l=n[r],e[l]=t[l];return e}function sT(t){function e(n,r,o,l){let c=n[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),f=l>=n.length;return c=!c&&ee.isArray(o)?o.length:c,f?(ee.hasOwnProp(o,c)?o[c]=[o[c],r]:o[c]=r,!d):((!o[c]||!ee.isObject(o[c]))&&(o[c]=[]),e(n,r,o[c],l)&&ee.isArray(o[c])&&(o[c]=HM(o[c])),!d)}if(ee.isFormData(t)&&ee.isFunction(t.entries)){const n={};return ee.forEachEntry(t,(r,o)=>{e(WM(r),o,n,0)}),n}return null}function qM(t,e,n){if(ee.isString(t))try{return(e||JSON.parse)(t),ee.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const hu={transitional:iT,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,l=ee.isObject(e);if(l&&ee.isHTMLForm(e)&&(e=new FormData(e)),ee.isFormData(e))return o?JSON.stringify(sT(e)):e;if(ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e)||ee.isReadableStream(e))return e;if(ee.isArrayBufferView(e))return e.buffer;if(ee.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return $M(e,this.formSerializer).toString();if((d=ee.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return rf(d?{"files[]":e}:e,f&&new f,this.formSerializer)}}return l||o?(n.setContentType("application/json",!1),qM(e)):e}],transformResponse:[function(e){const n=this.transitional||hu.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(ee.isResponse(e)||ee.isReadableStream(e))return e;if(e&&ee.isString(e)&&(r&&!this.responseType||o)){const c=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(d){if(c)throw d.name==="SyntaxError"?Me.from(d,Me.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:an.classes.FormData,Blob:an.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],t=>{hu.headers[t]={}});const KM=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZM=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(c){o=c.indexOf(":"),n=c.substring(0,o).trim().toLowerCase(),r=c.substring(o+1).trim(),!(!n||e[n]&&KM[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},rx=Symbol("internals");function Sc(t){return t&&String(t).trim().toLowerCase()}function ah(t){return t===!1||t==null?t:ee.isArray(t)?t.map(ah):String(t)}function GM(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const JM=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Sm(t,e,n,r,o){if(ee.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!ee.isString(e)){if(ee.isString(r))return e.indexOf(r)!==-1;if(ee.isRegExp(r))return r.test(e)}}function YM(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function XM(t,e){const n=ee.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,l,c){return this[r].call(this,e,o,l,c)},configurable:!0})})}let Pn=class{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function l(d,f,p){const y=Sc(f);if(!y)throw new Error("header name must be a non-empty string");const _=ee.findKey(o,y);(!_||o[_]===void 0||p===!0||p===void 0&&o[_]!==!1)&&(o[_||f]=ah(d))}const c=(d,f)=>ee.forEach(d,(p,y)=>l(p,y,f));if(ee.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(ee.isString(e)&&(e=e.trim())&&!JM(e))c(ZM(e),n);else if(ee.isObject(e)&&ee.isIterable(e)){let d={},f,p;for(const y of e){if(!ee.isArray(y))throw TypeError("Object iterator must return a key-value pair");d[p=y[0]]=(f=d[p])?ee.isArray(f)?[...f,y[1]]:[f,y[1]]:y[1]}c(d,n)}else e!=null&&l(n,e,r);return this}get(e,n){if(e=Sc(e),e){const r=ee.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return GM(o);if(ee.isFunction(n))return n.call(this,o,r);if(ee.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Sc(e),e){const r=ee.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Sm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function l(c){if(c=Sc(c),c){const d=ee.findKey(r,c);d&&(!n||Sm(r,r[d],d,n))&&(delete r[d],o=!0)}}return ee.isArray(e)?e.forEach(l):l(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const l=n[r];(!e||Sm(this,this[l],l,e,!0))&&(delete this[l],o=!0)}return o}normalize(e){const n=this,r={};return ee.forEach(this,(o,l)=>{const c=ee.findKey(r,l);if(c){n[c]=ah(o),delete n[l];return}const d=e?YM(l):String(l).trim();d!==l&&delete n[l],n[d]=ah(o),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ee.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&ee.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[rx]=this[rx]={accessors:{}}).accessors,o=this.prototype;function l(c){const d=Sc(c);r[d]||(XM(o,c),r[d]=!0)}return ee.isArray(e)?e.forEach(l):l(e),this}};Pn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(Pn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ee.freezeMethods(Pn);function Em(t,e){const n=this||hu,r=e||n,o=Pn.from(r.headers);let l=r.data;return ee.forEach(t,function(d){l=d.call(n,l,o.normalize(),e?e.status:void 0)}),o.normalize(),l}function oT(t){return!!(t&&t.__CANCEL__)}let fu=class extends Me{constructor(e,n,r){super(e??"canceled",Me.ERR_CANCELED,n,r),this.name="CanceledError",this.__CANCEL__=!0}};function aT(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Me("Request failed with status code "+n.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function QM(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function eB(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,l=0,c;return e=e!==void 0?e:1e3,function(f){const p=Date.now(),y=r[l];c||(c=p),n[o]=f,r[o]=p;let _=l,b=0;for(;_!==o;)b+=n[_++],_=_%t;if(o=(o+1)%t,o===l&&(l=(l+1)%t),p-c<e)return;const P=y&&p-y;return P?Math.round(b*1e3/P):void 0}}function tB(t,e){let n=0,r=1e3/e,o,l;const c=(p,y=Date.now())=>{n=y,o=null,l&&(clearTimeout(l),l=null),t(...p)};return[(...p)=>{const y=Date.now(),_=y-n;_>=r?c(p,y):(o=p,l||(l=setTimeout(()=>{l=null,c(o)},r-_)))},()=>o&&c(o)]}const Ph=(t,e,n=3)=>{let r=0;const o=eB(50,250);return tB(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,f=c-r,p=o(f),y=c<=d;r=c;const _={loaded:c,total:d,progress:d?c/d:void 0,bytes:f,rate:p||void 0,estimated:p&&d&&y?(d-c)/p:void 0,event:l,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(_)},n)},ix=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},sx=t=>(...e)=>ee.asap(()=>t(...e)),nB=an.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,an.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(an.origin),an.navigator&&/(msie|trident)/i.test(an.navigator.userAgent)):()=>!0,rB=an.hasStandardBrowserEnv?{write(t,e,n,r,o,l,c){if(typeof document>"u")return;const d=[`${t}=${encodeURIComponent(e)}`];ee.isNumber(n)&&d.push(`expires=${new Date(n).toUTCString()}`),ee.isString(r)&&d.push(`path=${r}`),ee.isString(o)&&d.push(`domain=${o}`),l===!0&&d.push("secure"),ee.isString(c)&&d.push(`SameSite=${c}`),document.cookie=d.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function iB(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function sB(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function lT(t,e,n){let r=!iB(e);return t&&(r||n==!1)?sB(t,e):e}const ox=t=>t instanceof Pn?{...t}:t;function ko(t,e){e=e||{};const n={};function r(p,y,_,b){return ee.isPlainObject(p)&&ee.isPlainObject(y)?ee.merge.call({caseless:b},p,y):ee.isPlainObject(y)?ee.merge({},y):ee.isArray(y)?y.slice():y}function o(p,y,_,b){if(ee.isUndefined(y)){if(!ee.isUndefined(p))return r(void 0,p,_,b)}else return r(p,y,_,b)}function l(p,y){if(!ee.isUndefined(y))return r(void 0,y)}function c(p,y){if(ee.isUndefined(y)){if(!ee.isUndefined(p))return r(void 0,p)}else return r(void 0,y)}function d(p,y,_){if(_ in e)return r(p,y);if(_ in t)return r(void 0,p)}const f={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(p,y,_)=>o(ox(p),ox(y),_,!0)};return ee.forEach(Object.keys({...t,...e}),function(y){const _=f[y]||o,b=_(t[y],e[y],y);ee.isUndefined(b)&&_!==d||(n[y]=b)}),n}const cT=t=>{const e=ko({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:l,headers:c,auth:d}=e;if(e.headers=c=Pn.from(c),e.url=rT(lT(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),ee.isFormData(n)){if(an.hasStandardBrowserEnv||an.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(ee.isFunction(n.getHeaders)){const f=n.getHeaders(),p=["content-type","content-length"];Object.entries(f).forEach(([y,_])=>{p.includes(y.toLowerCase())&&c.set(y,_)})}}if(an.hasStandardBrowserEnv&&(r&&ee.isFunction(r)&&(r=r(e)),r||r!==!1&&nB(e.url))){const f=o&&l&&rB.read(l);f&&c.set(o,f)}return e},oB=typeof XMLHttpRequest<"u",aB=oB&&function(t){return new Promise(function(n,r){const o=cT(t);let l=o.data;const c=Pn.from(o.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:p}=o,y,_,b,P,k;function T(){P&&P(),k&&k(),o.cancelToken&&o.cancelToken.unsubscribe(y),o.signal&&o.signal.removeEventListener("abort",y)}let C=new XMLHttpRequest;C.open(o.method.toUpperCase(),o.url,!0),C.timeout=o.timeout;function A(){if(!C)return;const O=Pn.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),z={data:!d||d==="text"||d==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:O,config:t,request:C};aT(function(H){n(H),T()},function(H){r(H),T()},z),C=null}"onloadend"in C?C.onloadend=A:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(A)},C.onabort=function(){C&&(r(new Me("Request aborted",Me.ECONNABORTED,t,C)),C=null)},C.onerror=function(D){const z=D&&D.message?D.message:"Network Error",W=new Me(z,Me.ERR_NETWORK,t,C);W.event=D||null,r(W),C=null},C.ontimeout=function(){let D=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const z=o.transitional||iT;o.timeoutErrorMessage&&(D=o.timeoutErrorMessage),r(new Me(D,z.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,t,C)),C=null},l===void 0&&c.setContentType(null),"setRequestHeader"in C&&ee.forEach(c.toJSON(),function(D,z){C.setRequestHeader(z,D)}),ee.isUndefined(o.withCredentials)||(C.withCredentials=!!o.withCredentials),d&&d!=="json"&&(C.responseType=o.responseType),p&&([b,k]=Ph(p,!0),C.addEventListener("progress",b)),f&&C.upload&&([_,P]=Ph(f),C.upload.addEventListener("progress",_),C.upload.addEventListener("loadend",P)),(o.cancelToken||o.signal)&&(y=O=>{C&&(r(!O||O.type?new fu(null,t,C):O),C.abort(),C=null)},o.cancelToken&&o.cancelToken.subscribe(y),o.signal&&(o.signal.aborted?y():o.signal.addEventListener("abort",y)));const j=QM(o.url);if(j&&an.protocols.indexOf(j)===-1){r(new Me("Unsupported protocol "+j+":",Me.ERR_BAD_REQUEST,t));return}C.send(l||null)})},lB=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,o;const l=function(p){if(!o){o=!0,d();const y=p instanceof Error?p:this.reason;r.abort(y instanceof Me?y:new fu(y instanceof Error?y.message:y))}};let c=e&&setTimeout(()=>{c=null,l(new Me(`timeout of ${e}ms exceeded`,Me.ETIMEDOUT))},e);const d=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(l):p.removeEventListener("abort",l)}),t=null)};t.forEach(p=>p.addEventListener("abort",l));const{signal:f}=r;return f.unsubscribe=()=>ee.asap(d),f}},cB=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,o;for(;r<n;)o=r+e,yield t.slice(r,o),r=o},uB=async function*(t,e){for await(const n of dB(t))yield*cB(n,e)},dB=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},ax=(t,e,n,r)=>{const o=uB(t,e);let l=0,c,d=f=>{c||(c=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:p,value:y}=await o.next();if(p){d(),f.close();return}let _=y.byteLength;if(n){let b=l+=_;n(b)}f.enqueue(new Uint8Array(y))}catch(p){throw d(p),p}},cancel(f){return d(f),o.return()}},{highWaterMark:2})},lx=64*1024,{isFunction:Yd}=ee,hB=(({Request:t,Response:e})=>({Request:t,Response:e}))(ee.global),{ReadableStream:cx,TextEncoder:ux}=ee.global,dx=(t,...e)=>{try{return!!t(...e)}catch{return!1}},fB=t=>{t=ee.merge.call({skipUndefined:!0},hB,t);const{fetch:e,Request:n,Response:r}=t,o=e?Yd(e):typeof fetch=="function",l=Yd(n),c=Yd(r);if(!o)return!1;const d=o&&Yd(cx),f=o&&(typeof ux=="function"?(k=>T=>k.encode(T))(new ux):async k=>new Uint8Array(await new n(k).arrayBuffer())),p=l&&d&&dx(()=>{let k=!1;const T=new n(an.origin,{body:new cx,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!T}),y=c&&d&&dx(()=>ee.isReadableStream(new r("").body)),_={stream:y&&(k=>k.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!_[k]&&(_[k]=(T,C)=>{let A=T&&T[k];if(A)return A.call(T);throw new Me(`Response type '${k}' is not supported`,Me.ERR_NOT_SUPPORT,C)})});const b=async k=>{if(k==null)return 0;if(ee.isBlob(k))return k.size;if(ee.isSpecCompliantForm(k))return(await new n(an.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(k)||ee.isArrayBuffer(k))return k.byteLength;if(ee.isURLSearchParams(k)&&(k=k+""),ee.isString(k))return(await f(k)).byteLength},P=async(k,T)=>{const C=ee.toFiniteNumber(k.getContentLength());return C??b(T)};return async k=>{let{url:T,method:C,data:A,signal:j,cancelToken:O,timeout:D,onDownloadProgress:z,onUploadProgress:W,responseType:H,headers:X,withCredentials:ue="same-origin",fetchOptions:ye}=cT(k),pe=e||fetch;H=H?(H+"").toLowerCase():"text";let le=lB([j,O&&O.toAbortSignal()],D),be=null;const G=le&&le.unsubscribe&&(()=>{le.unsubscribe()});let se;try{if(W&&p&&C!=="get"&&C!=="head"&&(se=await P(X,A))!==0){let B=new n(T,{method:"POST",body:A,duplex:"half"}),Q;if(ee.isFormData(A)&&(Q=B.headers.get("content-type"))&&X.setContentType(Q),B.body){const[_e,me]=ix(se,Ph(sx(W)));A=ax(B.body,lx,_e,me)}}ee.isString(ue)||(ue=ue?"include":"omit");const ne=l&&"credentials"in n.prototype,oe={...ye,signal:le,method:C.toUpperCase(),headers:X.normalize().toJSON(),body:A,duplex:"half",credentials:ne?ue:void 0};be=l&&new n(T,oe);let V=await(l?pe(be,ye):pe(T,oe));const ce=y&&(H==="stream"||H==="response");if(y&&(z||ce&&G)){const B={};["status","statusText","headers"].forEach(he=>{B[he]=V[he]});const Q=ee.toFiniteNumber(V.headers.get("content-length")),[_e,me]=z&&ix(Q,Ph(sx(z),!0))||[];V=new r(ax(V.body,lx,_e,()=>{me&&me(),G&&G()}),B)}H=H||"text";let te=await _[ee.findKey(_,H)||"text"](V,k);return!ce&&G&&G(),await new Promise((B,Q)=>{aT(B,Q,{data:te,headers:Pn.from(V.headers),status:V.status,statusText:V.statusText,config:k,request:be})})}catch(ne){throw G&&G(),ne&&ne.name==="TypeError"&&/Load failed|fetch/i.test(ne.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,k,be),{cause:ne.cause||ne}):Me.from(ne,ne&&ne.code,k,be)}}},pB=new Map,uT=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:o}=e,l=[r,o,n];let c=l.length,d=c,f,p,y=pB;for(;d--;)f=l[d],p=y.get(f),p===void 0&&y.set(f,p=d?new Map:fB(e)),y=p;return p};uT();const Iv={http:NM,xhr:aB,fetch:{get:uT}};ee.forEach(Iv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const hx=t=>`- ${t}`,mB=t=>ee.isFunction(t)||t===null||t===!1;function gB(t,e){t=ee.isArray(t)?t:[t];const{length:n}=t;let r,o;const l={};for(let c=0;c<n;c++){r=t[c];let d;if(o=r,!mB(r)&&(o=Iv[(d=String(r)).toLowerCase()],o===void 0))throw new Me(`Unknown adapter '${d}'`);if(o&&(ee.isFunction(o)||(o=o.get(e))))break;l[d||"#"+c]=o}if(!o){const c=Object.entries(l).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let d=n?c.length>1?`since :
`+c.map(hx).join(`
`):" "+hx(c[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o}const dT={getAdapter:gB,adapters:Iv};function Tm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new fu(null,t)}function fx(t){return Tm(t),t.headers=Pn.from(t.headers),t.data=Em.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),dT.getAdapter(t.adapter||hu.adapter,t)(t).then(function(r){return Tm(t),r.data=Em.call(t,t.transformResponse,r),r.headers=Pn.from(r.headers),r},function(r){return oT(r)||(Tm(t),r&&r.response&&(r.response.data=Em.call(t,t.transformResponse,r.response),r.response.headers=Pn.from(r.response.headers))),Promise.reject(r)})}const hT="1.13.4",sf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{sf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const px={};sf.transitional=function(e,n,r){function o(l,c){return"[Axios v"+hT+"] Transitional option '"+l+"'"+c+(r?". "+r:"")}return(l,c,d)=>{if(e===!1)throw new Me(o(c," has been removed"+(n?" in "+n:"")),Me.ERR_DEPRECATED);return n&&!px[c]&&(px[c]=!0,console.warn(o(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,c,d):!0}};sf.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function vB(t,e,n){if(typeof t!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const l=r[o],c=e[l];if(c){const d=t[l],f=d===void 0||c(d,l,t);if(f!==!0)throw new Me("option "+l+" must be "+f,Me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Me("Unknown option "+l,Me.ERR_BAD_OPTION)}}const lh={assertOptions:vB,validators:sf},Kr=lh.validators;let Po=class{constructor(e){this.defaults=e||{},this.interceptors={request:new nx,response:new nx}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ko(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:l}=n;r!==void 0&&lh.assertOptions(r,{silentJSONParsing:Kr.transitional(Kr.boolean),forcedJSONParsing:Kr.transitional(Kr.boolean),clarifyTimeoutError:Kr.transitional(Kr.boolean)},!1),o!=null&&(ee.isFunction(o)?n.paramsSerializer={serialize:o}:lh.assertOptions(o,{encode:Kr.function,serialize:Kr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),lh.assertOptions(n,{baseUrl:Kr.spelling("baseURL"),withXsrfToken:Kr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=l&&ee.merge(l.common,l[n.method]);l&&ee.forEach(["delete","get","head","post","put","patch","common"],k=>{delete l[k]}),n.headers=Pn.concat(c,l);const d=[];let f=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(f=f&&T.synchronous,d.unshift(T.fulfilled,T.rejected))});const p=[];this.interceptors.response.forEach(function(T){p.push(T.fulfilled,T.rejected)});let y,_=0,b;if(!f){const k=[fx.bind(this),void 0];for(k.unshift(...d),k.push(...p),b=k.length,y=Promise.resolve(n);_<b;)y=y.then(k[_++],k[_++]);return y}b=d.length;let P=n;for(;_<b;){const k=d[_++],T=d[_++];try{P=k(P)}catch(C){T.call(this,C);break}}try{y=fx.call(this,P)}catch(k){return Promise.reject(k)}for(_=0,b=p.length;_<b;)y=y.then(p[_++],p[_++]);return y}getUri(e){e=ko(this.defaults,e);const n=lT(e.baseURL,e.url,e.allowAbsoluteUrls);return rT(n,e.params,e.paramsSerializer)}};ee.forEach(["delete","get","head","options"],function(e){Po.prototype[e]=function(n,r){return this.request(ko(r||{},{method:e,url:n,data:(r||{}).data}))}});ee.forEach(["post","put","patch"],function(e){function n(r){return function(l,c,d){return this.request(ko(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Po.prototype[e]=n(),Po.prototype[e+"Form"]=n(!0)});let yB=class fT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const r=this;this.promise.then(o=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](o);r._listeners=null}),this.promise.then=o=>{let l;const c=new Promise(d=>{r.subscribe(d),l=d}).then(o);return c.cancel=function(){r.unsubscribe(l)},c},e(function(l,c,d){r.reason||(r.reason=new fu(l,c,d),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new fT(function(o){e=o}),cancel:e}}};function _B(t){return function(n){return t.apply(null,n)}}function wB(t){return ee.isObject(t)&&t.isAxiosError===!0}const xg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(xg).forEach(([t,e])=>{xg[e]=t});function pT(t){const e=new Po(t),n=qE(Po.prototype.request,e);return ee.extend(n,Po.prototype,e,{allOwnKeys:!0}),ee.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return pT(ko(t,o))},n}const Nt=pT(hu);Nt.Axios=Po;Nt.CanceledError=fu;Nt.CancelToken=yB;Nt.isCancel=oT;Nt.VERSION=hT;Nt.toFormData=rf;Nt.AxiosError=Me;Nt.Cancel=Nt.CanceledError;Nt.all=function(e){return Promise.all(e)};Nt.spread=_B;Nt.isAxiosError=wB;Nt.mergeConfig=ko;Nt.AxiosHeaders=Pn;Nt.formToJSON=t=>sT(ee.isHTMLForm(t)?new FormData(t):t);Nt.getAdapter=dT.getAdapter;Nt.HttpStatusCode=xg;Nt.default=Nt;const{Axios:WU,AxiosError:HU,CanceledError:qU,isCancel:KU,CancelToken:ZU,VERSION:GU,all:JU,Cancel:YU,isAxiosError:XU,spread:QU,toFormData:eV,AxiosHeaders:tV,HttpStatusCode:nV,formToJSON:rV,getAdapter:iV,mergeConfig:sV}=Nt,xB="http://localhost:8000",Dv=Nt.create({baseURL:xB,timeout:12e4,headers:{"Content-Type":"application/json"}});async function bB(t,e=0){return(await Dv.post("/api/v1/classify-issue",{description:t,evidence_count:e})).data}async function SB(t,e,n=null){const r=new FormData;return r.append("image",t),e&&r.append("claim_text",e),n&&r.append("incident_date",n),(await Dv.post("/api/v1/validate-evidence",r,{headers:{"Content-Type":"multipart/form-data"}})).data}async function mT({issueId:t,tenantComplaint:e,landlordResponse:n=null,incidentDate:r=null,tenantEvidence:o=[],landlordEvidence:l=[],propertyHistory:c={previous_complaints:0,resolution_rate:0}}){return(await Dv.post("/api/v1/analyze-case",{issue_id:t,tenant_complaint:e,landlord_response:n,incident_date:r,tenant_evidence:o,landlord_evidence:l,property_history:c})).data}const vl=S.forwardRef(({className:t,error:e,...n},r)=>v.jsx("textarea",{className:it("flex min-h-[80px] w-full rounded-lg border bg-gray-800/50 px-3 py-2 text-sm text-gray-100 ring-offset-gray-900 placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none transition-all",e?"border-red-500 focus-visible:ring-red-500":"border-gray-600 focus-visible:ring-cyan-500 hover:border-gray-500",t),ref:r,...n}));vl.displayName="Textarea";function EB(t,e=[]){let n=[];function r(l,c){const d=S.createContext(c);d.displayName=l+"Context";const f=n.length;n=[...n,c];const p=_=>{var A;const{scope:b,children:P,...k}=_,T=((A=b==null?void 0:b[t])==null?void 0:A[f])||d,C=S.useMemo(()=>k,Object.values(k));return v.jsx(T.Provider,{value:C,children:P})};p.displayName=l+"Provider";function y(_,b){var T;const P=((T=b==null?void 0:b[t])==null?void 0:T[f])||d,k=S.useContext(P);if(k)return k;if(c!==void 0)return c;throw new Error(`\`${_}\` must be used within \`${l}\``)}return[p,y]}const o=()=>{const l=n.map(c=>S.createContext(c));return function(d){const f=(d==null?void 0:d[t])||l;return S.useMemo(()=>({[`__scope${t}`]:{...d,[t]:f}}),[d,f])}};return o.scopeName=t,[r,TB(o,...e)]}function TB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=r.reduce((d,{useScope:f,scopeName:p})=>{const _=f(l)[`__scope${p}`];return{...d,..._}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}var PB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gT=PB.reduce((t,e)=>{const n=Pv(`Primitive.${e}`),r=S.forwardRef((o,l)=>{const{asChild:c,...d}=o,f=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(f,{...d,ref:l})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Mv="Progress",Bv=100,[CB]=EB(Mv),[kB,RB]=CB(Mv),vT=S.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:o,getValueLabel:l=AB,...c}=t;(o||o===0)&&!mx(o)&&console.error(NB(`${o}`,"Progress"));const d=mx(o)?o:Bv;r!==null&&!gx(r,d)&&console.error(OB(`${r}`,"Progress"));const f=gx(r,d)?r:null,p=Ch(f)?l(f,d):void 0;return v.jsx(kB,{scope:n,value:f,max:d,children:v.jsx(gT.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Ch(f)?f:void 0,"aria-valuetext":p,role:"progressbar","data-state":wT(f,d),"data-value":f??void 0,"data-max":d,...c,ref:e})})});vT.displayName=Mv;var yT="ProgressIndicator",_T=S.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,o=RB(yT,n);return v.jsx(gT.div,{"data-state":wT(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:e})});_T.displayName=yT;function AB(t,e){return`${Math.round(t/e*100)}%`}function wT(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Ch(t){return typeof t=="number"}function mx(t){return Ch(t)&&!isNaN(t)&&t>0}function gx(t,e){return Ch(t)&&!isNaN(t)&&t<=e&&t>=0}function NB(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Bv}\`.`}function OB(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Bv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var xT=vT,jB=_T;const Fv=S.forwardRef(({className:t,value:e,...n},r)=>v.jsx(xT,{ref:r,className:it("relative h-4 w-full overflow-hidden rounded-full bg-gray-700",t),...n,children:v.jsx(jB,{className:"h-full w-full flex-1 bg-gradient-to-r from-cyan-500 to-blue-600 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Fv.displayName=xT.displayName;const vx=[{id:1,title:"Property Details"},{id:2,title:"Issue Details"},{id:3,title:"Evidence Upload"},{id:4,title:"Processing"}];function LB(){const t=Qc(),{user:e}=lr(),{toast:n}=Io(),{createIssue:r,updateIssueStatus:o}=Yc(),{uploadMultipleEvidence:l}=HE(),{findLandlordByEmail:c,upsertProperty:d,getPropertyWithHistory:f}=H2(),[p,y]=S.useState(1),[_,b]=S.useState(!1),[P,k]=S.useState(0),[T,C]=S.useState(""),[A,j]=S.useState({propertyAddress:"",area:"",city:"",landlordEmail:"",title:"",description:"",category:"",incidentDate:""}),[O,D]=S.useState([]),[z,W]=S.useState({}),H=(G,se)=>{j(ne=>({...ne,[G]:se})),z[G]&&W(ne=>({...ne,[G]:null}))},X=G=>{const ne=Array.from(G.target.files).filter(oe=>oe.type.startsWith("image/")?oe.size>10*1024*1024?(n.error("File too large",`${oe.name} exceeds 10MB limit`),!1):!0:(n.error("Invalid file",`${oe.name} is not an image`),!1));D(oe=>[...oe,...ne])},ue=G=>{D(se=>se.filter((ne,oe)=>oe!==G))},ye=G=>{const se={};return G===1&&(A.propertyAddress||(se.propertyAddress="Address is required"),A.area||(se.area="Area is required"),A.city||(se.city="City is required"),A.landlordEmail?/\S+@\S+\.\S+/.test(A.landlordEmail)||(se.landlordEmail="Invalid email format"):se.landlordEmail="Landlord email is required"),G===2&&(A.title||(se.title="Title is required"),A.description||(se.description="Description is required"),A.description&&A.description.length<50&&(se.description="Description must be at least 50 characters")),W(se),Object.keys(se).length===0},pe=()=>{ye(p)&&y(G=>G+1)},le=()=>{y(G=>G-1)},be=async()=>{if(O.length===0){n.error("Evidence Required","Please upload at least one image as evidence");return}b(!0),y(4);try{C("Finding landlord..."),k(10);const{data:G,error:se}=await c(A.landlordEmail);if(se||!G)throw new Error((se==null?void 0:se.message)||"Landlord not found with this email");C("Creating property record..."),k(20);const{data:ne,error:oe}=await d({address:A.propertyAddress,area:A.area,city:A.city});if(oe)throw oe;C("Creating issue..."),k(30);const{data:V,error:ce}=await r({tenant_id:e.id,landlord_id:G.id,property_id:ne.id,title:A.title,description:A.description,category:A.category||null,incident_date:A.incidentDate||null,status:"REPORTED"});if(ce)throw ce;C("Uploading evidence..."),k(40);const{data:te,errors:B}=await l(O,V.id,e.id,"tenant_evidence");B.length>0&&console.warn("Some evidence failed to upload:",B),C("AI: Classifying issue..."),k(50);let Q=null;try{Q=await bB(A.description,O.length),Q!=null&&Q.primary_category&&await Ke.from("issues").update({category:Q.primary_category}).eq("id",V.id)}catch(he){console.error("Classification failed:",he)}C("AI: Validating evidence..."),k(60);const _e=[];for(let he=0;he<O.length;he++){try{const ve=await SB(O[he],A.description,A.incidentDate||null);_e.push({file_name:O[he].name,validation:ve})}catch(ve){console.error(`Validation failed for ${O[he].name}:`,ve),_e.push({file_name:O[he].name,validation:{error:ve.message}})}k(60+(he+1)/O.length*15)}C("AI: Analyzing case..."),k(80);let me=null;try{const{data:he}=await f(ne.id);me=await mT({issueId:V.id,tenantComplaint:A.description,landlordResponse:null,incidentDate:A.incidentDate||null,tenantEvidence:_e,landlordEvidence:[],propertyHistory:(he==null?void 0:he.history)||{previous_complaints:0,resolution_rate:0}})}catch(he){console.error("Case analysis failed:",he)}if(C("Storing AI verdict..."),k(90),me)try{await Ke.from("ai_verdicts").insert({issue_id:V.id,classification:Q,evidence_validation:_e,case_analysis:me,recommendation:me.recommendation||null,confidence_score:me.confidence||null})}catch(he){console.error("Failed to store verdict:",he)}C("Finalizing..."),k(100),await o(V.id,"AWAITING_LANDLORD_RESPONSE"),n.success("Issue Reported!","Your issue has been submitted and is awaiting landlord response"),t(`/issue/${V.id}`)}catch(G){console.error("Report issue error:",G),n.error("Error",G.message||"Failed to report issue"),y(3)}finally{b(!1)}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4 md:p-8",children:v.jsxs("div",{className:"max-w-2xl mx-auto",children:[v.jsxs("div",{className:"mb-8",children:[v.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-gray-400 hover:text-white mb-4 transition-colors",children:[v.jsx(Lb,{className:"w-4 h-4"}),"Back"]}),v.jsx("h1",{className:"text-3xl font-bold text-white",children:"Report an Issue"}),v.jsx("p",{className:"text-gray-400 mt-1",children:"Document your housing issue for fair resolution"})]}),v.jsx("div",{className:"flex items-center justify-between mb-8",children:vx.map((G,se)=>v.jsxs(Sn.Fragment,{children:[v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium transition-all ${p>=G.id?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-700 text-gray-400"}`,children:p>G.id?v.jsx(ar,{className:"w-5 h-5"}):G.id}),v.jsx("span",{className:"text-xs text-gray-400 mt-2 hidden md:block",children:G.title})]}),se<vx.length-1&&v.jsx("div",{className:`flex-1 h-0.5 mx-2 ${p>G.id?"bg-cyan-500":"bg-gray-700"}`})]},G.id))}),v.jsx(Qe,{className:"bg-gray-800/50 border-gray-700",children:v.jsxs(et,{className:"p-6",children:[p===1&&v.jsxs(ki.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(on,{htmlFor:"propertyAddress",children:"Property Address *"}),v.jsxs("div",{className:"relative",children:[v.jsx(YN,{className:"absolute left-3 top-3 w-4 h-4 text-gray-500"}),v.jsx(zn,{id:"propertyAddress",placeholder:"123 Main Street, Apt 4B",value:A.propertyAddress,onChange:G=>H("propertyAddress",G.target.value),error:z.propertyAddress,className:"pl-10"})]}),z.propertyAddress&&v.jsx("p",{className:"text-sm text-red-400",children:z.propertyAddress})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(on,{htmlFor:"area",children:"Area *"}),v.jsx(zn,{id:"area",placeholder:"Downtown",value:A.area,onChange:G=>H("area",G.target.value),error:z.area}),z.area&&v.jsx("p",{className:"text-sm text-red-400",children:z.area})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(on,{htmlFor:"city",children:"City *"}),v.jsx(zn,{id:"city",placeholder:"New York",value:A.city,onChange:G=>H("city",G.target.value),error:z.city}),z.city&&v.jsx("p",{className:"text-sm text-red-400",children:z.city})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(on,{htmlFor:"landlordEmail",children:"Landlord Email *"}),v.jsxs("div",{className:"relative",children:[v.jsx(qg,{className:"absolute left-3 top-3 w-4 h-4 text-gray-500"}),v.jsx(zn,{id:"landlordEmail",type:"email",placeholder:"landlord@example.com",value:A.landlordEmail,onChange:G=>H("landlordEmail",G.target.value),error:z.landlordEmail,className:"pl-10"})]}),z.landlordEmail&&v.jsx("p",{className:"text-sm text-red-400",children:z.landlordEmail})]})]}),p===2&&v.jsxs(ki.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(on,{htmlFor:"title",children:"Issue Title *"}),v.jsx(zn,{id:"title",placeholder:"e.g., Water leak in bathroom ceiling",value:A.title,onChange:G=>H("title",G.target.value),error:z.title}),z.title&&v.jsx("p",{className:"text-sm text-red-400",children:z.title})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(on,{htmlFor:"description",children:"Detailed Description *"}),v.jsx(vl,{id:"description",placeholder:"Describe the issue in detail. Include when it started, how it affects you, and any previous communication with your landlord...",value:A.description,onChange:G=>H("description",G.target.value),error:z.description,className:"min-h-[150px]"}),v.jsxs("p",{className:"text-xs text-gray-500",children:[A.description.length,"/50 characters minimum"]}),z.description&&v.jsx("p",{className:"text-sm text-red-400",children:z.description})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(on,{htmlFor:"incidentDate",children:"When did this issue start? (Optional)"}),v.jsx(zn,{id:"incidentDate",type:"date",value:A.incidentDate,onChange:G=>H("incidentDate",G.target.value)})]})]}),p===3&&v.jsxs(ki.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx(on,{children:"Upload Evidence Photos *"}),v.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Upload clear photos showing the issue. Images will be verified by AI."})]}),v.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-600 rounded-lg cursor-pointer hover:border-cyan-500 transition-colors bg-gray-800/30",children:[v.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[v.jsx(Fb,{className:"w-8 h-8 text-gray-400 mb-2"}),v.jsxs("p",{className:"text-sm text-gray-400",children:[v.jsx("span",{className:"font-semibold text-cyan-400",children:"Click to upload"})," or drag and drop"]}),v.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 10MB"})]}),v.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:X})]}),O.length>0&&v.jsx("div",{className:"grid grid-cols-3 gap-3",children:O.map((G,se)=>v.jsxs("div",{className:"relative group",children:[v.jsx("img",{src:URL.createObjectURL(G),alt:`Evidence ${se+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-700"}),v.jsx("button",{type:"button",onClick:()=>ue(se),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:v.jsx(qh,{className:"w-4 h-4 text-white"})})]},se))}),O.length===0&&v.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[v.jsx($N,{className:"w-5 h-5 text-amber-400 flex-shrink-0"}),v.jsx("p",{className:"text-sm text-amber-300",children:"At least one photo is required as evidence"})]})]}),p===4&&v.jsxs(ki.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6 py-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsx(JN,{className:"w-12 h-12 text-cyan-400 animate-spin mx-auto mb-4"}),v.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Processing Your Report"}),v.jsx("p",{className:"text-gray-400",children:T})]}),v.jsx(Fv,{value:P,className:"w-full"}),v.jsx("div",{className:"text-center text-sm text-gray-500",children:"Please wait while we verify your evidence and analyze your case..."})]}),p<4&&v.jsxs("div",{className:"flex justify-between mt-8 pt-4 border-t border-gray-700",children:[p>1?v.jsx(lt,{variant:"outline",onClick:le,children:"Back"}):v.jsx("div",{}),p<3?v.jsx(lt,{onClick:pe,children:"Continue"}):v.jsx(lt,{onClick:be,disabled:O.length===0,children:"Submit Report"})]})]})})]})})}function IB(){const[t,e]=S.useState(!1),[n,r]=S.useState(null),o=S.useCallback(async(c,d,f)=>{try{e(!0),r(null);const{data:p,error:y}=await Ke.from("landlord_responses").insert({issue_id:c,landlord_id:d,response_text:f}).select().single();if(y)throw y;return{data:p,error:null}}catch(p){return console.error("Error submitting response:",p),r(p.message),{data:null,error:p}}finally{e(!1)}},[]),l=S.useCallback(async c=>{try{const{data:d,error:f}=await Ke.from("landlord_responses").select("*").eq("issue_id",c).order("created_at",{ascending:!0});if(f)throw f;return{data:d,error:null}}catch(d){return console.error("Error fetching responses:",d),{data:null,error:d}}},[]);return{loading:t,error:n,submitResponse:o,getResponses:l}}function DB(){const[t,e]=S.useState(!1),[n,r]=S.useState(null),o=S.useCallback(async(l,c,d,f="")=>{try{e(!0),r(null);const{data:p,error:y}=await Ke.from("resolution_followups").insert({issue_id:l,tenant_id:c,complied:d,notes:f}).select().single();if(y)throw y;const _=d?"RESOLVED":"ESCALATED_TO_ADMIN",{error:b}=await Ke.from("issues").update({status:_,updated_at:new Date().toISOString()}).eq("id",l);if(b)throw b;return{data:p,error:null}}catch(p){return console.error("Error submitting followup:",p),r(p.message),{data:null,error:p}}finally{e(!1)}},[]);return{loading:t,error:n,submitFollowup:o}}var Pm="focusScope.autoFocusOnMount",Cm="focusScope.autoFocusOnUnmount",yx={bubbles:!1,cancelable:!0},MB="FocusScope",zv=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=t,[d,f]=S.useState(null),p=or(o),y=or(l),_=S.useRef(null),b=vt(e,T=>f(T)),P=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let T=function(O){if(P.paused||!d)return;const D=O.target;d.contains(D)?_.current=D:bs(_.current,{select:!0})},C=function(O){if(P.paused||!d)return;const D=O.relatedTarget;D!==null&&(d.contains(D)||bs(_.current,{select:!0}))},A=function(O){if(document.activeElement===document.body)for(const z of O)z.removedNodes.length>0&&bs(d)};document.addEventListener("focusin",T),document.addEventListener("focusout",C);const j=new MutationObserver(A);return d&&j.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",C),j.disconnect()}}},[r,d,P.paused]),S.useEffect(()=>{if(d){wx.add(P);const T=document.activeElement;if(!d.contains(T)){const A=new CustomEvent(Pm,yx);d.addEventListener(Pm,p),d.dispatchEvent(A),A.defaultPrevented||(BB($B(bT(d)),{select:!0}),document.activeElement===T&&bs(d))}return()=>{d.removeEventListener(Pm,p),setTimeout(()=>{const A=new CustomEvent(Cm,yx);d.addEventListener(Cm,y),d.dispatchEvent(A),A.defaultPrevented||bs(T??document.body,{select:!0}),d.removeEventListener(Cm,y),wx.remove(P)},0)}}},[d,p,y,P]);const k=S.useCallback(T=>{if(!n&&!r||P.paused)return;const C=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,A=document.activeElement;if(C&&A){const j=T.currentTarget,[O,D]=FB(j);O&&D?!T.shiftKey&&A===D?(T.preventDefault(),n&&bs(O,{select:!0})):T.shiftKey&&A===O&&(T.preventDefault(),n&&bs(D,{select:!0})):A===j&&T.preventDefault()}},[n,r,P.paused]);return v.jsx(Ze.div,{tabIndex:-1,...c,ref:b,onKeyDown:k})});zv.displayName=MB;function BB(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(bs(r,{select:e}),document.activeElement!==n)return}function FB(t){const e=bT(t),n=_x(e,t),r=_x(e.reverse(),t);return[n,r]}function bT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function _x(t,e){for(const n of t)if(!zB(n,{upTo:e}))return n}function zB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function UB(t){return t instanceof HTMLInputElement&&"select"in t}function bs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&UB(t)&&e&&t.select()}}var wx=VB();function VB(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=xx(t,e),t.unshift(e)},remove(e){var n;t=xx(t,e),(n=t[0])==null||n.resume()}}}function xx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function $B(t){return t.filter(e=>e.tagName!=="A")}var km=0;function ST(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??bx()),document.body.insertAdjacentElement("beforeend",t[1]??bx()),km++,()=>{km===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),km--}},[])}function bx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ch="right-scroll-bar-position",uh="width-before-scroll-bar",WB="with-scroll-bars-hidden",HB="--removed-body-scroll-bar-size";function Rm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function qB(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=e,n.facade}var KB=typeof window<"u"?S.useLayoutEffect:S.useEffect,Sx=new WeakMap;function ZB(t,e){var n=qB(null,function(r){return t.forEach(function(o){return Rm(o,r)})});return KB(function(){var r=Sx.get(n);if(r){var o=new Set(r),l=new Set(t),c=n.current;o.forEach(function(d){l.has(d)||Rm(d,null)}),l.forEach(function(d){o.has(d)||Rm(d,c)})}Sx.set(n,t)},[t]),n}function GB(t){return t}function JB(t,e){e===void 0&&(e=GB);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var c=e(l,r);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(r=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){r=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(l),c=n}var f=function(){var y=c;c=[],y.forEach(l)},p=function(){return Promise.resolve().then(f)};p(),n={push:function(y){c.push(y),p()},filter:function(y){return c=c.filter(y),n}}}};return o}function YB(t){t===void 0&&(t={});var e=JB(null);return e.options=Zr({async:!0,ssr:!1},t),e}var ET=function(t){var e=t.sideCar,n=ll(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Zr({},n))};ET.isSideCarExport=!0;function XB(t,e){return t.useMedium(e),ET}var TT=YB(),Am=function(){},of=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:Am,onWheelCapture:Am,onTouchMoveCapture:Am}),o=r[0],l=r[1],c=t.forwardProps,d=t.children,f=t.className,p=t.removeScrollBar,y=t.enabled,_=t.shards,b=t.sideCar,P=t.noRelative,k=t.noIsolation,T=t.inert,C=t.allowPinchZoom,A=t.as,j=A===void 0?"div":A,O=t.gapMode,D=ll(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=b,W=ZB([n,e]),H=Zr(Zr({},D),o);return S.createElement(S.Fragment,null,y&&S.createElement(z,{sideCar:TT,removeScrollBar:p,shards:_,noRelative:P,noIsolation:k,inert:T,setCallbacks:l,allowPinchZoom:!!C,lockRef:n,gapMode:O}),c?S.cloneElement(S.Children.only(d),Zr(Zr({},H),{ref:W})):S.createElement(j,Zr({},H,{className:f,ref:W}),d))});of.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};of.classNames={fullWidth:uh,zeroRight:ch};var QB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=QB();return e&&t.setAttribute("nonce",e),t}function tF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function nF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var rF=function(){var t=0,e=null;return{add:function(n){t==0&&(e=eF())&&(tF(e,n),nF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},iF=function(){var t=rF();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},PT=function(){var t=iF(),e=function(n){var r=n.styles,o=n.dynamic;return t(r,o),null};return e},sF={left:0,top:0,right:0,gap:0},Nm=function(t){return parseInt(t||"",10)||0},oF=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[Nm(n),Nm(r),Nm(o)]},aF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sF;var e=oF(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},lF=PT(),Ja="data-scroll-locked",cF=function(t,e,n,r){var o=t.left,l=t.top,c=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(WB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(Ja,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ch,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(uh,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(ch," .").concat(ch,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(uh," .").concat(uh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ja,`] {
    `).concat(HB,": ").concat(d,`px;
  }
`)},Ex=function(){var t=parseInt(document.body.getAttribute(Ja)||"0",10);return isFinite(t)?t:0},uF=function(){S.useEffect(function(){return document.body.setAttribute(Ja,(Ex()+1).toString()),function(){var t=Ex()-1;t<=0?document.body.removeAttribute(Ja):document.body.setAttribute(Ja,t.toString())}},[])},dF=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,o=r===void 0?"margin":r;uF();var l=S.useMemo(function(){return aF(o)},[o]);return S.createElement(lF,{styles:cF(l,!e,o,n?"":"!important")})},bg=!1;if(typeof window<"u")try{var Xd=Object.defineProperty({},"passive",{get:function(){return bg=!0,!0}});window.addEventListener("test",Xd,Xd),window.removeEventListener("test",Xd,Xd)}catch{bg=!1}var Ia=bg?{passive:!1}:!1,hF=function(t){return t.tagName==="TEXTAREA"},CT=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!hF(t)&&n[e]==="visible")},fF=function(t){return CT(t,"overflowY")},pF=function(t){return CT(t,"overflowX")},Tx=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=kT(t,r);if(o){var l=RT(t,r),c=l[1],d=l[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},mF=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},gF=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},kT=function(t,e){return t==="v"?fF(e):pF(e)},RT=function(t,e){return t==="v"?mF(e):gF(e)},vF=function(t,e){return t==="h"&&e==="rtl"?-1:1},yF=function(t,e,n,r,o){var l=vF(t,window.getComputedStyle(e).direction),c=l*r,d=n.target,f=e.contains(d),p=!1,y=c>0,_=0,b=0;do{if(!d)break;var P=RT(t,d),k=P[0],T=P[1],C=P[2],A=T-C-l*k;(k||A)&&kT(t,d)&&(_+=A,b+=k);var j=d.parentNode;d=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!f&&d!==document.body||f&&(e.contains(d)||e===d));return(y&&Math.abs(_)<1||!y&&Math.abs(b)<1)&&(p=!0),p},Qd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Px=function(t){return[t.deltaX,t.deltaY]},Cx=function(t){return t&&"current"in t?t.current:t},_F=function(t,e){return t[0]===e[0]&&t[1]===e[1]},wF=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},xF=0,Da=[];function bF(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),o=S.useState(xF++)[0],l=S.useState(PT)[0],c=S.useRef(t);S.useEffect(function(){c.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var T=ok([t.lockRef.current],(t.shards||[]).map(Cx),!0).filter(Boolean);return T.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),T.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var d=S.useCallback(function(T,C){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!c.current.allowPinchZoom;var A=Qd(T),j=n.current,O="deltaX"in T?T.deltaX:j[0]-A[0],D="deltaY"in T?T.deltaY:j[1]-A[1],z,W=T.target,H=Math.abs(O)>Math.abs(D)?"h":"v";if("touches"in T&&H==="h"&&W.type==="range")return!1;var X=window.getSelection(),ue=X&&X.anchorNode,ye=ue?ue===W||ue.contains(W):!1;if(ye)return!1;var pe=Tx(H,W);if(!pe)return!0;if(pe?z=H:(z=H==="v"?"h":"v",pe=Tx(H,W)),!pe)return!1;if(!r.current&&"changedTouches"in T&&(O||D)&&(r.current=z),!z)return!0;var le=r.current||z;return yF(le,C,T,le==="h"?O:D)},[]),f=S.useCallback(function(T){var C=T;if(!(!Da.length||Da[Da.length-1]!==l)){var A="deltaY"in C?Px(C):Qd(C),j=e.current.filter(function(z){return z.name===C.type&&(z.target===C.target||C.target===z.shadowParent)&&_F(z.delta,A)})[0];if(j&&j.should){C.cancelable&&C.preventDefault();return}if(!j){var O=(c.current.shards||[]).map(Cx).filter(Boolean).filter(function(z){return z.contains(C.target)}),D=O.length>0?d(C,O[0]):!c.current.noIsolation;D&&C.cancelable&&C.preventDefault()}}},[]),p=S.useCallback(function(T,C,A,j){var O={name:T,delta:C,target:A,should:j,shadowParent:SF(A)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function(D){return D!==O})},1)},[]),y=S.useCallback(function(T){n.current=Qd(T),r.current=void 0},[]),_=S.useCallback(function(T){p(T.type,Px(T),T.target,d(T,t.lockRef.current))},[]),b=S.useCallback(function(T){p(T.type,Qd(T),T.target,d(T,t.lockRef.current))},[]);S.useEffect(function(){return Da.push(l),t.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Ia),document.addEventListener("touchmove",f,Ia),document.addEventListener("touchstart",y,Ia),function(){Da=Da.filter(function(T){return T!==l}),document.removeEventListener("wheel",f,Ia),document.removeEventListener("touchmove",f,Ia),document.removeEventListener("touchstart",y,Ia)}},[]);var P=t.removeScrollBar,k=t.inert;return S.createElement(S.Fragment,null,k?S.createElement(l,{styles:wF(o)}):null,P?S.createElement(dF,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function SF(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const EF=XB(TT,bF);var Uv=S.forwardRef(function(t,e){return S.createElement(of,Zr({},t,{ref:e,sideCar:EF}))});Uv.classNames=of.classNames;var TF=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ma=new WeakMap,eh=new WeakMap,th={},Om=0,AT=function(t){return t&&(t.host||AT(t.parentNode))},PF=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=AT(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},CF=function(t,e,n,r){var o=PF(e,Array.isArray(t)?t:[t]);th[n]||(th[n]=new WeakMap);var l=th[n],c=[],d=new Set,f=new Set(o),p=function(_){!_||d.has(_)||(d.add(_),p(_.parentNode))};o.forEach(p);var y=function(_){!_||f.has(_)||Array.prototype.forEach.call(_.children,function(b){if(d.has(b))y(b);else try{var P=b.getAttribute(r),k=P!==null&&P!=="false",T=(Ma.get(b)||0)+1,C=(l.get(b)||0)+1;Ma.set(b,T),l.set(b,C),c.push(b),T===1&&k&&eh.set(b,!0),C===1&&b.setAttribute(n,"true"),k||b.setAttribute(r,"true")}catch(A){console.error("aria-hidden: cannot operate on ",b,A)}})};return y(e),d.clear(),Om++,function(){c.forEach(function(_){var b=Ma.get(_)-1,P=l.get(_)-1;Ma.set(_,b),l.set(_,P),b||(eh.has(_)||_.removeAttribute(r),eh.delete(_)),P||_.removeAttribute(n)}),Om--,Om||(Ma=new WeakMap,Ma=new WeakMap,eh=new WeakMap,th={})}},NT=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),o=TF(t);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),CF(r,o,n,"aria-hidden")):function(){return null}};function kF(t){const e=RF(t),n=S.forwardRef((r,o)=>{const{children:l,...c}=r,d=S.Children.toArray(l),f=d.find(NF);if(f){const p=f.props.children,y=d.map(_=>_===f?S.Children.count(p)>1?S.Children.only(null):S.isValidElement(p)?p.props.children:null:_);return v.jsx(e,{...c,ref:o,children:S.isValidElement(p)?S.cloneElement(p,void 0,y):null})}return v.jsx(e,{...c,ref:o,children:l})});return n.displayName=`${t}.Slot`,n}function RF(t){const e=S.forwardRef((n,r)=>{const{children:o,...l}=n;if(S.isValidElement(o)){const c=jF(o),d=OF(l,o.props);return o.type!==S.Fragment&&(d.ref=r?ul(r,c):c),S.cloneElement(o,d)}return S.Children.count(o)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var AF=Symbol("radix.slottable");function NF(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===AF}function OF(t,e){const n={...e};for(const r in e){const o=t[r],l=e[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...t,...n}}function jF(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var af="Dialog",[OT]=Lo(af),[LF,Or]=OT(af),jT=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:o,onOpenChange:l,modal:c=!0}=t,d=S.useRef(null),f=S.useRef(null),[p,y]=Qa({prop:r,defaultProp:o??!1,onChange:l,caller:af});return v.jsx(LF,{scope:e,triggerRef:d,contentRef:f,contentId:Cs(),titleId:Cs(),descriptionId:Cs(),open:p,onOpenChange:y,onOpenToggle:S.useCallback(()=>y(_=>!_),[y]),modal:c,children:n})};jT.displayName=af;var LT="DialogTrigger",IF=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=Or(LT,n),l=vt(e,o.triggerRef);return v.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Wv(o.open),...r,ref:l,onClick:$e(t.onClick,o.onOpenToggle)})});IF.displayName=LT;var Vv="DialogPortal",[DF,IT]=OT(Vv,{forceMount:void 0}),DT=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:o}=t,l=Or(Vv,e);return v.jsx(DF,{scope:e,forceMount:n,children:S.Children.map(r,c=>v.jsx(dl,{present:n||l.open,children:v.jsx(zh,{asChild:!0,container:o,children:c})}))})};DT.displayName=Vv;var kh="DialogOverlay",MT=S.forwardRef((t,e)=>{const n=IT(kh,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,l=Or(kh,t.__scopeDialog);return l.modal?v.jsx(dl,{present:r||l.open,children:v.jsx(BF,{...o,ref:e})}):null});MT.displayName=kh;var MF=kF("DialogOverlay.RemoveScroll"),BF=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=Or(kh,n);return v.jsx(Uv,{as:MF,allowPinchZoom:!0,shards:[o.contentRef],children:v.jsx(Ze.div,{"data-state":Wv(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ro="DialogContent",BT=S.forwardRef((t,e)=>{const n=IT(Ro,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,l=Or(Ro,t.__scopeDialog);return v.jsx(dl,{present:r||l.open,children:l.modal?v.jsx(FF,{...o,ref:e}):v.jsx(zF,{...o,ref:e})})});BT.displayName=Ro;var FF=S.forwardRef((t,e)=>{const n=Or(Ro,t.__scopeDialog),r=S.useRef(null),o=vt(e,n.contentRef,r);return S.useEffect(()=>{const l=r.current;if(l)return NT(l)},[]),v.jsx(FT,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(t.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:$e(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:$e(t.onFocusOutside,l=>l.preventDefault())})}),zF=S.forwardRef((t,e)=>{const n=Or(Ro,t.__scopeDialog),r=S.useRef(!1),o=S.useRef(!1);return v.jsx(FT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,l),l.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),l.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:l=>{var f,p;(f=t.onInteractOutside)==null||f.call(t,l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;((p=n.triggerRef.current)==null?void 0:p.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),FT=S.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:l,...c}=t,d=Or(Ro,n),f=S.useRef(null),p=vt(e,f);return ST(),v.jsxs(v.Fragment,{children:[v.jsx(zv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:l,children:v.jsx(Fh,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Wv(d.open),...c,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(UF,{titleId:d.titleId}),v.jsx($F,{contentRef:f,descriptionId:d.descriptionId})]})]})}),$v="DialogTitle",zT=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=Or($v,n);return v.jsx(Ze.h2,{id:o.titleId,...r,ref:e})});zT.displayName=$v;var UT="DialogDescription",VT=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=Or(UT,n);return v.jsx(Ze.p,{id:o.descriptionId,...r,ref:e})});VT.displayName=UT;var $T="DialogClose",WT=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=Or($T,n);return v.jsx(Ze.button,{type:"button",...r,ref:e,onClick:$e(t.onClick,()=>o.onOpenChange(!1))})});WT.displayName=$T;function Wv(t){return t?"open":"closed"}var HT="DialogTitleWarning",[oV,qT]=zA(HT,{contentName:Ro,titleName:$v,docsSlug:"dialog"}),UF=({titleId:t})=>{const e=qT(HT),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},VF="DialogDescriptionWarning",$F=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qT(VF).contentName}}.`;return S.useEffect(()=>{var l;const o=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},WF=jT,HF=DT,KT=MT,ZT=BT,GT=zT,JT=VT,qF=WT;const lf=WF,KF=HF,YT=S.forwardRef(({className:t,...e},n)=>v.jsx(KT,{ref:n,className:it("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));YT.displayName=KT.displayName;const pu=S.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(KF,{children:[v.jsx(YT,{}),v.jsxs(ZT,{ref:r,className:it("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-gray-700 bg-gray-800 p-6 shadow-2xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-xl",t),...n,children:[e,v.jsxs(qF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-gray-900 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-700 data-[state=open]:text-gray-400",children:[v.jsx(qh,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));pu.displayName=ZT.displayName;const cf=({className:t,...e})=>v.jsx("div",{className:it("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});cf.displayName="DialogHeader";const uf=({className:t,...e})=>v.jsx("div",{className:it("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});uf.displayName="DialogFooter";const df=S.forwardRef(({className:t,...e},n)=>v.jsx(GT,{ref:n,className:it("text-lg font-semibold leading-none tracking-tight text-white",t),...e}));df.displayName=GT.displayName;const hf=S.forwardRef(({className:t,...e},n)=>v.jsx(JT,{ref:n,className:it("text-sm text-gray-400",t),...e}));hf.displayName=JT.displayName;const kx={REPORTED:{label:"Reported",variant:"reported",color:"text-blue-400"},AWAITING_LANDLORD_RESPONSE:{label:"Awaiting Landlord Response",variant:"awaiting",color:"text-yellow-400"},DAO_REVIEW:{label:"DAO Review",variant:"dao_review",color:"text-purple-400"},DAO_VERDICT:{label:"DAO Verdict",variant:"dao_verdict",color:"text-indigo-400"},RESOLVED:{label:"Resolved",variant:"success",color:"text-green-400"},ESCALATED_TO_ADMIN:{label:"Escalated to Admin",variant:"escalated",color:"text-red-400"}};function Ec({icon:t,title:e,description:n,time:r,color:o="text-cyan-400"}){return v.jsxs("div",{className:"flex gap-4",children:[v.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center ${o}`,children:v.jsx(t,{className:"w-5 h-5"})}),v.jsxs("div",{className:"flex-1 pb-6 border-l border-gray-700 pl-4 -ml-5 ml-5",children:[v.jsx("h4",{className:"font-medium text-white",children:e}),v.jsx("p",{className:"text-sm text-gray-400 mt-1",children:n}),v.jsx("span",{className:"text-xs text-gray-500 mt-2 block",children:r})]})]})}function Rx({evidence:t,title:e}){const[n,r]=S.useState(null);return!t||t.length===0?null:v.jsxs("div",{className:"space-y-3",children:[v.jsxs("h4",{className:"font-medium text-white flex items-center gap-2",children:[v.jsx(ZN,{className:"w-4 h-4"}),e]}),v.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-2",children:t.map(o=>v.jsx("button",{onClick:()=>r(o.file_url),className:"aspect-square rounded-lg overflow-hidden border border-gray-700 hover:border-cyan-500 transition-colors",children:v.jsx("img",{src:o.file_url,alt:o.file_name||"Evidence",className:"w-full h-full object-cover"})},o.id))}),v.jsx(lf,{open:!!n,onOpenChange:()=>r(null),children:v.jsx(pu,{className:"max-w-3xl",children:v.jsx("img",{src:n,alt:"Evidence",className:"w-full h-auto rounded-lg"})})})]})}function ZF({issue:t,onSuccess:e}){const{user:n}=lr(),{toast:r}=Io(),{submitResponse:o}=IB(),{uploadMultipleEvidence:l}=HE(),[c,d]=S.useState(""),[f,p]=S.useState([]),[y,_]=S.useState(!1),b=k=>{const T=Array.from(k.target.files);p(C=>[...C,...T.filter(A=>A.type.startsWith("image/"))])},P=async()=>{var k;if(!c.trim()){r.error("Error","Please enter a response");return}_(!0);try{const{error:T}=await o(t.id,n.id,c);if(T)throw T;f.length>0&&await l(f,t.id,n.id,"landlord_evidence");try{const C=((k=t.evidence)==null?void 0:k.filter(A=>A.evidence_type==="tenant_evidence"))||[];await mT({issueId:t.id,tenantComplaint:t.description,landlordResponse:c,incidentDate:t.incident_date,tenantEvidence:C.map(A=>({file_url:A.file_url})),landlordEvidence:f.map(A=>({file_name:A.name})),propertyHistory:{previous_complaints:0,resolution_rate:0}})}catch(C){console.error("Analysis failed:",C)}await Ke.from("issues").update({status:"DAO_REVIEW",updated_at:new Date().toISOString()}).eq("id",t.id),r.success("Response Submitted","Your response has been recorded"),e==null||e()}catch(T){r.error("Error",T.message||"Failed to submit response")}finally{_(!1)}};return v.jsxs(Qe,{className:"bg-gray-800/50 border-amber-500/30",children:[v.jsxs(pn,{children:[v.jsxs(En,{className:"text-lg flex items-center gap-2",children:[v.jsx(vh,{className:"w-5 h-5 text-amber-400"}),"Your Response Required"]}),v.jsx(Is,{children:"Review the tenant's complaint and provide your response"})]}),v.jsxs(et,{className:"space-y-4",children:[v.jsx(vl,{placeholder:"Provide your response to this issue...",value:c,onChange:k=>d(k.target.value),className:"min-h-[120px]"}),v.jsxs("div",{children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-400 cursor-pointer hover:text-white transition-colors",children:[v.jsx(Fb,{className:"w-4 h-4"}),"Upload counter evidence (optional)",v.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:b})]}),f.length>0&&v.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:f.map((k,T)=>v.jsxs("div",{className:"relative",children:[v.jsx("img",{src:URL.createObjectURL(k),alt:`Evidence ${T+1}`,className:"w-16 h-16 object-cover rounded border border-gray-700"}),v.jsx("button",{onClick:()=>p(C=>C.filter((A,j)=>j!==T)),className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:v.jsx(qh,{className:"w-3 h-3"})})]},T))})]}),v.jsxs(lt,{onClick:P,loading:y,className:"w-full",children:[v.jsx(QN,{className:"w-4 h-4 mr-2"}),"Submit Response"]})]})]})}function GF({issue:t,onSuccess:e}){const{user:n}=lr(),{toast:r}=Io(),{submitFollowup:o,loading:l}=DB(),[c,d]=S.useState(""),[f,p]=S.useState(!1),[y,_]=S.useState(null),b=async()=>{try{const{error:P}=await o(t.id,n.id,y==="complied",c);if(P)throw P;r.success(y==="complied"?"Issue Resolved!":"Escalated to Admin",y==="complied"?"Thank you for confirming resolution":"An admin will review your case"),p(!1),e==null||e()}catch(P){r.error("Error",P.message)}};return v.jsxs(Qe,{className:"bg-gray-800/50 border-green-500/30",children:[v.jsxs(pn,{children:[v.jsxs(En,{className:"text-lg flex items-center gap-2",children:[v.jsx(ar,{className:"w-5 h-5 text-green-400"}),"Resolution Follow-up"]}),v.jsx(Is,{children:"The DAO has reached a verdict. Did your landlord comply with the resolution?"})]}),v.jsxs(et,{className:"space-y-4",children:[v.jsx(vl,{placeholder:"Add any notes about the resolution (optional)...",value:c,onChange:P=>d(P.target.value),className:"min-h-[80px]"}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs(lt,{variant:"success",onClick:()=>{_("complied"),p(!0)},children:[v.jsx(ar,{className:"w-4 h-4 mr-2"}),"Yes, Resolved"]}),v.jsxs(lt,{variant:"destructive",onClick:()=>{_("not_complied"),p(!0)},children:[v.jsx(js,{className:"w-4 h-4 mr-2"}),"No, Escalate"]})]}),v.jsx(lf,{open:f,onOpenChange:p,children:v.jsxs(pu,{children:[v.jsxs(cf,{children:[v.jsx(df,{children:y==="complied"?"Confirm Resolution":"Confirm Escalation"}),v.jsx(hf,{children:y==="complied"?"This will mark the issue as resolved.":"This will escalate the case to an admin for further review."})]}),v.jsxs(uf,{children:[v.jsx(lt,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),v.jsx(lt,{variant:y==="complied"?"success":"destructive",onClick:b,loading:l,children:"Confirm"})]})]})})]})]})}function JF(){var T,C,A,j,O,D,z,W,H,X,ue,ye,pe,le,be,G;const{id:t}=O1(),e=Qc(),{user:n,role:r}=lr(),{issue:o,loading:l,error:c,refetch:d}=b2(t);if(l)return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:v.jsx(ml,{size:"lg"})});if(c||!o)return v.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-900 text-white",children:[v.jsx(js,{className:"w-12 h-12 text-red-400 mb-4"}),v.jsx("h2",{className:"text-xl font-semibold",children:"Issue not found"}),v.jsx("p",{className:"text-gray-400 mt-2",children:c||"The issue you are looking for does not exist."}),v.jsx(lt,{onClick:()=>e("/dashboard"),className:"mt-4",children:"Back to Dashboard"})]});const f=kx[o.status]||kx.REPORTED,p=(n==null?void 0:n.id)===o.landlord_id,y=(n==null?void 0:n.id)===o.tenant_id,_=p&&o.status==="AWAITING_LANDLORD_RESPONSE",b=y&&o.status==="DAO_VERDICT",P=((T=o.evidence)==null?void 0:T.filter(se=>se.evidence_type==="tenant_evidence"))||[],k=((C=o.evidence)==null?void 0:C.filter(se=>se.evidence_type==="landlord_evidence"))||[];return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4 md:p-8",children:v.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[v.jsxs("div",{children:[v.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-gray-400 hover:text-white mb-4 transition-colors",children:[v.jsx(Lb,{className:"w-4 h-4"}),"Back"]}),v.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:o.title||"Issue Details"}),v.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[v.jsx(Ri,{variant:f.variant,children:f.label}),o.category&&v.jsx(Ri,{variant:"outline",children:o.category})]})]}),v.jsxs("div",{className:"text-sm text-gray-400",children:[v.jsxs("p",{children:["Created: ",new Date(o.created_at).toLocaleDateString()]}),v.jsxs("p",{children:["ID: ",o.id.slice(0,8),"..."]})]})]})]}),_&&v.jsx(ZF,{issue:o,onSuccess:d}),b&&v.jsx(GF,{issue:o,onSuccess:d}),v.jsxs(Nv,{defaultValue:"details",className:"space-y-4",children:[v.jsxs(Qh,{children:[v.jsx(kr,{value:"details",children:"Details"}),v.jsxs(kr,{value:"evidence",children:["Evidence (",((A=o.evidence)==null?void 0:A.length)||0,")"]}),v.jsx(kr,{value:"timeline",children:"Timeline"}),((j=o.ai_verdicts)==null?void 0:j.length)>0&&v.jsx(kr,{value:"ai",children:"AI Analysis"})]}),v.jsx(Ka,{value:"details",children:v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[v.jsxs(Qe,{className:"bg-gray-800/50",children:[v.jsx(pn,{children:v.jsxs(En,{className:"flex items-center gap-2",children:[v.jsx(Co,{className:"w-5 h-5"}),"Description"]})}),v.jsx(et,{children:v.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:o.description})})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs(Qe,{className:"bg-gray-800/50",children:[v.jsx(pn,{className:"pb-2",children:v.jsxs(En,{className:"text-base flex items-center gap-2",children:[v.jsx(nu,{className:"w-4 h-4"}),"Property"]})}),v.jsxs(et,{children:[v.jsx("p",{className:"text-white",children:(O=o.property)==null?void 0:O.address}),v.jsxs("p",{className:"text-sm text-gray-400",children:[(D=o.property)==null?void 0:D.area,", ",(z=o.property)==null?void 0:z.city]})]})]}),v.jsxs(Qe,{className:"bg-gray-800/50",children:[v.jsx(pn,{className:"pb-2",children:v.jsxs(En,{className:"text-base flex items-center gap-2",children:[v.jsx(ru,{className:"w-4 h-4"}),"Parties"]})}),v.jsxs(et,{className:"space-y-2",children:[v.jsxs("div",{children:[v.jsx("span",{className:"text-gray-400 text-sm",children:"Tenant:"}),v.jsx("p",{className:"text-white",children:((W=o.tenant)==null?void 0:W.full_name)||((H=o.tenant)==null?void 0:H.email)})]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-gray-400 text-sm",children:"Landlord:"}),v.jsx("p",{className:"text-white",children:((X=o.landlord)==null?void 0:X.full_name)||((ue=o.landlord)==null?void 0:ue.email)})]})]})]}),((ye=o.landlord_responses)==null?void 0:ye.length)>0&&v.jsxs(Qe,{className:"bg-gray-800/50",children:[v.jsx(pn,{className:"pb-2",children:v.jsxs(En,{className:"text-base flex items-center gap-2",children:[v.jsx(vh,{className:"w-4 h-4"}),"Landlord Response"]})}),v.jsx(et,{children:o.landlord_responses.map(se=>v.jsxs("div",{className:"text-gray-300",children:[v.jsx("p",{className:"whitespace-pre-wrap",children:se.response_text}),v.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(se.created_at).toLocaleString()})]},se.id))})]})]})]})}),v.jsx(Ka,{value:"evidence",children:v.jsx(Qe,{className:"bg-gray-800/50",children:v.jsxs(et,{className:"p-6 space-y-6",children:[v.jsx(Rx,{evidence:P,title:"Tenant Evidence"}),v.jsx(Rx,{evidence:k,title:"Landlord Evidence"}),!P.length&&!k.length&&v.jsx("p",{className:"text-gray-400 text-center py-8",children:"No evidence uploaded yet"})]})})}),v.jsx(Ka,{value:"timeline",children:v.jsx(Qe,{className:"bg-gray-800/50",children:v.jsxs(et,{className:"p-6",children:[v.jsx(Ec,{icon:Co,title:"Issue Reported",description:`${((pe=o.tenant)==null?void 0:pe.full_name)||"Tenant"} reported the issue`,time:new Date(o.created_at).toLocaleString(),color:"text-blue-400"}),((le=o.landlord_responses)==null?void 0:le.length)>0&&v.jsx(Ec,{icon:vh,title:"Landlord Responded",description:"Landlord submitted their response",time:new Date(o.landlord_responses[0].created_at).toLocaleString(),color:"text-yellow-400"}),o.status==="DAO_REVIEW"&&v.jsx(Ec,{icon:Hh,title:"Under DAO Review",description:`${((be=o.dao_votes)==null?void 0:be.length)||0} votes cast`,time:"In progress",color:"text-purple-400"}),o.status==="DAO_VERDICT"&&v.jsx(Ec,{icon:Wh,title:"DAO Verdict Reached",description:"Awaiting tenant confirmation",time:"Pending",color:"text-indigo-400"}),o.status==="RESOLVED"&&v.jsx(Ec,{icon:ar,title:"Issue Resolved",description:"The issue has been marked as resolved",time:o.updated_at?new Date(o.updated_at).toLocaleString():"",color:"text-green-400"})]})})}),((G=o.ai_verdicts)==null?void 0:G.length)>0&&v.jsx(Ka,{value:"ai",children:v.jsxs(Qe,{className:"bg-gray-800/50",children:[v.jsxs(pn,{children:[v.jsxs(En,{className:"flex items-center gap-2",children:[v.jsx(WN,{className:"w-5 h-5 text-cyan-400"}),"AI Analysis"]}),v.jsx(Is,{children:"Automated analysis of the case for DAO reference"})]}),v.jsx(et,{children:o.ai_verdicts.map((se,ne)=>{var oe;return v.jsxs("div",{className:"space-y-4",children:[se.classification&&v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-white mb-2",children:"Classification"}),v.jsxs("div",{className:"flex gap-2 flex-wrap",children:[v.jsx(Ri,{variant:"default",children:se.classification.primary_category}),v.jsxs(Ri,{variant:se.classification.urgency_flag?"warning":"secondary",children:[se.classification.severity," severity"]})]})]}),((oe=se.case_analysis)==null?void 0:oe.recommendation)&&v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-white mb-2",children:"Recommendation"}),v.jsx("p",{className:"text-gray-300",children:se.case_analysis.recommendation})]}),se.confidence_score&&v.jsx("div",{children:v.jsxs("span",{className:"text-sm text-gray-400",children:["Confidence: ",Math.round(se.confidence_score*100),"%"]})})]},ne)})})]})})]})]})})}const Ax=10;function YF(){const{user:t}=lr(),[e,n]=S.useState(!1),[r,o]=S.useState(null),l=S.useCallback(async p=>{try{const{data:y,error:_}=await Ke.from("dao_votes").select("id").eq("issue_id",p).eq("voter_id",t==null?void 0:t.id).single();if(_&&_.code!=="PGRST116")throw _;return!!y}catch(y){return console.error("Error checking vote status:",y),!1}},[t]),c=S.useCallback(async p=>{try{const{count:y,error:_}=await Ke.from("dao_votes").select("*",{count:"exact",head:!0}).eq("issue_id",p);if(_)throw _;return y||0}catch(y){return console.error("Error getting vote count:",y),0}},[]),d=S.useCallback(async p=>{try{const{data:y,error:_}=await Ke.from("dao_votes").select("vote").eq("issue_id",p);if(_)throw _;return{total:y.length,favor_tenant:y.filter(P=>P.vote==="favor_tenant").length,favor_landlord:y.filter(P=>P.vote==="favor_landlord").length,abstain:y.filter(P=>P.vote==="abstain").length}}catch(y){return console.error("Error getting vote summary:",y),{total:0,favor_tenant:0,favor_landlord:0,abstain:0}}},[]),f=S.useCallback(async(p,y,_="")=>{try{if(n(!0),o(null),await l(p))throw new Error("You have already voted on this issue");const{data:P,error:k}=await Ke.from("dao_votes").insert({issue_id:p,voter_id:t.id,vote:y,reasoning:_}).select().single();if(k)throw k;if(await c(p)>=Ax){const{error:C}=await Ke.from("issues").update({status:"DAO_VERDICT",updated_at:new Date().toISOString()}).eq("id",p);C&&console.error("Error updating issue status:",C)}return{data:P,error:null}}catch(b){return console.error("Error casting vote:",b),o(b.message),{data:null,error:b}}finally{n(!1)}},[t,l,c]);return{loading:e,error:r,hasVoted:l,getVoteCount:c,getVoteSummary:d,castVote:f,VOTE_THRESHOLD:Ax}}function XF({issue:t,onVoteSuccess:e}){var W,H;const{user:n}=lr(),{toast:r}=Io(),{castVote:o,hasVoted:l,getVoteSummary:c,VOTE_THRESHOLD:d}=YF(),[f,p]=S.useState(!1),[y,_]=S.useState({total:0,favor_tenant:0,favor_landlord:0}),[b,P]=S.useState(!1),[k,T]=S.useState(null),[C,A]=S.useState(""),[j,O]=S.useState(!1);S.useEffect(()=>{async function X(){const ue=await l(t.id);if(p(ue),ue){const ye=await c(t.id);_(ye)}}X()},[t.id,l,c]);const D=async()=>{if(k){O(!0);try{const{error:X}=await o(t.id,k,C);if(X)throw X;r.success("Vote Cast!","Your vote has been recorded"),P(!1),p(!0);const ue=await c(t.id);_(ue),e==null||e()}catch(X){r.error("Error",X.message)}finally{O(!1)}}},z=y.total/d*100;return v.jsxs(ki.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[v.jsx(Qe,{className:"bg-gray-800/50 hover:bg-gray-800/70 transition-colors",children:v.jsxs(et,{className:"p-5",children:[v.jsxs("div",{className:"flex items-start justify-between gap-4",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx(Qr,{to:`/issue/${t.id}`,className:"font-semibold text-white hover:text-cyan-400 transition-colors block truncate",children:t.title||"Untitled Issue"}),v.jsx("p",{className:"text-sm text-gray-400 mt-1 line-clamp-2",children:t.description}),v.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-500",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(nu,{className:"w-4 h-4"}),((W=t.property)==null?void 0:W.city)||"Unknown"]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(ru,{className:"w-4 h-4"}),"vs ",((H=t.landlord)==null?void 0:H.full_name)||"Landlord"]})]}),v.jsxs("div",{className:"mt-4 space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between text-sm",children:[v.jsxs("span",{className:"text-gray-400",children:["Votes: ",y.total,"/",d]}),y.total>=d&&v.jsx(Ri,{variant:"success",children:"Threshold Reached"})]}),v.jsx(Fv,{value:z,className:"h-2"})]})]}),v.jsx("div",{className:"flex-shrink-0",children:f?v.jsxs("div",{className:"flex flex-col items-center gap-2",children:[v.jsx(ar,{className:"w-8 h-8 text-green-400"}),v.jsx("span",{className:"text-xs text-green-400",children:"Voted"})]}):v.jsxs(lt,{onClick:()=>P(!0),size:"sm",children:[v.jsx(Hh,{className:"w-4 h-4 mr-2"}),"Cast Vote"]})})]}),f&&y.total>0&&v.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700 flex items-center gap-4 text-sm",children:[v.jsxs("div",{className:"flex items-center gap-1 text-green-400",children:[v.jsx(O0,{className:"w-4 h-4"}),v.jsxs("span",{children:[y.favor_tenant," Tenant"]})]}),v.jsxs("div",{className:"flex items-center gap-1 text-red-400",children:[v.jsx(N0,{className:"w-4 h-4"}),v.jsxs("span",{children:[y.favor_landlord," Landlord"]})]}),v.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[v.jsx(R0,{className:"w-4 h-4"}),v.jsxs("span",{children:[y.abstain," Abstain"]})]})]})]})}),v.jsx(lf,{open:b,onOpenChange:P,children:v.jsxs(pu,{className:"max-w-lg",children:[v.jsxs(cf,{children:[v.jsxs(df,{className:"flex items-center gap-2",children:[v.jsx(Qm,{className:"w-5 h-5 text-cyan-400"}),"Cast Your Vote"]}),v.jsx(hf,{children:"Review the case and cast your vote. Your decision helps resolve disputes fairly."})]}),v.jsxs("div",{className:"space-y-4 py-4",children:[v.jsxs("div",{className:"p-4 rounded-lg bg-gray-700/50",children:[v.jsx("h4",{className:"font-medium text-white mb-2",children:t.title}),v.jsx("p",{className:"text-sm text-gray-400 line-clamp-3",children:t.description}),v.jsxs(Qr,{to:`/issue/${t.id}`,target:"_blank",className:"text-sm text-cyan-400 hover:text-cyan-300 mt-2 inline-flex items-center gap-1",children:["View full details",v.jsx(Vh,{className:"w-3 h-3"})]})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[v.jsxs("button",{onClick:()=>T("favor_tenant"),className:`p-4 rounded-lg border transition-all ${k==="favor_tenant"?"border-green-500 bg-green-500/10":"border-gray-600 hover:border-gray-500"}`,children:[v.jsx(O0,{className:`w-6 h-6 mx-auto mb-2 ${k==="favor_tenant"?"text-green-400":"text-gray-400"}`}),v.jsx("span",{className:`text-sm font-medium ${k==="favor_tenant"?"text-green-400":"text-gray-300"}`,children:"Favor Tenant"})]}),v.jsxs("button",{onClick:()=>T("favor_landlord"),className:`p-4 rounded-lg border transition-all ${k==="favor_landlord"?"border-red-500 bg-red-500/10":"border-gray-600 hover:border-gray-500"}`,children:[v.jsx(N0,{className:`w-6 h-6 mx-auto mb-2 ${k==="favor_landlord"?"text-red-400":"text-gray-400"}`}),v.jsx("span",{className:`text-sm font-medium ${k==="favor_landlord"?"text-red-400":"text-gray-300"}`,children:"Favor Landlord"})]}),v.jsxs("button",{onClick:()=>T("abstain"),className:`p-4 rounded-lg border transition-all ${k==="abstain"?"border-gray-400 bg-gray-500/10":"border-gray-600 hover:border-gray-500"}`,children:[v.jsx(R0,{className:`w-6 h-6 mx-auto mb-2 ${k==="abstain"?"text-gray-300":"text-gray-400"}`}),v.jsx("span",{className:`text-sm font-medium ${k==="abstain"?"text-gray-300":"text-gray-400"}`,children:"Abstain"})]})]}),v.jsx(vl,{placeholder:"Add your reasoning (optional)...",value:C,onChange:X=>A(X.target.value),className:"min-h-[80px]"}),v.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-gray-700/30 text-sm text-gray-400",children:[v.jsx(Mb,{className:"w-4 h-4 flex-shrink-0"}),v.jsx("span",{children:"Your vote is private. Other jurors cannot see individual votes until the case is closed."})]})]}),v.jsxs(uf,{children:[v.jsx(lt,{variant:"outline",onClick:()=>P(!1),children:"Cancel"}),v.jsx(lt,{onClick:D,disabled:!k,loading:j,children:"Submit Vote"})]})]})})]})}function QF(){const{issues:t,loading:e,error:n,fetchIssues:r}=Yc({status:"DAO_REVIEW"});return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4 md:p-8",children:v.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[v.jsx(Qm,{className:"w-8 h-8 text-purple-400"}),"DAO Voting Panel"]}),v.jsx("p",{className:"text-gray-400 mt-1",children:"Review cases and cast your vote to help resolve disputes"})]}),v.jsxs(lt,{variant:"outline",onClick:r,children:[v.jsx($h,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[v.jsx(Qe,{className:"bg-gray-800/50",children:v.jsxs(et,{className:"p-4 text-center",children:[v.jsx("p",{className:"text-2xl font-bold text-purple-400",children:t.length}),v.jsx("p",{className:"text-sm text-gray-400",children:"Pending Cases"})]})}),v.jsx(Qe,{className:"bg-gray-800/50",children:v.jsxs(et,{className:"p-4 text-center",children:[v.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:"10"}),v.jsx("p",{className:"text-sm text-gray-400",children:"Votes Required"})]})}),v.jsx(Qe,{className:"bg-gray-800/50",children:v.jsxs(et,{className:"p-4 text-center",children:[v.jsx("p",{className:"text-2xl font-bold text-green-400",children:"Fair"}),v.jsx("p",{className:"text-sm text-gray-400",children:"Resolution Goal"})]})})]}),v.jsxs(Qe,{className:"bg-gray-800/30",children:[v.jsxs(pn,{children:[v.jsx(En,{children:"Cases Awaiting Vote"}),v.jsx(Is,{children:"These cases have received both tenant and landlord input"})]}),v.jsx(et,{children:e?v.jsx("div",{className:"flex justify-center py-12",children:v.jsx(ml,{size:"lg"})}):n?v.jsxs("div",{className:"text-center py-12",children:[v.jsx(js,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),v.jsx("p",{className:"text-red-400",children:n}),v.jsx(lt,{variant:"outline",onClick:r,className:"mt-4",children:"Try Again"})]}):t.length===0?v.jsxs("div",{className:"text-center py-12",children:[v.jsx(Hh,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-400",children:"No cases pending for review"}),v.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Check back later for new cases to vote on"})]}):v.jsx("div",{className:"space-y-4",children:t.map(o=>v.jsx(XF,{issue:o,onVoteSuccess:r},o.id))})})]}),v.jsxs(Qe,{className:"bg-gray-800/30 border-purple-500/20",children:[v.jsx(pn,{children:v.jsx(En,{className:"text-lg",children:"Voting Guidelines"})}),v.jsxs(et,{className:"space-y-3 text-sm text-gray-400",children:[v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(Bb,{className:"w-5 h-5 text-purple-400 flex-shrink-0 mt-0.5"}),v.jsx("p",{children:"Review all evidence and statements from both parties before voting"})]}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(Qm,{className:"w-5 h-5 text-purple-400 flex-shrink-0 mt-0.5"}),v.jsx("p",{children:"Vote based on evidence and facts, not personal bias"})]}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(Mb,{className:"w-5 h-5 text-purple-400 flex-shrink-0 mt-0.5"}),v.jsx("p",{children:"Your vote is confidential until the case reaches 10 votes"})]}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(ar,{className:"w-5 h-5 text-purple-400 flex-shrink-0 mt-0.5"}),v.jsx("p",{children:"Once 10 votes are cast, the majority decision becomes the verdict"})]})]})]})]})})}function e4({issue:t,onAction:e}){var b,P,k,T,C;const{toast:n}=Io(),[r,o]=S.useState(!1),[l,c]=S.useState(null),[d,f]=S.useState(""),[p,y]=S.useState(!1),_=async()=>{if(l){y(!0);try{const A=l==="resolve"?"RESOLVED":"CLOSED",{error:j}=await Ke.from("issues").update({status:A,admin_notes:d,updated_at:new Date().toISOString()}).eq("id",t.id);if(j)throw j;n.success(l==="resolve"?"Issue Resolved":"Issue Closed","The issue has been updated"),o(!1),e==null||e()}catch(A){n.error("Error",A.message)}finally{y(!1)}}};return v.jsxs(ki.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[v.jsx(Qe,{className:"bg-gray-800/50 border-red-500/30 hover:bg-gray-800/70 transition-colors",children:v.jsx(et,{className:"p-5",children:v.jsxs("div",{className:"flex items-start justify-between gap-4",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx(js,{className:"w-5 h-5 text-red-400"}),v.jsx(Ri,{variant:"escalated",children:"Escalated"})]}),v.jsx(Qr,{to:`/issue/${t.id}`,className:"font-semibold text-white hover:text-cyan-400 transition-colors block truncate",children:t.title||"Untitled Issue"}),v.jsx("p",{className:"text-sm text-gray-400 mt-1 line-clamp-2",children:t.description}),v.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-500",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(nu,{className:"w-4 h-4"}),((P=(b=t.property)==null?void 0:b.address)==null?void 0:P.slice(0,30))||"Unknown"]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(ru,{className:"w-4 h-4"}),((k=t.tenant)==null?void 0:k.full_name)||"Tenant"]})]}),v.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Escalated: ",new Date(t.updated_at).toLocaleString()]})]}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx(Qr,{to:`/issue/${t.id}`,children:v.jsxs(lt,{variant:"outline",size:"sm",children:[v.jsx(Bb,{className:"w-4 h-4 mr-1"}),"View"]})}),v.jsxs(lt,{size:"sm",onClick:()=>o(!0),children:[v.jsx(k0,{className:"w-4 h-4 mr-1"}),"Action"]})]})]})})}),v.jsx(lf,{open:r,onOpenChange:o,children:v.jsxs(pu,{children:[v.jsxs(cf,{children:[v.jsxs(df,{className:"flex items-center gap-2",children:[v.jsx(k0,{className:"w-5 h-5 text-cyan-400"}),"Admin Action"]}),v.jsx(hf,{children:"Take action on this escalated case"})]}),v.jsxs("div",{className:"space-y-4 py-4",children:[v.jsxs("div",{className:"p-4 rounded-lg bg-gray-700/50",children:[v.jsx("h4",{className:"font-medium text-white mb-1",children:t.title}),v.jsxs("p",{className:"text-sm text-gray-400",children:["Tenant: ",(T=t.tenant)==null?void 0:T.full_name," vs Landlord: ",(C=t.landlord)==null?void 0:C.full_name]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("button",{onClick:()=>c("resolve"),className:`p-4 rounded-lg border transition-all text-center ${l==="resolve"?"border-green-500 bg-green-500/10":"border-gray-600 hover:border-gray-500"}`,children:[v.jsx(ar,{className:`w-6 h-6 mx-auto mb-2 ${l==="resolve"?"text-green-400":"text-gray-400"}`}),v.jsx("span",{className:`text-sm font-medium ${l==="resolve"?"text-green-400":"text-gray-300"}`,children:"Resolve"})]}),v.jsxs("button",{onClick:()=>c("close"),className:`p-4 rounded-lg border transition-all text-center ${l==="close"?"border-red-500 bg-red-500/10":"border-gray-600 hover:border-gray-500"}`,children:[v.jsx(tO,{className:`w-6 h-6 mx-auto mb-2 ${l==="close"?"text-red-400":"text-gray-400"}`}),v.jsx("span",{className:`text-sm font-medium ${l==="close"?"text-red-400":"text-gray-300"}`,children:"Close"})]})]}),v.jsx(vl,{placeholder:"Add admin notes (required)...",value:d,onChange:A=>f(A.target.value),className:"min-h-[100px]"})]}),v.jsxs(uf,{children:[v.jsx(lt,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),v.jsx(lt,{onClick:_,disabled:!l||!d.trim(),loading:p,children:"Confirm Action"})]})]})})]})}function t4(){const{issues:t,loading:e,fetchIssues:n}=Yc({status:"ESCALATED_TO_ADMIN"}),{issues:r}=Yc(),[o,l]=S.useState("escalated"),c={escalated:t.length,total:r.length,resolved:r.filter(d=>d.status==="RESOLVED").length,active:r.filter(d=>!["RESOLVED","ESCALATED_TO_ADMIN","CLOSED"].includes(d.status)).length};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4 md:p-8",children:v.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[v.jsx(Wh,{className:"w-8 h-8 text-red-400"}),"Admin Panel"]}),v.jsx("p",{className:"text-gray-400 mt-1",children:"Manage escalated cases and platform oversight"})]}),v.jsxs(lt,{variant:"outline",onClick:n,children:[v.jsx($h,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[v.jsx(Qe,{className:"bg-red-500/10 border-red-500/30",children:v.jsx(et,{className:"p-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-400",children:"Escalated"}),v.jsx("p",{className:"text-2xl font-bold text-red-400",children:c.escalated})]}),v.jsx(js,{className:"w-8 h-8 text-red-500/50"})]})})}),v.jsx(Qe,{className:"bg-gray-800/50",children:v.jsx(et,{className:"p-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-400",children:"Total Issues"}),v.jsx("p",{className:"text-2xl font-bold text-white",children:c.total})]}),v.jsx(Co,{className:"w-8 h-8 text-gray-600"})]})})}),v.jsx(Qe,{className:"bg-gray-800/50",children:v.jsx(et,{className:"p-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-400",children:"Active"}),v.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:c.active})]}),v.jsx(vh,{className:"w-8 h-8 text-cyan-600"})]})})}),v.jsx(Qe,{className:"bg-gray-800/50",children:v.jsx(et,{className:"p-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-400",children:"Resolved"}),v.jsx("p",{className:"text-2xl font-bold text-green-400",children:c.resolved})]}),v.jsx(ar,{className:"w-8 h-8 text-green-600"})]})})})]}),v.jsxs(Qe,{className:"bg-gray-800/30",children:[v.jsx(pn,{children:v.jsx(Nv,{value:o,onValueChange:l,children:v.jsxs(Qh,{children:[v.jsxs(kr,{value:"escalated",children:["Escalated Cases (",c.escalated,")"]}),v.jsxs(kr,{value:"all",children:["All Issues (",c.total,")"]})]})})}),v.jsxs(et,{children:[o==="escalated"&&v.jsx(v.Fragment,{children:e?v.jsx("div",{className:"flex justify-center py-12",children:v.jsx(ml,{size:"lg"})}):t.length===0?v.jsxs("div",{className:"text-center py-12",children:[v.jsx(ar,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-400",children:"No escalated cases"}),v.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"All current issues are being handled normally"})]}):v.jsx("div",{className:"space-y-4",children:t.map(d=>v.jsx(e4,{issue:d,onAction:n},d.id))})}),o==="all"&&v.jsx(v.Fragment,{children:r.length===0?v.jsxs("div",{className:"text-center py-12",children:[v.jsx(Co,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-400",children:"No issues in the system"})]}):v.jsx("div",{className:"space-y-3",children:r.map(d=>{var f;return v.jsx(Qr,{to:`/issue/${d.id}`,children:v.jsx(Qe,{className:"bg-gray-800/50 hover:bg-gray-800/70 transition-colors cursor-pointer",children:v.jsxs(et,{className:"p-4 flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-white",children:d.title}),v.jsxs("p",{className:"text-sm text-gray-400",children:[(f=d.property)==null?void 0:f.city,"  ",new Date(d.created_at).toLocaleDateString()]})]}),v.jsx(Ri,{variant:d.status==="RESOLVED"?"success":d.status==="ESCALATED_TO_ADMIN"?"escalated":"default",children:d.status.replace(/_/g," ")})]})})},d.id)})})})]})]})]})})}function n4(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[o,l]=S.useState(null),c=S.useCallback(async()=>{try{r(!0),l(null);const{data:d,error:f}=await Ke.from("issues").select(`
          id,
          category,
          status,
          created_at,
          property:properties(
            latitude,
            longitude,
            city,
            area
          )
        `).not("property","is",null);if(f)throw f;const p=d.filter(y=>{var _,b;return((_=y.property)==null?void 0:_.latitude)&&((b=y.property)==null?void 0:b.longitude)}).map(y=>({id:y.id,latitude:y.property.latitude,longitude:y.property.longitude,category:y.category,status:y.status,city:y.property.city,area:y.property.area,createdAt:y.created_at}));e(p)}catch(d){console.error("Error fetching heatmap data:",d),l(d.message)}finally{r(!1)}},[]);return S.useEffect(()=>{c()},[c]),{data:t,loading:n,error:o,refetch:c}}function Nx(t,[e,n]){return Math.min(n,Math.max(e,t))}const r4=["top","right","bottom","left"],As=Math.min,Un=Math.max,Rh=Math.round,nh=Math.floor,Xr=t=>({x:t,y:t}),i4={left:"right",right:"left",bottom:"top",top:"bottom"},s4={start:"end",end:"start"};function Sg(t,e,n){return Un(t,As(e,n))}function ji(t,e){return typeof t=="function"?t(e):t}function Li(t){return t.split("-")[0]}function yl(t){return t.split("-")[1]}function Hv(t){return t==="x"?"y":"x"}function qv(t){return t==="y"?"height":"width"}const o4=new Set(["top","bottom"]);function Gr(t){return o4.has(Li(t))?"y":"x"}function Kv(t){return Hv(Gr(t))}function a4(t,e,n){n===void 0&&(n=!1);const r=yl(t),o=Kv(t),l=qv(o);let c=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Ah(c)),[c,Ah(c)]}function l4(t){const e=Ah(t);return[Eg(t),e,Eg(e)]}function Eg(t){return t.replace(/start|end/g,e=>s4[e])}const Ox=["left","right"],jx=["right","left"],c4=["top","bottom"],u4=["bottom","top"];function d4(t,e,n){switch(t){case"top":case"bottom":return n?e?jx:Ox:e?Ox:jx;case"left":case"right":return e?c4:u4;default:return[]}}function h4(t,e,n,r){const o=yl(t);let l=d4(Li(t),n==="start",r);return o&&(l=l.map(c=>c+"-"+o),e&&(l=l.concat(l.map(Eg)))),l}function Ah(t){return t.replace(/left|right|bottom|top/g,e=>i4[e])}function f4(t){return{top:0,right:0,bottom:0,left:0,...t}}function XT(t){return typeof t!="number"?f4(t):{top:t,right:t,bottom:t,left:t}}function Nh(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function Lx(t,e,n){let{reference:r,floating:o}=t;const l=Gr(e),c=Kv(e),d=qv(c),f=Li(e),p=l==="y",y=r.x+r.width/2-o.width/2,_=r.y+r.height/2-o.height/2,b=r[d]/2-o[d]/2;let P;switch(f){case"top":P={x:y,y:r.y-o.height};break;case"bottom":P={x:y,y:r.y+r.height};break;case"right":P={x:r.x+r.width,y:_};break;case"left":P={x:r.x-o.width,y:_};break;default:P={x:r.x,y:r.y}}switch(yl(e)){case"start":P[c]-=b*(n&&p?-1:1);break;case"end":P[c]+=b*(n&&p?-1:1);break}return P}async function p4(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:l,rects:c,elements:d,strategy:f}=t,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:_="floating",altBoundary:b=!1,padding:P=0}=ji(e,t),k=XT(P),C=d[b?_==="floating"?"reference":"floating":_],A=Nh(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(C)))==null||n?C:C.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:p,rootBoundary:y,strategy:f})),j=_==="floating"?{x:r,y:o,width:c.floating.width,height:c.floating.height}:c.reference,O=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),D=await(l.isElement==null?void 0:l.isElement(O))?await(l.getScale==null?void 0:l.getScale(O))||{x:1,y:1}:{x:1,y:1},z=Nh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:j,offsetParent:O,strategy:f}):j);return{top:(A.top-z.top+k.top)/D.y,bottom:(z.bottom-A.bottom+k.bottom)/D.y,left:(A.left-z.left+k.left)/D.x,right:(z.right-A.right+k.right)/D.x}}const m4=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:l=[],platform:c}=n,d=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:t,floating:e,strategy:o}),{x:y,y:_}=Lx(p,r,f),b=r,P={},k=0;for(let C=0;C<d.length;C++){var T;const{name:A,fn:j}=d[C],{x:O,y:D,data:z,reset:W}=await j({x:y,y:_,initialPlacement:r,placement:b,strategy:o,middlewareData:P,rects:p,platform:{...c,detectOverflow:(T=c.detectOverflow)!=null?T:p4},elements:{reference:t,floating:e}});y=O??y,_=D??_,P={...P,[A]:{...P[A],...z}},W&&k<=50&&(k++,typeof W=="object"&&(W.placement&&(b=W.placement),W.rects&&(p=W.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:o}):W.rects),{x:y,y:_}=Lx(p,b,f)),C=-1)}return{x:y,y:_,placement:b,strategy:o,middlewareData:P}},g4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:l,platform:c,elements:d,middlewareData:f}=e,{element:p,padding:y=0}=ji(t,e)||{};if(p==null)return{};const _=XT(y),b={x:n,y:r},P=Kv(o),k=qv(P),T=await c.getDimensions(p),C=P==="y",A=C?"top":"left",j=C?"bottom":"right",O=C?"clientHeight":"clientWidth",D=l.reference[k]+l.reference[P]-b[P]-l.floating[k],z=b[P]-l.reference[P],W=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let H=W?W[O]:0;(!H||!await(c.isElement==null?void 0:c.isElement(W)))&&(H=d.floating[O]||l.floating[k]);const X=D/2-z/2,ue=H/2-T[k]/2-1,ye=As(_[A],ue),pe=As(_[j],ue),le=ye,be=H-T[k]-pe,G=H/2-T[k]/2+X,se=Sg(le,G,be),ne=!f.arrow&&yl(o)!=null&&G!==se&&l.reference[k]/2-(G<le?ye:pe)-T[k]/2<0,oe=ne?G<le?G-le:G-be:0;return{[P]:b[P]+oe,data:{[P]:se,centerOffset:G-se-oe,...ne&&{alignmentOffset:oe}},reset:ne}}}),v4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:l,rects:c,initialPlacement:d,platform:f,elements:p}=e,{mainAxis:y=!0,crossAxis:_=!0,fallbackPlacements:b,fallbackStrategy:P="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:T=!0,...C}=ji(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const A=Li(o),j=Gr(d),O=Li(d)===d,D=await(f.isRTL==null?void 0:f.isRTL(p.floating)),z=b||(O||!T?[Ah(d)]:l4(d)),W=k!=="none";!b&&W&&z.push(...h4(d,T,k,D));const H=[d,...z],X=await f.detectOverflow(e,C),ue=[];let ye=((r=l.flip)==null?void 0:r.overflows)||[];if(y&&ue.push(X[A]),_){const G=a4(o,c,D);ue.push(X[G[0]],X[G[1]])}if(ye=[...ye,{placement:o,overflows:ue}],!ue.every(G=>G<=0)){var pe,le;const G=(((pe=l.flip)==null?void 0:pe.index)||0)+1,se=H[G];if(se&&(!(_==="alignment"?j!==Gr(se):!1)||ye.every(V=>Gr(V.placement)===j?V.overflows[0]>0:!0)))return{data:{index:G,overflows:ye},reset:{placement:se}};let ne=(le=ye.filter(oe=>oe.overflows[0]<=0).sort((oe,V)=>oe.overflows[1]-V.overflows[1])[0])==null?void 0:le.placement;if(!ne)switch(P){case"bestFit":{var be;const oe=(be=ye.filter(V=>{if(W){const ce=Gr(V.placement);return ce===j||ce==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(ce=>ce>0).reduce((ce,te)=>ce+te,0)]).sort((V,ce)=>V[1]-ce[1])[0])==null?void 0:be[0];oe&&(ne=oe);break}case"initialPlacement":ne=d;break}if(o!==ne)return{reset:{placement:ne}}}return{}}}};function Ix(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Dx(t){return r4.some(e=>t[e]>=0)}const y4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n,platform:r}=e,{strategy:o="referenceHidden",...l}=ji(t,e);switch(o){case"referenceHidden":{const c=await r.detectOverflow(e,{...l,elementContext:"reference"}),d=Ix(c,n.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:Dx(d)}}}case"escaped":{const c=await r.detectOverflow(e,{...l,altBoundary:!0}),d=Ix(c,n.floating);return{data:{escapedOffsets:d,escaped:Dx(d)}}}default:return{}}}}},QT=new Set(["left","top"]);async function _4(t,e){const{placement:n,platform:r,elements:o}=t,l=await(r.isRTL==null?void 0:r.isRTL(o.floating)),c=Li(n),d=yl(n),f=Gr(n)==="y",p=QT.has(c)?-1:1,y=l&&f?-1:1,_=ji(e,t);let{mainAxis:b,crossAxis:P,alignmentAxis:k}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return d&&typeof k=="number"&&(P=d==="end"?k*-1:k),f?{x:P*y,y:b*p}:{x:b*p,y:P*y}}const w4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:l,placement:c,middlewareData:d}=e,f=await _4(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:{...f,placement:c}}}}},x4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o,platform:l}=e,{mainAxis:c=!0,crossAxis:d=!1,limiter:f={fn:A=>{let{x:j,y:O}=A;return{x:j,y:O}}},...p}=ji(t,e),y={x:n,y:r},_=await l.detectOverflow(e,p),b=Gr(Li(o)),P=Hv(b);let k=y[P],T=y[b];if(c){const A=P==="y"?"top":"left",j=P==="y"?"bottom":"right",O=k+_[A],D=k-_[j];k=Sg(O,k,D)}if(d){const A=b==="y"?"top":"left",j=b==="y"?"bottom":"right",O=T+_[A],D=T-_[j];T=Sg(O,T,D)}const C=f.fn({...e,[P]:k,[b]:T});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[P]:c,[b]:d}}}}}},b4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:o,rects:l,middlewareData:c}=e,{offset:d=0,mainAxis:f=!0,crossAxis:p=!0}=ji(t,e),y={x:n,y:r},_=Gr(o),b=Hv(_);let P=y[b],k=y[_];const T=ji(d,e),C=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(f){const O=b==="y"?"height":"width",D=l.reference[b]-l.floating[O]+C.mainAxis,z=l.reference[b]+l.reference[O]-C.mainAxis;P<D?P=D:P>z&&(P=z)}if(p){var A,j;const O=b==="y"?"width":"height",D=QT.has(Li(o)),z=l.reference[_]-l.floating[O]+(D&&((A=c.offset)==null?void 0:A[_])||0)+(D?0:C.crossAxis),W=l.reference[_]+l.reference[O]+(D?0:((j=c.offset)==null?void 0:j[_])||0)-(D?C.crossAxis:0);k<z?k=z:k>W&&(k=W)}return{[b]:P,[_]:k}}}},S4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:o,rects:l,platform:c,elements:d}=e,{apply:f=()=>{},...p}=ji(t,e),y=await c.detectOverflow(e,p),_=Li(o),b=yl(o),P=Gr(o)==="y",{width:k,height:T}=l.floating;let C,A;_==="top"||_==="bottom"?(C=_,A=b===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(A=_,C=b==="end"?"top":"bottom");const j=T-y.top-y.bottom,O=k-y.left-y.right,D=As(T-y[C],j),z=As(k-y[A],O),W=!e.middlewareData.shift;let H=D,X=z;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(X=O),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(H=j),W&&!b){const ye=Un(y.left,0),pe=Un(y.right,0),le=Un(y.top,0),be=Un(y.bottom,0);P?X=k-2*(ye!==0||pe!==0?ye+pe:Un(y.left,y.right)):H=T-2*(le!==0||be!==0?le+be:Un(y.top,y.bottom))}await f({...e,availableWidth:X,availableHeight:H});const ue=await c.getDimensions(d.floating);return k!==ue.width||T!==ue.height?{reset:{rects:!0}}:{}}}};function ff(){return typeof window<"u"}function _l(t){return eP(t)?(t.nodeName||"").toLowerCase():"#document"}function Wn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ti(t){var e;return(e=(eP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function eP(t){return ff()?t instanceof Node||t instanceof Wn(t).Node:!1}function Rr(t){return ff()?t instanceof Element||t instanceof Wn(t).Element:!1}function ei(t){return ff()?t instanceof HTMLElement||t instanceof Wn(t).HTMLElement:!1}function Mx(t){return!ff()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Wn(t).ShadowRoot}const E4=new Set(["inline","contents"]);function mu(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=Ar(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!E4.has(o)}const T4=new Set(["table","td","th"]);function P4(t){return T4.has(_l(t))}const C4=[":popover-open",":modal"];function pf(t){return C4.some(e=>{try{return t.matches(e)}catch{return!1}})}const k4=["transform","translate","scale","rotate","perspective"],R4=["transform","translate","scale","rotate","perspective","filter"],A4=["paint","layout","strict","content"];function Zv(t){const e=Gv(),n=Rr(t)?Ar(t):t;return k4.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||R4.some(r=>(n.willChange||"").includes(r))||A4.some(r=>(n.contain||"").includes(r))}function N4(t){let e=Ns(t);for(;ei(e)&&!il(e);){if(Zv(e))return e;if(pf(e))return null;e=Ns(e)}return null}function Gv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const O4=new Set(["html","body","#document"]);function il(t){return O4.has(_l(t))}function Ar(t){return Wn(t).getComputedStyle(t)}function mf(t){return Rr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ns(t){if(_l(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Mx(t)&&t.host||ti(t);return Mx(e)?e.host:e}function tP(t){const e=Ns(t);return il(e)?t.ownerDocument?t.ownerDocument.body:t.body:ei(e)&&mu(e)?e:tP(e)}function Xc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=tP(t),l=o===((r=t.ownerDocument)==null?void 0:r.body),c=Wn(o);if(l){const d=Tg(c);return e.concat(c,c.visualViewport||[],mu(o)?o:[],d&&n?Xc(d):[])}return e.concat(o,Xc(o,[],n))}function Tg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function nP(t){const e=Ar(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=ei(t),l=o?t.offsetWidth:n,c=o?t.offsetHeight:r,d=Rh(n)!==l||Rh(r)!==c;return d&&(n=l,r=c),{width:n,height:r,$:d}}function Jv(t){return Rr(t)?t:t.contextElement}function Ya(t){const e=Jv(t);if(!ei(e))return Xr(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:l}=nP(e);let c=(l?Rh(n.width):n.width)/r,d=(l?Rh(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const j4=Xr(0);function rP(t){const e=Wn(t);return!Gv()||!e.visualViewport?j4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function L4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Wn(t)?!1:e}function Ao(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),l=Jv(t);let c=Xr(1);e&&(r?Rr(r)&&(c=Ya(r)):c=Ya(t));const d=L4(l,n,r)?rP(l):Xr(0);let f=(o.left+d.x)/c.x,p=(o.top+d.y)/c.y,y=o.width/c.x,_=o.height/c.y;if(l){const b=Wn(l),P=r&&Rr(r)?Wn(r):r;let k=b,T=Tg(k);for(;T&&r&&P!==k;){const C=Ya(T),A=T.getBoundingClientRect(),j=Ar(T),O=A.left+(T.clientLeft+parseFloat(j.paddingLeft))*C.x,D=A.top+(T.clientTop+parseFloat(j.paddingTop))*C.y;f*=C.x,p*=C.y,y*=C.x,_*=C.y,f+=O,p+=D,k=Wn(T),T=Tg(k)}}return Nh({width:y,height:_,x:f,y:p})}function gf(t,e){const n=mf(t).scrollLeft;return e?e.left+n:Ao(ti(t)).left+n}function iP(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-gf(t,n),o=n.top+e.scrollTop;return{x:r,y:o}}function I4(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const l=o==="fixed",c=ti(r),d=e?pf(e.floating):!1;if(r===c||d&&l)return n;let f={scrollLeft:0,scrollTop:0},p=Xr(1);const y=Xr(0),_=ei(r);if((_||!_&&!l)&&((_l(r)!=="body"||mu(c))&&(f=mf(r)),ei(r))){const P=Ao(r);p=Ya(r),y.x=P.x+r.clientLeft,y.y=P.y+r.clientTop}const b=c&&!_&&!l?iP(c,f):Xr(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-f.scrollLeft*p.x+y.x+b.x,y:n.y*p.y-f.scrollTop*p.y+y.y+b.y}}function D4(t){return Array.from(t.getClientRects())}function M4(t){const e=ti(t),n=mf(t),r=t.ownerDocument.body,o=Un(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),l=Un(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+gf(t);const d=-n.scrollTop;return Ar(r).direction==="rtl"&&(c+=Un(e.clientWidth,r.clientWidth)-o),{width:o,height:l,x:c,y:d}}const Bx=25;function B4(t,e){const n=Wn(t),r=ti(t),o=n.visualViewport;let l=r.clientWidth,c=r.clientHeight,d=0,f=0;if(o){l=o.width,c=o.height;const y=Gv();(!y||y&&e==="fixed")&&(d=o.offsetLeft,f=o.offsetTop)}const p=gf(r);if(p<=0){const y=r.ownerDocument,_=y.body,b=getComputedStyle(_),P=y.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,k=Math.abs(r.clientWidth-_.clientWidth-P);k<=Bx&&(l-=k)}else p<=Bx&&(l+=p);return{width:l,height:c,x:d,y:f}}const F4=new Set(["absolute","fixed"]);function z4(t,e){const n=Ao(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,l=ei(t)?Ya(t):Xr(1),c=t.clientWidth*l.x,d=t.clientHeight*l.y,f=o*l.x,p=r*l.y;return{width:c,height:d,x:f,y:p}}function Fx(t,e,n){let r;if(e==="viewport")r=B4(t,n);else if(e==="document")r=M4(ti(t));else if(Rr(e))r=z4(e,n);else{const o=rP(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Nh(r)}function sP(t,e){const n=Ns(t);return n===e||!Rr(n)||il(n)?!1:Ar(n).position==="fixed"||sP(n,e)}function U4(t,e){const n=e.get(t);if(n)return n;let r=Xc(t,[],!1).filter(d=>Rr(d)&&_l(d)!=="body"),o=null;const l=Ar(t).position==="fixed";let c=l?Ns(t):t;for(;Rr(c)&&!il(c);){const d=Ar(c),f=Zv(c);!f&&d.position==="fixed"&&(o=null),(l?!f&&!o:!f&&d.position==="static"&&!!o&&F4.has(o.position)||mu(c)&&!f&&sP(t,c))?r=r.filter(y=>y!==c):o=d,c=Ns(c)}return e.set(t,r),r}function V4(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const c=[...n==="clippingAncestors"?pf(e)?[]:U4(e,this._c):[].concat(n),r],d=c[0],f=c.reduce((p,y)=>{const _=Fx(e,y,o);return p.top=Un(_.top,p.top),p.right=As(_.right,p.right),p.bottom=As(_.bottom,p.bottom),p.left=Un(_.left,p.left),p},Fx(e,d,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function $4(t){const{width:e,height:n}=nP(t);return{width:e,height:n}}function W4(t,e,n){const r=ei(e),o=ti(e),l=n==="fixed",c=Ao(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const f=Xr(0);function p(){f.x=gf(o)}if(r||!r&&!l)if((_l(e)!=="body"||mu(o))&&(d=mf(e)),r){const P=Ao(e,!0,l,e);f.x=P.x+e.clientLeft,f.y=P.y+e.clientTop}else o&&p();l&&!r&&o&&p();const y=o&&!r&&!l?iP(o,d):Xr(0),_=c.left+d.scrollLeft-f.x-y.x,b=c.top+d.scrollTop-f.y-y.y;return{x:_,y:b,width:c.width,height:c.height}}function jm(t){return Ar(t).position==="static"}function zx(t,e){if(!ei(t)||Ar(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ti(t)===n&&(n=n.ownerDocument.body),n}function oP(t,e){const n=Wn(t);if(pf(t))return n;if(!ei(t)){let o=Ns(t);for(;o&&!il(o);){if(Rr(o)&&!jm(o))return o;o=Ns(o)}return n}let r=zx(t,e);for(;r&&P4(r)&&jm(r);)r=zx(r,e);return r&&il(r)&&jm(r)&&!Zv(r)?n:r||N4(t)||n}const H4=async function(t){const e=this.getOffsetParent||oP,n=this.getDimensions,r=await n(t.floating);return{reference:W4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function q4(t){return Ar(t).direction==="rtl"}const K4={convertOffsetParentRelativeRectToViewportRelativeRect:I4,getDocumentElement:ti,getClippingRect:V4,getOffsetParent:oP,getElementRects:H4,getClientRects:D4,getDimensions:$4,getScale:Ya,isElement:Rr,isRTL:q4};function aP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Z4(t,e){let n=null,r;const o=ti(t);function l(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const p=t.getBoundingClientRect(),{left:y,top:_,width:b,height:P}=p;if(d||e(),!b||!P)return;const k=nh(_),T=nh(o.clientWidth-(y+b)),C=nh(o.clientHeight-(_+P)),A=nh(y),O={rootMargin:-k+"px "+-T+"px "+-C+"px "+-A+"px",threshold:Un(0,As(1,f))||1};let D=!0;function z(W){const H=W[0].intersectionRatio;if(H!==f){if(!D)return c();H?c(!1,H):r=setTimeout(()=>{c(!1,1e-7)},1e3)}H===1&&!aP(p,t.getBoundingClientRect())&&c(),D=!1}try{n=new IntersectionObserver(z,{...O,root:o.ownerDocument})}catch{n=new IntersectionObserver(z,O)}n.observe(t)}return c(!0),l}function G4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=Jv(t),y=o||l?[...p?Xc(p):[],...Xc(e)]:[];y.forEach(A=>{o&&A.addEventListener("scroll",n,{passive:!0}),l&&A.addEventListener("resize",n)});const _=p&&d?Z4(p,n):null;let b=-1,P=null;c&&(P=new ResizeObserver(A=>{let[j]=A;j&&j.target===p&&P&&(P.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var O;(O=P)==null||O.observe(e)})),n()}),p&&!f&&P.observe(p),P.observe(e));let k,T=f?Ao(t):null;f&&C();function C(){const A=Ao(t);T&&!aP(T,A)&&n(),T=A,k=requestAnimationFrame(C)}return n(),()=>{var A;y.forEach(j=>{o&&j.removeEventListener("scroll",n),l&&j.removeEventListener("resize",n)}),_==null||_(),(A=P)==null||A.disconnect(),P=null,f&&cancelAnimationFrame(k)}}const J4=w4,Y4=x4,X4=v4,Q4=S4,ez=y4,Ux=g4,tz=b4,nz=(t,e,n)=>{const r=new Map,o={platform:K4,...n},l={...o.platform,_c:r};return m4(t,e,{...o,platform:l})};var rz=typeof document<"u",iz=function(){},dh=rz?S.useLayoutEffect:iz;function Oh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Oh(t[r],e[r]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){const l=o[r];if(!(l==="_owner"&&t.$$typeof)&&!Oh(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function lP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Vx(t,e){const n=lP(t);return Math.round(e*n)/n}function Lm(t){const e=S.useRef(t);return dh(()=>{e.current=t}),e}function sz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:f,open:p}=t,[y,_]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,P]=S.useState(r);Oh(b,r)||P(r);const[k,T]=S.useState(null),[C,A]=S.useState(null),j=S.useCallback(V=>{V!==W.current&&(W.current=V,T(V))},[]),O=S.useCallback(V=>{V!==H.current&&(H.current=V,A(V))},[]),D=l||k,z=c||C,W=S.useRef(null),H=S.useRef(null),X=S.useRef(y),ue=f!=null,ye=Lm(f),pe=Lm(o),le=Lm(p),be=S.useCallback(()=>{if(!W.current||!H.current)return;const V={placement:e,strategy:n,middleware:b};pe.current&&(V.platform=pe.current),nz(W.current,H.current,V).then(ce=>{const te={...ce,isPositioned:le.current!==!1};G.current&&!Oh(X.current,te)&&(X.current=te,jo.flushSync(()=>{_(te)}))})},[b,e,n,pe,le]);dh(()=>{p===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,_(V=>({...V,isPositioned:!1})))},[p]);const G=S.useRef(!1);dh(()=>(G.current=!0,()=>{G.current=!1}),[]),dh(()=>{if(D&&(W.current=D),z&&(H.current=z),D&&z){if(ye.current)return ye.current(D,z,be);be()}},[D,z,be,ye,ue]);const se=S.useMemo(()=>({reference:W,floating:H,setReference:j,setFloating:O}),[j,O]),ne=S.useMemo(()=>({reference:D,floating:z}),[D,z]),oe=S.useMemo(()=>{const V={position:n,left:0,top:0};if(!ne.floating)return V;const ce=Vx(ne.floating,y.x),te=Vx(ne.floating,y.y);return d?{...V,transform:"translate("+ce+"px, "+te+"px)",...lP(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ce,top:te}},[n,d,ne.floating,y.x,y.y]);return S.useMemo(()=>({...y,update:be,refs:se,elements:ne,floatingStyles:oe}),[y,be,se,ne,oe])}const oz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:o}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Ux({element:r.current,padding:o}).fn(n):{}:r?Ux({element:r,padding:o}).fn(n):{}}}},az=(t,e)=>({...J4(t),options:[t,e]}),lz=(t,e)=>({...Y4(t),options:[t,e]}),cz=(t,e)=>({...tz(t),options:[t,e]}),uz=(t,e)=>({...X4(t),options:[t,e]}),dz=(t,e)=>({...Q4(t),options:[t,e]}),hz=(t,e)=>({...ez(t),options:[t,e]}),fz=(t,e)=>({...oz(t),options:[t,e]});var pz="Arrow",cP=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:o=5,...l}=t;return v.jsx(Ze.svg,{...l,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});cP.displayName=pz;var mz=cP;function gz(t){const[e,n]=S.useState(void 0);return Zt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let c,d;if("borderBoxSize"in l){const f=l.borderBoxSize,p=Array.isArray(f)?f[0]:f;c=p.inlineSize,d=p.blockSize}else c=t.offsetWidth,d=t.offsetHeight;n({width:c,height:d})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Yv="Popper",[uP,dP]=Lo(Yv),[vz,hP]=uP(Yv),fP=t=>{const{__scopePopper:e,children:n}=t,[r,o]=S.useState(null);return v.jsx(vz,{scope:e,anchor:r,onAnchorChange:o,children:n})};fP.displayName=Yv;var pP="PopperAnchor",mP=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...o}=t,l=hP(pP,n),c=S.useRef(null),d=vt(e,c),f=S.useRef(null);return S.useEffect(()=>{const p=f.current;f.current=(r==null?void 0:r.current)||c.current,p!==f.current&&l.onAnchorChange(f.current)}),r?null:v.jsx(Ze.div,{...o,ref:d})});mP.displayName=pP;var Xv="PopperContent",[yz,_z]=uP(Xv),gP=S.forwardRef((t,e)=>{var ge,Ee,ze,Ue,Je,Ye;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:_="partial",hideWhenDetached:b=!1,updatePositionStrategy:P="optimized",onPlaced:k,...T}=t,C=hP(Xv,n),[A,j]=S.useState(null),O=vt(e,St=>j(St)),[D,z]=S.useState(null),W=gz(D),H=(W==null?void 0:W.width)??0,X=(W==null?void 0:W.height)??0,ue=r+(l!=="center"?"-"+l:""),ye=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},pe=Array.isArray(p)?p:[p],le=pe.length>0,be={padding:ye,boundary:pe.filter(xz),altBoundary:le},{refs:G,floatingStyles:se,placement:ne,isPositioned:oe,middlewareData:V}=sz({strategy:"fixed",placement:ue,whileElementsMounted:(...St)=>G4(...St,{animationFrame:P==="always"}),elements:{reference:C.anchor},middleware:[az({mainAxis:o+X,alignmentAxis:c}),f&&lz({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?cz():void 0,...be}),f&&uz({...be}),dz({...be,apply:({elements:St,rects:Gt,availableWidth:cr,availableHeight:ur})=>{const{width:Cn,height:ni}=Gt.reference,jr=St.floating.style;jr.setProperty("--radix-popper-available-width",`${cr}px`),jr.setProperty("--radix-popper-available-height",`${ur}px`),jr.setProperty("--radix-popper-anchor-width",`${Cn}px`),jr.setProperty("--radix-popper-anchor-height",`${ni}px`)}}),D&&fz({element:D,padding:d}),bz({arrowWidth:H,arrowHeight:X}),b&&hz({strategy:"referenceHidden",...be})]}),[ce,te]=_P(ne),B=or(k);Zt(()=>{oe&&(B==null||B())},[oe,B]);const Q=(ge=V.arrow)==null?void 0:ge.x,_e=(Ee=V.arrow)==null?void 0:Ee.y,me=((ze=V.arrow)==null?void 0:ze.centerOffset)!==0,[he,ve]=S.useState();return Zt(()=>{A&&ve(window.getComputedStyle(A).zIndex)},[A]),v.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:oe?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(Ue=V.transformOrigin)==null?void 0:Ue.x,(Je=V.transformOrigin)==null?void 0:Je.y].join(" "),...((Ye=V.hide)==null?void 0:Ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:v.jsx(yz,{scope:n,placedSide:ce,onArrowChange:z,arrowX:Q,arrowY:_e,shouldHideArrow:me,children:v.jsx(Ze.div,{"data-side":ce,"data-align":te,...T,ref:O,style:{...T.style,animation:oe?void 0:"none"}})})})});gP.displayName=Xv;var vP="PopperArrow",wz={top:"bottom",right:"left",bottom:"top",left:"right"},yP=S.forwardRef(function(e,n){const{__scopePopper:r,...o}=e,l=_z(vP,r),c=wz[l.placedSide];return v.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:v.jsx(mz,{...o,ref:n,style:{...o.style,display:"block"}})})});yP.displayName=vP;function xz(t){return t!==null}var bz=t=>({name:"transformOrigin",options:t,fn(e){var C,A,j;const{placement:n,rects:r,middlewareData:o}=e,c=((C=o.arrow)==null?void 0:C.centerOffset)!==0,d=c?0:t.arrowWidth,f=c?0:t.arrowHeight,[p,y]=_P(n),_={start:"0%",center:"50%",end:"100%"}[y],b=(((A=o.arrow)==null?void 0:A.x)??0)+d/2,P=(((j=o.arrow)==null?void 0:j.y)??0)+f/2;let k="",T="";return p==="bottom"?(k=c?_:`${b}px`,T=`${-f}px`):p==="top"?(k=c?_:`${b}px`,T=`${r.floating.height+f}px`):p==="right"?(k=`${-f}px`,T=c?_:`${P}px`):p==="left"&&(k=`${r.floating.width+f}px`,T=c?_:`${P}px`),{data:{x:k,y:T}}}});function _P(t){const[e,n="center"]=t.split("-");return[e,n]}var Sz=fP,Ez=mP,Tz=gP,Pz=yP;function Cz(t){const e=kz(t),n=S.forwardRef((r,o)=>{const{children:l,...c}=r,d=S.Children.toArray(l),f=d.find(Az);if(f){const p=f.props.children,y=d.map(_=>_===f?S.Children.count(p)>1?S.Children.only(null):S.isValidElement(p)?p.props.children:null:_);return v.jsx(e,{...c,ref:o,children:S.isValidElement(p)?S.cloneElement(p,void 0,y):null})}return v.jsx(e,{...c,ref:o,children:l})});return n.displayName=`${t}.Slot`,n}function kz(t){const e=S.forwardRef((n,r)=>{const{children:o,...l}=n;if(S.isValidElement(o)){const c=Oz(o),d=Nz(l,o.props);return o.type!==S.Fragment&&(d.ref=r?ul(r,c):c),S.cloneElement(o,d)}return S.Children.count(o)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Rz=Symbol("radix.slottable");function Az(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Rz}function Nz(t,e){const n={...e};for(const r in e){const o=t[r],l=e[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...t,...n}}function Oz(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function jz(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Lz=[" ","Enter","ArrowUp","ArrowDown"],Iz=[" ","Enter"],No="Select",[vf,yf,Dz]=Ug(No),[wl]=Lo(No,[Dz,dP]),_f=dP(),[Mz,Ds]=wl(No),[Bz,Fz]=wl(No),wP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:o,onOpenChange:l,value:c,defaultValue:d,onValueChange:f,dir:p,name:y,autoComplete:_,disabled:b,required:P,form:k}=t,T=_f(e),[C,A]=S.useState(null),[j,O]=S.useState(null),[D,z]=S.useState(!1),W=Rv(p),[H,X]=Qa({prop:r,defaultProp:o??!1,onChange:l,caller:No}),[ue,ye]=Qa({prop:c,defaultProp:d,onChange:f,caller:No}),pe=S.useRef(null),le=C?k||!!C.closest("form"):!0,[be,G]=S.useState(new Set),se=Array.from(be).map(ne=>ne.props.value).join(";");return v.jsx(Sz,{...T,children:v.jsxs(Mz,{required:P,scope:e,trigger:C,onTriggerChange:A,valueNode:j,onValueNodeChange:O,valueNodeHasChildren:D,onValueNodeHasChildrenChange:z,contentId:Cs(),value:ue,onValueChange:ye,open:H,onOpenChange:X,dir:W,triggerPointerDownPosRef:pe,disabled:b,children:[v.jsx(vf.Provider,{scope:e,children:v.jsx(Bz,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(ne=>{G(oe=>new Set(oe).add(ne))},[]),onNativeOptionRemove:S.useCallback(ne=>{G(oe=>{const V=new Set(oe);return V.delete(ne),V})},[]),children:n})}),le?v.jsxs(WP,{"aria-hidden":!0,required:P,tabIndex:-1,name:y,autoComplete:_,value:ue,onChange:ne=>ye(ne.target.value),disabled:b,form:k,children:[ue===void 0?v.jsx("option",{value:""}):null,Array.from(be)]},se):null]})})};wP.displayName=No;var xP="SelectTrigger",bP=S.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...o}=t,l=_f(n),c=Ds(xP,n),d=c.disabled||r,f=vt(e,c.onTriggerChange),p=yf(n),y=S.useRef("touch"),[_,b,P]=qP(T=>{const C=p().filter(O=>!O.disabled),A=C.find(O=>O.value===c.value),j=KP(C,T,A);j!==void 0&&c.onValueChange(j.value)}),k=T=>{d||(c.onOpenChange(!0),P()),T&&(c.triggerPointerDownPosRef.current={x:Math.round(T.pageX),y:Math.round(T.pageY)})};return v.jsx(Ez,{asChild:!0,...l,children:v.jsx(Ze.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":HP(c.value)?"":void 0,...o,ref:f,onClick:$e(o.onClick,T=>{T.currentTarget.focus(),y.current!=="mouse"&&k(T)}),onPointerDown:$e(o.onPointerDown,T=>{y.current=T.pointerType;const C=T.target;C.hasPointerCapture(T.pointerId)&&C.releasePointerCapture(T.pointerId),T.button===0&&T.ctrlKey===!1&&T.pointerType==="mouse"&&(k(T),T.preventDefault())}),onKeyDown:$e(o.onKeyDown,T=>{const C=_.current!=="";!(T.ctrlKey||T.altKey||T.metaKey)&&T.key.length===1&&b(T.key),!(C&&T.key===" ")&&Lz.includes(T.key)&&(k(),T.preventDefault())})})})});bP.displayName=xP;var SP="SelectValue",EP=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:o,children:l,placeholder:c="",...d}=t,f=Ds(SP,n),{onValueNodeHasChildrenChange:p}=f,y=l!==void 0,_=vt(e,f.onValueNodeChange);return Zt(()=>{p(y)},[p,y]),v.jsx(Ze.span,{...d,ref:_,style:{pointerEvents:"none"},children:HP(f.value)?v.jsx(v.Fragment,{children:c}):l})});EP.displayName=SP;var zz="SelectIcon",TP=S.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...o}=t;return v.jsx(Ze.span,{"aria-hidden":!0,...o,ref:e,children:r||""})});TP.displayName=zz;var Uz="SelectPortal",PP=t=>v.jsx(zh,{asChild:!0,...t});PP.displayName=Uz;var Oo="SelectContent",CP=S.forwardRef((t,e)=>{const n=Ds(Oo,t.__scopeSelect),[r,o]=S.useState();if(Zt(()=>{o(new DocumentFragment)},[]),!n.open){const l=r;return l?jo.createPortal(v.jsx(kP,{scope:t.__scopeSelect,children:v.jsx(vf.Slot,{scope:t.__scopeSelect,children:v.jsx("div",{children:t.children})})}),l):null}return v.jsx(RP,{...t,ref:e})});CP.displayName=Oo;var Tr=10,[kP,Ms]=wl(Oo),Vz="SelectContentImpl",$z=Cz("SelectContent.RemoveScroll"),RP=S.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:f,align:p,alignOffset:y,arrowPadding:_,collisionBoundary:b,collisionPadding:P,sticky:k,hideWhenDetached:T,avoidCollisions:C,...A}=t,j=Ds(Oo,n),[O,D]=S.useState(null),[z,W]=S.useState(null),H=vt(e,ge=>D(ge)),[X,ue]=S.useState(null),[ye,pe]=S.useState(null),le=yf(n),[be,G]=S.useState(!1),se=S.useRef(!1);S.useEffect(()=>{if(O)return NT(O)},[O]),ST();const ne=S.useCallback(ge=>{const[Ee,...ze]=le().map(Ye=>Ye.ref.current),[Ue]=ze.slice(-1),Je=document.activeElement;for(const Ye of ge)if(Ye===Je||(Ye==null||Ye.scrollIntoView({block:"nearest"}),Ye===Ee&&z&&(z.scrollTop=0),Ye===Ue&&z&&(z.scrollTop=z.scrollHeight),Ye==null||Ye.focus(),document.activeElement!==Je))return},[le,z]),oe=S.useCallback(()=>ne([X,O]),[ne,X,O]);S.useEffect(()=>{be&&oe()},[be,oe]);const{onOpenChange:V,triggerPointerDownPosRef:ce}=j;S.useEffect(()=>{if(O){let ge={x:0,y:0};const Ee=Ue=>{var Je,Ye;ge={x:Math.abs(Math.round(Ue.pageX)-(((Je=ce.current)==null?void 0:Je.x)??0)),y:Math.abs(Math.round(Ue.pageY)-(((Ye=ce.current)==null?void 0:Ye.y)??0))}},ze=Ue=>{ge.x<=10&&ge.y<=10?Ue.preventDefault():O.contains(Ue.target)||V(!1),document.removeEventListener("pointermove",Ee),ce.current=null};return ce.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",ze,{capture:!0})}}},[O,V,ce]),S.useEffect(()=>{const ge=()=>V(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[V]);const[te,B]=qP(ge=>{const Ee=le().filter(Je=>!Je.disabled),ze=Ee.find(Je=>Je.ref.current===document.activeElement),Ue=KP(Ee,ge,ze);Ue&&setTimeout(()=>Ue.ref.current.focus())}),Q=S.useCallback((ge,Ee,ze)=>{const Ue=!se.current&&!ze;(j.value!==void 0&&j.value===Ee||Ue)&&(ue(ge),Ue&&(se.current=!0))},[j.value]),_e=S.useCallback(()=>O==null?void 0:O.focus(),[O]),me=S.useCallback((ge,Ee,ze)=>{const Ue=!se.current&&!ze;(j.value!==void 0&&j.value===Ee||Ue)&&pe(ge)},[j.value]),he=r==="popper"?Pg:AP,ve=he===Pg?{side:d,sideOffset:f,align:p,alignOffset:y,arrowPadding:_,collisionBoundary:b,collisionPadding:P,sticky:k,hideWhenDetached:T,avoidCollisions:C}:{};return v.jsx(kP,{scope:n,content:O,viewport:z,onViewportChange:W,itemRefCallback:Q,selectedItem:X,onItemLeave:_e,itemTextRefCallback:me,focusSelectedItem:oe,selectedItemText:ye,position:r,isPositioned:be,searchRef:te,children:v.jsx(Uv,{as:$z,allowPinchZoom:!0,children:v.jsx(zv,{asChild:!0,trapped:j.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:$e(o,ge=>{var Ee;(Ee=j.trigger)==null||Ee.focus({preventScroll:!0}),ge.preventDefault()}),children:v.jsx(Fh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:v.jsx(he,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:ge=>ge.preventDefault(),...A,...ve,onPlaced:()=>G(!0),ref:H,style:{display:"flex",flexDirection:"column",outline:"none",...A.style},onKeyDown:$e(A.onKeyDown,ge=>{const Ee=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!Ee&&ge.key.length===1&&B(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let Ue=le().filter(Je=>!Je.disabled).map(Je=>Je.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(Ue=Ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const Je=ge.target,Ye=Ue.indexOf(Je);Ue=Ue.slice(Ye+1)}setTimeout(()=>ne(Ue)),ge.preventDefault()}})})})})})})});RP.displayName=Vz;var Wz="SelectItemAlignedPosition",AP=S.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...o}=t,l=Ds(Oo,n),c=Ms(Oo,n),[d,f]=S.useState(null),[p,y]=S.useState(null),_=vt(e,H=>y(H)),b=yf(n),P=S.useRef(!1),k=S.useRef(!0),{viewport:T,selectedItem:C,selectedItemText:A,focusSelectedItem:j}=c,O=S.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&p&&T&&C&&A){const H=l.trigger.getBoundingClientRect(),X=p.getBoundingClientRect(),ue=l.valueNode.getBoundingClientRect(),ye=A.getBoundingClientRect();if(l.dir!=="rtl"){const Je=ye.left-X.left,Ye=ue.left-Je,St=H.left-Ye,Gt=H.width+St,cr=Math.max(Gt,X.width),ur=window.innerWidth-Tr,Cn=Nx(Ye,[Tr,Math.max(Tr,ur-cr)]);d.style.minWidth=Gt+"px",d.style.left=Cn+"px"}else{const Je=X.right-ye.right,Ye=window.innerWidth-ue.right-Je,St=window.innerWidth-H.right-Ye,Gt=H.width+St,cr=Math.max(Gt,X.width),ur=window.innerWidth-Tr,Cn=Nx(Ye,[Tr,Math.max(Tr,ur-cr)]);d.style.minWidth=Gt+"px",d.style.right=Cn+"px"}const pe=b(),le=window.innerHeight-Tr*2,be=T.scrollHeight,G=window.getComputedStyle(p),se=parseInt(G.borderTopWidth,10),ne=parseInt(G.paddingTop,10),oe=parseInt(G.borderBottomWidth,10),V=parseInt(G.paddingBottom,10),ce=se+ne+be+V+oe,te=Math.min(C.offsetHeight*5,ce),B=window.getComputedStyle(T),Q=parseInt(B.paddingTop,10),_e=parseInt(B.paddingBottom,10),me=H.top+H.height/2-Tr,he=le-me,ve=C.offsetHeight/2,ge=C.offsetTop+ve,Ee=se+ne+ge,ze=ce-Ee;if(Ee<=me){const Je=pe.length>0&&C===pe[pe.length-1].ref.current;d.style.bottom="0px";const Ye=p.clientHeight-T.offsetTop-T.offsetHeight,St=Math.max(he,ve+(Je?_e:0)+Ye+oe),Gt=Ee+St;d.style.height=Gt+"px"}else{const Je=pe.length>0&&C===pe[0].ref.current;d.style.top="0px";const St=Math.max(me,se+T.offsetTop+(Je?Q:0)+ve)+ze;d.style.height=St+"px",T.scrollTop=Ee-me+T.offsetTop}d.style.margin=`${Tr}px 0`,d.style.minHeight=te+"px",d.style.maxHeight=le+"px",r==null||r(),requestAnimationFrame(()=>P.current=!0)}},[b,l.trigger,l.valueNode,d,p,T,C,A,l.dir,r]);Zt(()=>O(),[O]);const[D,z]=S.useState();Zt(()=>{p&&z(window.getComputedStyle(p).zIndex)},[p]);const W=S.useCallback(H=>{H&&k.current===!0&&(O(),j==null||j(),k.current=!1)},[O,j]);return v.jsx(qz,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:P,onScrollButtonChange:W,children:v.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:v.jsx(Ze.div,{...o,ref:_,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});AP.displayName=Wz;var Hz="SelectPopperPosition",Pg=S.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Tr,...l}=t,c=_f(n);return v.jsx(Tz,{...c,...l,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Pg.displayName=Hz;var[qz,Qv]=wl(Oo,{}),Cg="SelectViewport",NP=S.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...o}=t,l=Ms(Cg,n),c=Qv(Cg,n),d=vt(e,l.onViewportChange),f=S.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),v.jsx(vf.Slot,{scope:n,children:v.jsx(Ze.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:$e(o.onScroll,p=>{const y=p.currentTarget,{contentWrapper:_,shouldExpandOnScrollRef:b}=c;if(b!=null&&b.current&&_){const P=Math.abs(f.current-y.scrollTop);if(P>0){const k=window.innerHeight-Tr*2,T=parseFloat(_.style.minHeight),C=parseFloat(_.style.height),A=Math.max(T,C);if(A<k){const j=A+P,O=Math.min(k,j),D=j-O;_.style.height=O+"px",_.style.bottom==="0px"&&(y.scrollTop=D>0?D:0,_.style.justifyContent="flex-end")}}}f.current=y.scrollTop})})})]})});NP.displayName=Cg;var OP="SelectGroup",[Kz,Zz]=wl(OP),Gz=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=Cs();return v.jsx(Kz,{scope:n,id:o,children:v.jsx(Ze.div,{role:"group","aria-labelledby":o,...r,ref:e})})});Gz.displayName=OP;var jP="SelectLabel",LP=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=Zz(jP,n);return v.jsx(Ze.div,{id:o.id,...r,ref:e})});LP.displayName=jP;var jh="SelectItem",[Jz,IP]=wl(jh),DP=S.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:l,...c}=t,d=Ds(jh,n),f=Ms(jh,n),p=d.value===r,[y,_]=S.useState(l??""),[b,P]=S.useState(!1),k=vt(e,j=>{var O;return(O=f.itemRefCallback)==null?void 0:O.call(f,j,r,o)}),T=Cs(),C=S.useRef("touch"),A=()=>{o||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(Jz,{scope:n,value:r,disabled:o,textId:T,isSelected:p,onItemTextChange:S.useCallback(j=>{_(O=>O||((j==null?void 0:j.textContent)??"").trim())},[]),children:v.jsx(vf.ItemSlot,{scope:n,value:r,disabled:o,textValue:y,children:v.jsx(Ze.div,{role:"option","aria-labelledby":T,"data-highlighted":b?"":void 0,"aria-selected":p&&b,"data-state":p?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:k,onFocus:$e(c.onFocus,()=>P(!0)),onBlur:$e(c.onBlur,()=>P(!1)),onClick:$e(c.onClick,()=>{C.current!=="mouse"&&A()}),onPointerUp:$e(c.onPointerUp,()=>{C.current==="mouse"&&A()}),onPointerDown:$e(c.onPointerDown,j=>{C.current=j.pointerType}),onPointerMove:$e(c.onPointerMove,j=>{var O;C.current=j.pointerType,o?(O=f.onItemLeave)==null||O.call(f):C.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$e(c.onPointerLeave,j=>{var O;j.currentTarget===document.activeElement&&((O=f.onItemLeave)==null||O.call(f))}),onKeyDown:$e(c.onKeyDown,j=>{var D;((D=f.searchRef)==null?void 0:D.current)!==""&&j.key===" "||(Iz.includes(j.key)&&A(),j.key===" "&&j.preventDefault())})})})})});DP.displayName=jh;var Rc="SelectItemText",MP=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:o,...l}=t,c=Ds(Rc,n),d=Ms(Rc,n),f=IP(Rc,n),p=Fz(Rc,n),[y,_]=S.useState(null),b=vt(e,A=>_(A),f.onItemTextChange,A=>{var j;return(j=d.itemTextRefCallback)==null?void 0:j.call(d,A,f.value,f.disabled)}),P=y==null?void 0:y.textContent,k=S.useMemo(()=>v.jsx("option",{value:f.value,disabled:f.disabled,children:P},f.value),[f.disabled,f.value,P]),{onNativeOptionAdd:T,onNativeOptionRemove:C}=p;return Zt(()=>(T(k),()=>C(k)),[T,C,k]),v.jsxs(v.Fragment,{children:[v.jsx(Ze.span,{id:f.textId,...l,ref:b}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?jo.createPortal(l.children,c.valueNode):null]})});MP.displayName=Rc;var BP="SelectItemIndicator",FP=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return IP(BP,n).isSelected?v.jsx(Ze.span,{"aria-hidden":!0,...r,ref:e}):null});FP.displayName=BP;var kg="SelectScrollUpButton",zP=S.forwardRef((t,e)=>{const n=Ms(kg,t.__scopeSelect),r=Qv(kg,t.__scopeSelect),[o,l]=S.useState(!1),c=vt(e,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=f.scrollTop>0;l(p)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?v.jsx(VP,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});zP.displayName=kg;var Rg="SelectScrollDownButton",UP=S.forwardRef((t,e)=>{const n=Ms(Rg,t.__scopeSelect),r=Qv(Rg,t.__scopeSelect),[o,l]=S.useState(!1),c=vt(e,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=f.scrollHeight-f.clientHeight,y=Math.ceil(f.scrollTop)<p;l(y)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?v.jsx(VP,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});UP.displayName=Rg;var VP=S.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=t,l=Ms("SelectScrollButton",n),c=S.useRef(null),d=yf(n),f=S.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return S.useEffect(()=>()=>f(),[f]),Zt(()=>{var y;const p=d().find(_=>_.ref.current===document.activeElement);(y=p==null?void 0:p.ref.current)==null||y.scrollIntoView({block:"nearest"})},[d]),v.jsx(Ze.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:$e(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:$e(o.onPointerMove,()=>{var p;(p=l.onItemLeave)==null||p.call(l),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:$e(o.onPointerLeave,()=>{f()})})}),Yz="SelectSeparator",$P=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return v.jsx(Ze.div,{"aria-hidden":!0,...r,ref:e})});$P.displayName=Yz;var Ag="SelectArrow",Xz=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=_f(n),l=Ds(Ag,n),c=Ms(Ag,n);return l.open&&c.position==="popper"?v.jsx(Pz,{...o,...r,ref:e}):null});Xz.displayName=Ag;var Qz="SelectBubbleInput",WP=S.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const o=S.useRef(null),l=vt(r,o),c=jz(e);return S.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==e&&y){const _=new Event("change",{bubbles:!0});y.call(d,e),d.dispatchEvent(_)}},[c,e]),v.jsx(Ze.select,{...n,style:{...xb,...n.style},ref:l,defaultValue:e})});WP.displayName=Qz;function HP(t){return t===""||t===void 0}function qP(t){const e=or(t),n=S.useRef(""),r=S.useRef(0),o=S.useCallback(c=>{const d=n.current+c;e(d),(function f(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>f(""),1e3))})(d)},[e]),l=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,l]}function KP(t,e,n){const o=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let c=eU(t,Math.max(l,0));o.length===1&&(c=c.filter(p=>p!==n));const f=c.find(p=>p.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==n?f:void 0}function eU(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var tU=wP,ZP=bP,nU=EP,rU=TP,iU=PP,GP=CP,sU=NP,JP=LP,YP=DP,oU=MP,aU=FP,XP=zP,QP=UP,eC=$P;const lU=tU,cU=nU,tC=S.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(ZP,{ref:r,className:it("flex h-10 w-full items-center justify-between rounded-lg border border-gray-600 bg-gray-800/50 px-3 py-2 text-sm text-gray-100 ring-offset-gray-900 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 hover:border-gray-500 transition-all [&>span]:line-clamp-1",t),...n,children:[e,v.jsx(rU,{asChild:!0,children:v.jsx(Ib,{className:"h-4 w-4 opacity-50"})})]}));tC.displayName=ZP.displayName;const nC=S.forwardRef(({className:t,...e},n)=>v.jsx(XP,{ref:n,className:it("flex cursor-default items-center justify-center py-1",t),...e,children:v.jsx(qN,{className:"h-4 w-4"})}));nC.displayName=XP.displayName;const rC=S.forwardRef(({className:t,...e},n)=>v.jsx(QP,{ref:n,className:it("flex cursor-default items-center justify-center py-1",t),...e,children:v.jsx(Ib,{className:"h-4 w-4"})}));rC.displayName=QP.displayName;const iC=S.forwardRef(({className:t,children:e,position:n="popper",...r},o)=>v.jsx(iU,{children:v.jsxs(GP,{ref:o,className:it("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-lg border border-gray-600 bg-gray-800 text-gray-100 shadow-xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[v.jsx(nC,{}),v.jsx(sU,{className:it("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),v.jsx(rC,{})]})}));iC.displayName=GP.displayName;const uU=S.forwardRef(({className:t,...e},n)=>v.jsx(JP,{ref:n,className:it("py-1.5 pl-8 pr-2 text-sm font-semibold text-gray-400",t),...e}));uU.displayName=JP.displayName;const sC=S.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(YP,{ref:r,className:it("relative flex w-full cursor-pointer select-none items-center rounded-md py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-gray-700 focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50 hover:bg-gray-700",t),...n,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(aU,{children:v.jsx(HN,{className:"h-4 w-4 text-cyan-400"})})}),v.jsx(oU,{children:e})]}));sC.displayName=YP.displayName;const dU=S.forwardRef(({className:t,...e},n)=>v.jsx(eC,{ref:n,className:it("-mx-1 my-1 h-px bg-gray-600",t),...e}));dU.displayName=eC.displayName;function oC(t,e){const n=S.useRef(e);S.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}function hU(t,e,n){e.center!==n.center&&t.setLatLng(e.center),e.radius!=null&&e.radius!==n.radius&&t.setRadius(e.radius)}const fU=1;function pU(t){return Object.freeze({__version:fU,map:t})}function mU(t,e){return Object.freeze({...t,...e})}const aC=S.createContext(null),lC=aC.Provider;function wf(){const t=S.useContext(aC);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function gU(t){function e(n,r){const{instance:o,context:l}=t(n).current;return S.useImperativeHandle(r,()=>o),n.children==null?null:Sn.createElement(lC,{value:l},n.children)}return S.forwardRef(e)}function vU(t){function e(n,r){const[o,l]=S.useState(!1),{instance:c}=t(n,l).current;S.useImperativeHandle(r,()=>c),S.useEffect(function(){o&&c.update()},[c,o,n.children]);const d=c._contentNode;return d?jo.createPortal(n.children,d):null}return S.forwardRef(e)}function yU(t){function e(n,r){const{instance:o}=t(n).current;return S.useImperativeHandle(r,()=>o),null}return S.forwardRef(e)}function ey(t,e){const n=S.useRef();S.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function xf(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function _U(t,e){return function(r,o){const l=wf(),c=t(xf(r,l),l);return oC(l.map,r.attribution),ey(c.current,r.eventHandlers),e(c.current,l,r,o),c}}var Ac={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var wU=Ac.exports,$x;function xU(){return $x||($x=1,(function(t,e){(function(n,r){r(e)})(wU,(function(n){var r="1.9.4";function o(s){var u,m,w,R;for(m=1,w=arguments.length;m<w;m++){R=arguments[m];for(u in R)s[u]=R[u]}return s}var l=Object.create||(function(){function s(){}return function(u){return s.prototype=u,new s}})();function c(s,u){var m=Array.prototype.slice;if(s.bind)return s.bind.apply(s,m.call(arguments,1));var w=m.call(arguments,2);return function(){return s.apply(u,w.length?w.concat(m.call(arguments)):arguments)}}var d=0;function f(s){return"_leaflet_id"in s||(s._leaflet_id=++d),s._leaflet_id}function p(s,u,m){var w,R,I,F;return F=function(){w=!1,R&&(I.apply(m,R),R=!1)},I=function(){w?R=arguments:(s.apply(m,arguments),setTimeout(F,u),w=!0)},I}function y(s,u,m){var w=u[1],R=u[0],I=w-R;return s===w&&m?s:((s-R)%I+I)%I+R}function _(){return!1}function b(s,u){if(u===!1)return s;var m=Math.pow(10,u===void 0?6:u);return Math.round(s*m)/m}function P(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function k(s){return P(s).split(/\s+/)}function T(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?l(s.options):{});for(var m in u)s.options[m]=u[m];return s.options}function C(s,u,m){var w=[];for(var R in s)w.push(encodeURIComponent(m?R.toUpperCase():R)+"="+encodeURIComponent(s[R]));return(!u||u.indexOf("?")===-1?"?":"&")+w.join("&")}var A=/\{ *([\w_ -]+) *\}/g;function j(s,u){return s.replace(A,function(m,w){var R=u[w];if(R===void 0)throw new Error("No value provided for variable "+m);return typeof R=="function"&&(R=R(u)),R})}var O=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function D(s,u){for(var m=0;m<s.length;m++)if(s[m]===u)return m;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function W(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var H=0;function X(s){var u=+new Date,m=Math.max(0,16-(u-H));return H=u+m,window.setTimeout(s,m)}var ue=window.requestAnimationFrame||W("RequestAnimationFrame")||X,ye=window.cancelAnimationFrame||W("CancelAnimationFrame")||W("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function pe(s,u,m){if(m&&ue===X)s.call(u);else return ue.call(window,c(s,u))}function le(s){s&&ye.call(window,s)}var be={__proto__:null,extend:o,create:l,bind:c,get lastId(){return d},stamp:f,throttle:p,wrapNum:y,falseFn:_,formatNum:b,trim:P,splitWords:k,setOptions:T,getParamString:C,template:j,isArray:O,indexOf:D,emptyImageUrl:z,requestFn:ue,cancelFn:ye,requestAnimFrame:pe,cancelAnimFrame:le};function G(){}G.extend=function(s){var u=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=u.__super__=this.prototype,w=l(m);w.constructor=u,u.prototype=w;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(u[R]=this[R]);return s.statics&&o(u,s.statics),s.includes&&(se(s.includes),o.apply(null,[w].concat(s.includes))),o(w,s),delete w.statics,delete w.includes,w.options&&(w.options=m.options?l(m.options):{},o(w.options,s.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,F=w._initHooks.length;I<F;I++)w._initHooks[I].call(this)}},u},G.include=function(s){var u=this.prototype.options;return o(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},G.mergeOptions=function(s){return o(this.prototype.options,s),this},G.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),m=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function se(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=O(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ne={on:function(s,u,m){if(typeof s=="object")for(var w in s)this._on(w,s[w],u);else{s=k(s);for(var R=0,I=s.length;R<I;R++)this._on(s[R],u,m)}return this},off:function(s,u,m){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var w in s)this._off(w,s[w],u);else{s=k(s);for(var R=arguments.length===1,I=0,F=s.length;I<F;I++)R?this._off(s[I]):this._off(s[I],u,m)}return this},_on:function(s,u,m,w){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,m)===!1){m===this&&(m=void 0);var R={fn:u,ctx:m};w&&(R.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(R)}},_off:function(s,u,m){var w,R,I;if(this._events&&(w=this._events[s],!!w)){if(arguments.length===1){if(this._firingCount)for(R=0,I=w.length;R<I;R++)w[R].fn=_;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var F=this._listens(s,u,m);if(F!==!1){var q=w[F];this._firingCount&&(q.fn=_,this._events[s]=w=w.slice()),w.splice(F,1)}}},fire:function(s,u,m){if(!this.listens(s,m))return this;var w=o({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var R=this._events[s];if(R){this._firingCount=this._firingCount+1||1;for(var I=0,F=R.length;I<F;I++){var q=R[I],J=q.fn;q.once&&this.off(s,J,q.ctx),J.call(q.ctx||this,w)}this._firingCount--}}return m&&this._propagateEvent(w),this},listens:function(s,u,m,w){typeof s!="string"&&console.warn('"string" type argument expected');var R=u;typeof u!="function"&&(w=!!u,R=void 0,m=void 0);var I=this._events&&this._events[s];if(I&&I.length&&this._listens(s,R,m)!==!1)return!0;if(w){for(var F in this._eventParents)if(this._eventParents[F].listens(s,u,m,w))return!0}return!1},_listens:function(s,u,m){if(!this._events)return!1;var w=this._events[s]||[];if(!u)return!!w.length;m===this&&(m=void 0);for(var R=0,I=w.length;R<I;R++)if(w[R].fn===u&&w[R].ctx===m)return R;return!1},once:function(s,u,m){if(typeof s=="object")for(var w in s)this._on(w,s[w],u,!0);else{s=k(s);for(var R=0,I=s.length;R<I;R++)this._on(s[R],u,m,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[f(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[f(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,o({layer:s.target,propagatedFrom:s.target},s),!0)}};ne.addEventListener=ne.on,ne.removeEventListener=ne.clearAllEventListeners=ne.off,ne.addOneTimeEventListener=ne.once,ne.fireEvent=ne.fire,ne.hasEventListeners=ne.listens;var oe=G.extend(ne);function V(s,u,m){this.x=m?Math.round(s):s,this.y=m?Math.round(u):u}var ce=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(s){return this.clone()._add(te(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(te(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new V(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new V(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ce(this.x),this.y=ce(this.y),this},distanceTo:function(s){s=te(s);var u=s.x-this.x,m=s.y-this.y;return Math.sqrt(u*u+m*m)},equals:function(s){return s=te(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=te(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function te(s,u,m){return s instanceof V?s:O(s)?new V(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new V(s.x,s.y):new V(s,u,m)}function B(s,u){if(s)for(var m=u?[s,u]:s,w=0,R=m.length;w<R;w++)this.extend(m[w])}B.prototype={extend:function(s){var u,m;if(!s)return this;if(s instanceof V||typeof s[0]=="number"||"x"in s)u=m=te(s);else if(s=Q(s),u=s.min,m=s.max,!u||!m)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=m.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(s){return te((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return te(this.min.x,this.max.y)},getTopRight:function(){return te(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,m;return typeof s[0]=="number"||s instanceof V?s=te(s):s=Q(s),s instanceof B?(u=s.min,m=s.max):u=m=s,u.x>=this.min.x&&m.x<=this.max.x&&u.y>=this.min.y&&m.y<=this.max.y},intersects:function(s){s=Q(s);var u=this.min,m=this.max,w=s.min,R=s.max,I=R.x>=u.x&&w.x<=m.x,F=R.y>=u.y&&w.y<=m.y;return I&&F},overlaps:function(s){s=Q(s);var u=this.min,m=this.max,w=s.min,R=s.max,I=R.x>u.x&&w.x<m.x,F=R.y>u.y&&w.y<m.y;return I&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,m=this.max,w=Math.abs(u.x-m.x)*s,R=Math.abs(u.y-m.y)*s;return Q(te(u.x-w,u.y-R),te(m.x+w,m.y+R))},equals:function(s){return s?(s=Q(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function Q(s,u){return!s||s instanceof B?s:new B(s,u)}function _e(s,u){if(s)for(var m=u?[s,u]:s,w=0,R=m.length;w<R;w++)this.extend(m[w])}_e.prototype={extend:function(s){var u=this._southWest,m=this._northEast,w,R;if(s instanceof he)w=s,R=s;else if(s instanceof _e){if(w=s._southWest,R=s._northEast,!w||!R)return this}else return s?this.extend(ve(s)||me(s)):this;return!u&&!m?(this._southWest=new he(w.lat,w.lng),this._northEast=new he(R.lat,R.lng)):(u.lat=Math.min(w.lat,u.lat),u.lng=Math.min(w.lng,u.lng),m.lat=Math.max(R.lat,m.lat),m.lng=Math.max(R.lng,m.lng)),this},pad:function(s){var u=this._southWest,m=this._northEast,w=Math.abs(u.lat-m.lat)*s,R=Math.abs(u.lng-m.lng)*s;return new _e(new he(u.lat-w,u.lng-R),new he(m.lat+w,m.lng+R))},getCenter:function(){return new he((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new he(this.getNorth(),this.getWest())},getSouthEast:function(){return new he(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof he||"lat"in s?s=ve(s):s=me(s);var u=this._southWest,m=this._northEast,w,R;return s instanceof _e?(w=s.getSouthWest(),R=s.getNorthEast()):w=R=s,w.lat>=u.lat&&R.lat<=m.lat&&w.lng>=u.lng&&R.lng<=m.lng},intersects:function(s){s=me(s);var u=this._southWest,m=this._northEast,w=s.getSouthWest(),R=s.getNorthEast(),I=R.lat>=u.lat&&w.lat<=m.lat,F=R.lng>=u.lng&&w.lng<=m.lng;return I&&F},overlaps:function(s){s=me(s);var u=this._southWest,m=this._northEast,w=s.getSouthWest(),R=s.getNorthEast(),I=R.lat>u.lat&&w.lat<m.lat,F=R.lng>u.lng&&w.lng<m.lng;return I&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=me(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function me(s,u){return s instanceof _e?s:new _e(s,u)}function he(s,u,m){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,m!==void 0&&(this.alt=+m)}he.prototype={equals:function(s,u){if(!s)return!1;s=ve(s);var m=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return m<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+b(this.lat,s)+", "+b(this.lng,s)+")"},distanceTo:function(s){return Ee.distance(this,ve(s))},wrap:function(){return Ee.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,m=u/Math.cos(Math.PI/180*this.lat);return me([this.lat-u,this.lng-m],[this.lat+u,this.lng+m])},clone:function(){return new he(this.lat,this.lng,this.alt)}};function ve(s,u,m){return s instanceof he?s:O(s)&&typeof s[0]!="object"?s.length===3?new he(s[0],s[1],s[2]):s.length===2?new he(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new he(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new he(s,u,m)}var ge={latLngToPoint:function(s,u){var m=this.projection.project(s),w=this.scale(u);return this.transformation._transform(m,w)},pointToLatLng:function(s,u){var m=this.scale(u),w=this.transformation.untransform(s,m);return this.projection.unproject(w)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,m=this.scale(s),w=this.transformation.transform(u.min,m),R=this.transformation.transform(u.max,m);return new B(w,R)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?y(s.lng,this.wrapLng,!0):s.lng,m=this.wrapLat?y(s.lat,this.wrapLat,!0):s.lat,w=s.alt;return new he(m,u,w)},wrapLatLngBounds:function(s){var u=s.getCenter(),m=this.wrapLatLng(u),w=u.lat-m.lat,R=u.lng-m.lng;if(w===0&&R===0)return s;var I=s.getSouthWest(),F=s.getNorthEast(),q=new he(I.lat-w,I.lng-R),J=new he(F.lat-w,F.lng-R);return new _e(q,J)}},Ee=o({},ge,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var m=Math.PI/180,w=s.lat*m,R=u.lat*m,I=Math.sin((u.lat-s.lat)*m/2),F=Math.sin((u.lng-s.lng)*m/2),q=I*I+Math.cos(w)*Math.cos(R)*F*F,J=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*J}}),ze=6378137,Ue={R:ze,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,m=this.MAX_LATITUDE,w=Math.max(Math.min(m,s.lat),-m),R=Math.sin(w*u);return new V(this.R*s.lng*u,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(s){var u=180/Math.PI;return new he((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(function(){var s=ze*Math.PI;return new B([-s,-s],[s,s])})()};function Je(s,u,m,w){if(O(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=m,this._d=w}Je.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new V((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function Ye(s,u,m,w){return new Je(s,u,m,w)}var St=o({},Ee,{code:"EPSG:3857",projection:Ue,transformation:(function(){var s=.5/(Math.PI*Ue.R);return Ye(s,.5,-s,.5)})()}),Gt=o({},St,{code:"EPSG:900913"});function cr(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function ur(s,u){var m="",w,R,I,F,q,J;for(w=0,I=s.length;w<I;w++){for(q=s[w],R=0,F=q.length;R<F;R++)J=q[R],m+=(R?"L":"M")+J.x+" "+J.y;m+=u?Ce.svg?"z":"x":""}return m||"M0 0"}var Cn=document.documentElement.style,ni="ActiveXObject"in window,jr=ni&&!document.addEventListener,Mi="msLaunchUri"in navigator&&!("documentMode"in document),Lr=Jt("webkit"),Mo=Jt("android"),xl=Jt("android 2")||Jt("android 3"),gu=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),vu=Mo&&Jt("Google")&&gu<537&&!("AudioNode"in window),Bo=!!window.opera,Fo=!Mi&&Jt("chrome"),Bs=Jt("gecko")&&!Lr&&!Bo&&!ni,yu=!Fo&&Jt("safari"),Bi=Jt("phantom"),Fi="OTransition"in Cn,Sf=navigator.platform.indexOf("Win")===0,bl=ni&&"transition"in Cn,zo="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!xl,_u="MozPerspective"in Cn,Sl=!window.L_DISABLE_3D&&(bl||zo||_u)&&!Fi&&!Bi,ri=typeof orientation<"u"||Jt("mobile"),El=ri&&Lr,Tl=ri&&zo,Uo=!window.PointerEvent&&window.MSPointerEvent,ii=!!(window.PointerEvent||Uo),si="ontouchstart"in window||!!window.TouchEvent,wu=!window.L_NO_TOUCH&&(si||ii),xu=ri&&Bo,bu=ri&&Bs,Su=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Eu=(function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",_,u),window.removeEventListener("testPassiveEventSupport",_,u)}catch{}return s})(),Pl=(function(){return!!document.createElement("canvas").getContext})(),Vo=!!(document.createElementNS&&cr("svg").createSVGRect),Fs=!!Vo&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Cl=!Vo&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),zs=navigator.platform.indexOf("Mac")===0,Ef=navigator.platform.indexOf("Linux")===0;function Jt(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ce={ie:ni,ielt9:jr,edge:Mi,webkit:Lr,android:Mo,android23:xl,androidStock:vu,opera:Bo,chrome:Fo,gecko:Bs,safari:yu,phantom:Bi,opera12:Fi,win:Sf,ie3d:bl,webkit3d:zo,gecko3d:_u,any3d:Sl,mobile:ri,mobileWebkit:El,mobileWebkit3d:Tl,msPointer:Uo,pointer:ii,touch:wu,touchNative:si,mobileOpera:xu,mobileGecko:bu,retina:Su,passiveEvents:Eu,canvas:Pl,svg:Vo,vml:Cl,inlineSvg:Fs,mac:zs,linux:Ef},Us=Ce.msPointer?"MSPointerDown":"pointerdown",$o=Ce.msPointer?"MSPointerMove":"pointermove",Tu=Ce.msPointer?"MSPointerUp":"pointerup",Pu=Ce.msPointer?"MSPointerCancel":"pointercancel",kl={touchstart:Us,touchmove:$o,touchend:Tu,touchcancel:Pu},Ir={touchstart:yt,touchmove:Wo,touchend:Wo,touchcancel:Wo},oi={},Rl=!1;function Tf(s,u,m){return u==="touchstart"&&Pf(),Ir[u]?(m=Ir[u].bind(this,m),s.addEventListener(kl[u],m,!1),m):(console.warn("wrong event specified:",u),_)}function Cu(s,u,m){if(!kl[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(kl[u],m,!1)}function ku(s){oi[s.pointerId]=s}function Ru(s){oi[s.pointerId]&&(oi[s.pointerId]=s)}function Al(s){delete oi[s.pointerId]}function Pf(){Rl||(document.addEventListener(Us,ku,!0),document.addEventListener($o,Ru,!0),document.addEventListener(Tu,Al,!0),document.addEventListener(Pu,Al,!0),Rl=!0)}function Wo(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var m in oi)u.touches.push(oi[m]);u.changedTouches=[u],s(u)}}function yt(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&_t(u),Wo(s,u)}function Cf(s){var u={},m,w;for(w in s)m=s[w],u[w]=m&&m.bind?m.bind(s):m;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Nl=200;function Au(s,u){s.addEventListener("dblclick",u);var m=0,w;function R(I){if(I.detail!==1){w=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var F=ci(I);if(!(F.some(function(J){return J instanceof HTMLLabelElement&&J.attributes.for})&&!F.some(function(J){return J instanceof HTMLInputElement||J instanceof HTMLSelectElement}))){var q=Date.now();q-m<=Nl?(w++,w===2&&u(Cf(I))):w=1,m=q}}}return s.addEventListener("click",R),{dblclick:u,simDblclick:R}}function Ho(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var Ol=$i(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),zi=$i(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Vs=zi==="webkitTransition"||zi==="OTransition"?zi+"End":"transitionend";function kn(s){return typeof s=="string"?document.getElementById(s):s}function $s(s,u){var m=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!m||m==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(s,null);m=w?w[u]:null}return m==="auto"?null:m}function Ve(s,u,m){var w=document.createElement(s);return w.className=u||"",m&&m.appendChild(w),w}function ht(s){var u=s.parentNode;u&&u.removeChild(s)}function qo(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Ui(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function dr(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function Vi(s,u){if(s.classList!==void 0)return s.classList.contains(u);var m=Ko(s);return m.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(m)}function Fe(s,u){if(s.classList!==void 0)for(var m=k(u),w=0,R=m.length;w<R;w++)s.classList.add(m[w]);else if(!Vi(s,u)){var I=Ko(s);jl(s,(I?I+" ":"")+u)}}function ct(s,u){s.classList!==void 0?s.classList.remove(u):jl(s,P((" "+Ko(s)+" ").replace(" "+u+" "," ")))}function jl(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function Ko(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Yt(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&Nu(s,u)}function Nu(s,u){var m=!1,w="DXImageTransform.Microsoft.Alpha";try{m=s.filters.item(w)}catch{if(u===1)return}u=Math.round(u*100),m?(m.Enabled=u!==100,m.Opacity=u):s.style.filter+=" progid:"+w+"(opacity="+u+")"}function $i(s){for(var u=document.documentElement.style,m=0;m<s.length;m++)if(s[m]in u)return s[m];return!1}function Rn(s,u,m){var w=u||new V(0,0);s.style[Ol]=(Ce.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(m?" scale("+m+")":"")}function Et(s,u){s._leaflet_pos=u,Ce.any3d?Rn(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function hr(s){return s._leaflet_pos||new V(0,0)}var tt,Wi,Zo;if("onselectstart"in document)tt=function(){De(window,"selectstart",_t)},Wi=function(){ot(window,"selectstart",_t)};else{var ai=$i(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);tt=function(){if(ai){var s=document.documentElement.style;Zo=s[ai],s[ai]="none"}},Wi=function(){ai&&(document.documentElement.style[ai]=Zo,Zo=void 0)}}function Go(){De(window,"dragstart",_t)}function Jo(){ot(window,"dragstart",_t)}var Ws,Hs;function Hi(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(An(),Ws=s,Hs=s.style.outlineStyle,s.style.outlineStyle="none",De(window,"keydown",An))}function An(){Ws&&(Ws.style.outlineStyle=Hs,Ws=void 0,Hs=void 0,ot(window,"keydown",An))}function fr(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function qn(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var qs={__proto__:null,TRANSFORM:Ol,TRANSITION:zi,TRANSITION_END:Vs,get:kn,getStyle:$s,create:Ve,remove:ht,empty:qo,toFront:Ui,toBack:dr,hasClass:Vi,addClass:Fe,removeClass:ct,setClass:jl,getClass:Ko,setOpacity:Yt,testProp:$i,setTransform:Rn,setPosition:Et,getPosition:hr,get disableTextSelection(){return tt},get enableTextSelection(){return Wi},disableImageDrag:Go,enableImageDrag:Jo,preventOutline:Hi,restoreOutline:An,getSizedParentNode:fr,getScale:qn};function De(s,u,m,w){if(u&&typeof u=="object")for(var R in u)Il(s,R,u[R],m);else{u=k(u);for(var I=0,F=u.length;I<F;I++)Il(s,u[I],m,w)}return this}var It="_leaflet_events";function ot(s,u,m,w){if(arguments.length===1)Ll(s),delete s[It];else if(u&&typeof u=="object")for(var R in u)Yo(s,R,u[R],m);else if(u=k(u),arguments.length===2)Ll(s,function(q){return D(u,q)!==-1});else for(var I=0,F=u.length;I<F;I++)Yo(s,u[I],m,w);return this}function Ll(s,u){for(var m in s[It]){var w=m.split(/\d/)[0];(!u||u(w))&&Yo(s,w,null,null,m)}}var li={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Il(s,u,m,w){var R=u+f(m)+(w?"_"+f(w):"");if(s[It]&&s[It][R])return this;var I=function(q){return m.call(w||s,q||window.event)},F=I;!Ce.touchNative&&Ce.pointer&&u.indexOf("touch")===0?I=Tf(s,u,I):Ce.touch&&u==="dblclick"?I=Au(s,I):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(li[u]||u,I,Ce.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(I=function(q){q=q||window.event,Gs(s,q)&&F(q)},s.addEventListener(li[u],I,!1)):s.addEventListener(u,F,!1):s.attachEvent("on"+u,I),s[It]=s[It]||{},s[It][R]=I}function Yo(s,u,m,w,R){R=R||u+f(m)+(w?"_"+f(w):"");var I=s[It]&&s[It][R];if(!I)return this;!Ce.touchNative&&Ce.pointer&&u.indexOf("touch")===0?Cu(s,u,I):Ce.touch&&u==="dblclick"?Ho(s,I):"removeEventListener"in s?s.removeEventListener(li[u]||u,I,!1):s.detachEvent("on"+u,I),s[It][R]=null}function Kn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Xo(s){return Il(s,"wheel",Kn),this}function Ks(s){return De(s,"mousedown touchstart dblclick contextmenu",Kn),s._leaflet_disable_click=!0,this}function _t(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Nn(s){return _t(s),Kn(s),this}function ci(s){if(s.composedPath)return s.composedPath();for(var u=[],m=s.target;m;)u.push(m),m=m.parentNode;return u}function Zs(s,u){if(!u)return new V(s.clientX,s.clientY);var m=qn(u),w=m.boundingClientRect;return new V((s.clientX-w.left)/m.x-u.clientLeft,(s.clientY-w.top)/m.y-u.clientTop)}var kf=Ce.linux&&Ce.chrome?window.devicePixelRatio:Ce.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ou(s){return Ce.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/kf:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Gs(s,u){var m=u.relatedTarget;if(!m)return!0;try{for(;m&&m!==s;)m=m.parentNode}catch{return!1}return m!==s}var Qo={__proto__:null,on:De,off:ot,stopPropagation:Kn,disableScrollPropagation:Xo,disableClickPropagation:Ks,preventDefault:_t,stop:Nn,getPropagationPath:ci,getMousePosition:Zs,getWheelDelta:Ou,isExternalTarget:Gs,addListener:De,removeListener:ot},ea=oe.extend({run:function(s,u,m,w){this.stop(),this._el=s,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=hr(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=pe(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,m=this._duration*1e3;u<m?this._runFrame(this._easeOut(u/m),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var m=this._startPos.add(this._offset.multiplyBy(s));u&&m._round(),Et(this._el,m),this.fire("step")},_complete:function(){le(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Xe=oe.extend({options:{crs:St,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=T(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(ve(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=zi&&Ce.any3d&&!Ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),De(this._proxy,Vs,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,m){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(ve(s),u,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=o({animate:m.animate},m.zoom),m.pan=o({animate:m.animate,duration:m.duration},m.pan));var w=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,m.zoom):this._tryAnimatedPan(s,m.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,m.pan&&m.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,m){var w=this.getZoomScale(u),R=this.getSize().divideBy(2),I=s instanceof V?s:this.latLngToContainerPoint(s),F=I.subtract(R).multiplyBy(1-1/w),q=this.containerPointToLatLng(R.add(F));return this.setView(q,u,{zoom:m})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():me(s);var m=te(u.paddingTopLeft||u.padding||[0,0]),w=te(u.paddingBottomRight||u.padding||[0,0]),R=this.getBoundsZoom(s,!1,m.add(w));if(R=typeof u.maxZoom=="number"?Math.min(u.maxZoom,R):R,R===1/0)return{center:s.getCenter(),zoom:R};var I=w.subtract(m).divideBy(2),F=this.project(s.getSouthWest(),R),q=this.project(s.getNorthEast(),R),J=this.unproject(F.add(q).divideBy(2).add(I),R);return{center:J,zoom:R}},fitBounds:function(s,u){if(s=me(s),!s.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(s,u);return this.setView(m.center,m.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=te(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ea,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Fe(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,m,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,m){if(m=m||{},m.animate===!1||!Ce.any3d)return this.setView(s,u,m);this._stop();var w=this.project(this.getCenter()),R=this.project(s),I=this.getSize(),F=this._zoom;s=ve(s),u=u===void 0?F:u;var q=Math.max(I.x,I.y),J=q*this.getZoomScale(F,u),re=R.distanceTo(w)||1,we=1.42,Ae=we*we;function We(st){var os=st?-1:1,Vf=st?J:q,$f=J*J-q*q+os*Ae*Ae*re*re,gi=2*Vf*Ae*re,vi=$f/gi,yi=Math.sqrt(vi*vi+1)-vi,pa=yi<1e-9?-18:Math.log(yi);return pa}function Dt(st){return(Math.exp(st)-Math.exp(-st))/2}function Ot(st){return(Math.exp(st)+Math.exp(-st))/2}function dn(st){return Dt(st)/Ot(st)}var Qt=We(0);function is(st){return q*(Ot(Qt)/Ot(Qt+we*st))}function nc(st){return q*(Ot(Qt)*dn(Qt+we*st)-Dt(Qt))/Ae}function $r(st){return 1-Math.pow(1-st,1.5)}var Qu=Date.now(),mi=(We(1)-Qt)/we,Yn=m.duration?1e3*m.duration:1e3*mi*.8;function ss(){var st=(Date.now()-Qu)/Yn,os=$r(st)*mi;st<=1?(this._flyToFrame=pe(ss,this),this._move(this.unproject(w.add(R.subtract(w).multiplyBy(nc(os)/re)),F),this.getScaleZoom(q/is(os),F),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),ss.call(this),this},flyToBounds:function(s,u){var m=this._getBoundsCenterZoom(s,u);return this.flyTo(m.center,m.zoom,u)},setMaxBounds:function(s){return s=me(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var m=this.getCenter(),w=this._limitCenter(m,this._zoom,me(s));return m.equals(w)||this.panTo(w,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var m=te(u.paddingTopLeft||u.padding||[0,0]),w=te(u.paddingBottomRight||u.padding||[0,0]),R=this.project(this.getCenter()),I=this.project(s),F=this.getPixelBounds(),q=Q([F.min.add(m),F.max.subtract(w)]),J=q.getSize();if(!q.contains(I)){this._enforcingBounds=!0;var re=I.subtract(q.getCenter()),we=q.extend(I).getSize().subtract(J);R.x+=re.x<0?-we.x:we.x,R.y+=re.y<0?-we.y:we.y,this.panTo(this.unproject(R),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=o({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),w=u.divideBy(2).round(),R=m.divideBy(2).round(),I=w.subtract(R);return!I.x&&!I.y?this:(s.animate&&s.pan?this.panBy(I):(s.pan&&this._rawPanBy(I),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=o({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=c(this._handleGeolocationResponse,this),m=c(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,m,s):navigator.geolocation.getCurrentPosition(u,m,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,m=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,m=s.coords.longitude,w=new he(u,m),R=w.toBounds(s.coords.accuracy*2),I=this._locateOptions;if(I.setView){var F=this.getBoundsZoom(R);this.setView(w,I.maxZoom?Math.min(F,I.maxZoom):F)}var q={latlng:w,bounds:R,timestamp:s.timestamp};for(var J in s.coords)typeof s.coords[J]=="number"&&(q[J]=s.coords[J]);this.fire("locationfound",q)}},addHandler:function(s,u){if(!u)return this;var m=this[s]=new u(this);return this._handlers.push(m),this.options[s]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ht(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(le(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)ht(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var m="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),w=Ve("div",m,u||this._mapPane);return s&&(this._panes[s]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),m=this.unproject(s.getTopRight());return new _e(u,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,m){s=me(s),m=te(m||[0,0]);var w=this.getZoom()||0,R=this.getMinZoom(),I=this.getMaxZoom(),F=s.getNorthWest(),q=s.getSouthEast(),J=this.getSize().subtract(m),re=Q(this.project(q,w),this.project(F,w)).getSize(),we=Ce.any3d?this.options.zoomSnap:1,Ae=J.x/re.x,We=J.y/re.y,Dt=u?Math.max(Ae,We):Math.min(Ae,We);return w=this.getScaleZoom(Dt,w),we&&(w=Math.round(w/(we/100))*(we/100),w=u?Math.ceil(w/we)*we:Math.floor(w/we)*we),Math.max(R,Math.min(I,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var m=this._getTopLeftPoint(s,u);return new B(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var m=this.options.crs;return u=u===void 0?this._zoom:u,m.scale(s)/m.scale(u)},getScaleZoom:function(s,u){var m=this.options.crs;u=u===void 0?this._zoom:u;var w=m.zoom(s*m.scale(u));return isNaN(w)?1/0:w},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(ve(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(te(s),u)},layerPointToLatLng:function(s){var u=te(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(ve(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ve(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(me(s))},distance:function(s,u){return this.options.crs.distance(ve(s),ve(u))},containerPointToLayerPoint:function(s){return te(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return te(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(te(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ve(s)))},mouseEventToContainerPoint:function(s){return Zs(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=kn(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");De(u,"scroll",this._onScroll,this),this._containerId=f(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ce.any3d,Fe(s,"leaflet-container"+(Ce.touch?" leaflet-touch":"")+(Ce.retina?" leaflet-retina":"")+(Ce.ielt9?" leaflet-oldie":"")+(Ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=$s(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Et(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Fe(s.markerPane,"leaflet-zoom-hide"),Fe(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,m){Et(this._mapPane,new V(0,0));var w=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var R=this._zoom!==u;this._moveStart(R,m)._move(s,u)._moveEnd(R),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,m,w){u===void 0&&(u=this._zoom);var R=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),w?m&&m.pinch&&this.fire("zoom",m):((R||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return le(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Et(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[f(this._container)]=this;var u=s?ot:De;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Ce.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){le(this._resizeRequest),this._resizeRequest=pe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var m=[],w,R=u==="mouseout"||u==="mouseover",I=s.target||s.srcElement,F=!1;I;){if(w=this._targets[f(I)],w&&(u==="click"||u==="preclick")&&this._draggableMoved(w)){F=!0;break}if(w&&w.listens(u,!0)&&(R&&!Gs(I,s)||(m.push(w),R))||I===this._container)break;I=I.parentNode}return!m.length&&!F&&!R&&this.listens(u,!0)&&(m=[this]),m},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var m=s.type;m==="mousedown"&&Hi(u),this._fireDOMEvent(s,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,m){if(s.type==="click"){var w=o({},s);w.type="preclick",this._fireDOMEvent(w,w.type,m)}var R=this._findEventTargets(s,u);if(m){for(var I=[],F=0;F<m.length;F++)m[F].listens(u,!0)&&I.push(m[F]);R=I.concat(R)}if(R.length){u==="contextmenu"&&_t(s);var q=R[0],J={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var re=q.getLatLng&&(!q._radius||q._radius<=10);J.containerPoint=re?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(s),J.layerPoint=this.containerPointToLayerPoint(J.containerPoint),J.latlng=re?q.getLatLng():this.layerPointToLatLng(J.layerPoint)}for(F=0;F<R.length;F++)if(R[F].fire(u,J,!0),J.originalEvent._stopped||R[F].options.bubblingMouseEvents===!1&&D(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return hr(this._mapPane)||new V(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var m=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var m=this.getSize()._divideBy(2);return this.project(s,u)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,m){var w=this._getNewPixelOrigin(m,u);return this.project(s,u)._subtract(w)},_latLngBoundsToNewLayerBounds:function(s,u,m){var w=this._getNewPixelOrigin(m,u);return Q([this.project(s.getSouthWest(),u)._subtract(w),this.project(s.getNorthWest(),u)._subtract(w),this.project(s.getSouthEast(),u)._subtract(w),this.project(s.getNorthEast(),u)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,m){if(!m)return s;var w=this.project(s,u),R=this.getSize().divideBy(2),I=new B(w.subtract(R),w.add(R)),F=this._getBoundsOffset(I,m,u);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?s:this.unproject(w.add(F),u)},_limitOffset:function(s,u){if(!u)return s;var m=this.getPixelBounds(),w=new B(m.min.add(s),m.max.add(s));return s.add(this._getBoundsOffset(w,u))},_getBoundsOffset:function(s,u,m){var w=Q(this.project(u.getNorthEast(),m),this.project(u.getSouthWest(),m)),R=w.min.subtract(s.min),I=w.max.subtract(s.max),F=this._rebound(R.x,-I.x),q=this._rebound(R.y,-I.y);return new V(F,q)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),m=this.getMaxZoom(),w=Ce.any3d?this.options.zoomSnap:1;return w&&(s=Math.round(s/w)*w),Math.max(u,Math.min(m,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ct(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var m=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,u),!0)},_createAnimProxy:function(){var s=this._proxy=Ve("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var m=Ol,w=this._proxy.style[m];Rn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),w===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ht(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();Rn(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(u),R=this._getCenterOffset(s)._divideBy(1-1/w);return m.animate!==!0&&!this.getSize().contains(R)?!1:(pe(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,m,w){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,Fe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ct(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Dr(s,u){return new Xe(s,u)}var cn=G.extend({options:{position:"topright"},initialize:function(s){T(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),m=this.getPosition(),w=s._controlCorners[m];return Fe(u,"leaflet-control"),m.indexOf("bottom")!==-1?w.insertBefore(u,w.firstChild):w.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ht(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Mr=function(s){return new cn(s)};Xe.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",m=this._controlContainer=Ve("div",u+"control-container",this._container);function w(R,I){var F=u+R+" "+u+I;s[R+I]=Ve("div",F,m)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)ht(this._controlCorners[s]);ht(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Dl=cn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,m,w){return m<w?-1:w<m?1:0}},initialize:function(s,u,m){T(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in s)this._addLayer(s[w],w);for(w in u)this._addLayer(u[w],w,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return cn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(f(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Fe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Fe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):ct(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ct(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Ve("div",s),m=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Ks(u),Xo(u);var w=this._section=Ve("section",s+"-list");m&&(this._map.on("click",this.collapse,this),De(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=Ve("a",s+"-toggle",u);R.href="#",R.title="Layers",R.setAttribute("role","button"),De(R,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){_t(I),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Ve("div",s+"-base",w),this._separator=Ve("div",s+"-separator",w),this._overlaysList=Ve("div",s+"-overlays",w),u.appendChild(w)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&f(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,m){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:m}),this.options.sortLayers&&this._layers.sort(c(function(w,R){return this.options.sortFunction(w.layer,R.layer,w.name,R.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;qo(this._baseLayersList),qo(this._overlaysList),this._layerControlInputs=[];var s,u,m,w,R=0;for(m=0;m<this._layers.length;m++)w=this._layers[m],this._addItem(w),u=u||w.overlay,s=s||!w.overlay,R+=w.overlay?0:1;return this.options.hideSingleBase&&(s=s&&R>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(f(s.target)),m=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;m&&this._map.fire(m,u)},_createRadioElement:function(s,u){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=m,w.firstChild},_addItem:function(s){var u=document.createElement("label"),m=this._map.hasLayer(s.layer),w;s.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=m):w=this._createRadioElement("leaflet-base-layers_"+f(this),m),this._layerControlInputs.push(w),w.layerId=f(s.layer),De(w,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+s.name;var I=document.createElement("span");u.appendChild(I),I.appendChild(w),I.appendChild(R);var F=s.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,m,w=[],R=[];this._handlingClick=!0;for(var I=s.length-1;I>=0;I--)u=s[I],m=this._getLayer(u.layerId).layer,u.checked?w.push(m):u.checked||R.push(m);for(I=0;I<R.length;I++)this._map.hasLayer(R[I])&&this._map.removeLayer(R[I]);for(I=0;I<w.length;I++)this._map.hasLayer(w[I])||this._map.addLayer(w[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,m,w=this._map.getZoom(),R=s.length-1;R>=0;R--)u=s[R],m=this._getLayer(u.layerId).layer,u.disabled=m.options.minZoom!==void 0&&w<m.options.minZoom||m.options.maxZoom!==void 0&&w>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,De(s,"click",_t),this.expand();var u=this;setTimeout(function(){ot(s,"click",_t),u._preventClick=!1})}}),ta=function(s,u,m){return new Dl(s,u,m)},qi=cn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",m=Ve("div",u+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,u+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,u+"-out",m,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,m,w,R){var I=Ve("a",m,w);return I.innerHTML=s,I.href="#",I.title=u,I.setAttribute("role","button"),I.setAttribute("aria-label",u),Ks(I),De(I,"click",Nn),De(I,"click",R,this),De(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";ct(this._zoomInButton,u),ct(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Fe(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Fe(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xe.mergeOptions({zoomControl:!0}),Xe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new qi,this.addControl(this.zoomControl))});var ju=function(s){return new qi(s)},Xt=cn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",m=Ve("div",u),w=this.options;return this._addScales(w,u+"-line",m),s.on(w.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),m},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,m){s.metric&&(this._mScale=Ve("div",u,m)),s.imperial&&(this._iScale=Ve("div",u,m))},_update:function(){var s=this._map,u=s.getSize().y/2,m=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(m)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),m=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,m,u/s)},_updateImperial:function(s){var u=s*3.2808399,m,w,R;u>5280?(m=u/5280,w=this._getRoundNum(m),this._updateScale(this._iScale,w+" mi",w/m)):(R=this._getRoundNum(u),this._updateScale(this._iScale,R+" ft",R/u))},_updateScale:function(s,u,m){s.style.width=Math.round(this.options.maxWidth*m)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),m=s/u;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,u*m}}),Ki=function(s){return new Xt(s)},Ml='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ui=cn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ce.inlineSvg?Ml+" ":"")+"Leaflet</a>"},initialize:function(s){T(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Ve("div","leaflet-control-attribution"),Ks(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var m=[];this.options.prefix&&m.push(this.options.prefix),s.length&&m.push(s.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Xe.mergeOptions({attributionControl:!0}),Xe.addInitHook(function(){this.options.attributionControl&&new ui().addTo(this)});var Rf=function(s){return new ui(s)};cn.Layers=Dl,cn.Zoom=qi,cn.Scale=Xt,cn.Attribution=ui,Mr.layers=ta,Mr.zoom=ju,Mr.scale=Ki,Mr.attribution=Rf;var mn=G.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});mn.addTo=function(s,u){return s.addHandler(u,this),this};var Bl={Events:ne},Zi=Ce.touch?"touchstart mousedown":"mousedown",On=oe.extend({options:{clickTolerance:3},initialize:function(s,u,m,w){T(this,w),this._element=s,this._dragStartTarget=u||s,this._preventOutline=m},enable:function(){this._enabled||(De(this._dragStartTarget,Zi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(On._dragging===this&&this.finishDrag(!0),ot(this._dragStartTarget,Zi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Vi(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){On._dragging===this&&this.finishDrag();return}if(!(On._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(On._dragging=this,this._preventOutline&&Hi(this._element),Go(),tt(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,m=fr(this._element);this._startPoint=new V(u.clientX,u.clientY),this._startPos=hr(this._element),this._parentScale=qn(m);var w=s.type==="mousedown";De(document,w?"mousemove":"touchmove",this._onMove,this),De(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,m=new V(u.clientX,u.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,_t(s),this._moved||(this.fire("dragstart"),this._moved=!0,Fe(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Fe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Et(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){ct(document.body,"leaflet-dragging"),this._lastTarget&&(ct(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ot(document,"mousemove touchmove",this._onMove,this),ot(document,"mouseup touchend touchcancel",this._onUp,this),Jo(),Wi();var u=this._moved&&this._moving;this._moving=!1,On._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Fl(s,u,m){var w,R=[1,4,2,8],I,F,q,J,re,we,Ae,We;for(I=0,we=s.length;I<we;I++)s[I]._code=di(s[I],u);for(q=0;q<4;q++){for(Ae=R[q],w=[],I=0,we=s.length,F=we-1;I<we;F=I++)J=s[I],re=s[F],J._code&Ae?re._code&Ae||(We=ra(re,J,Ae,u,m),We._code=di(We,u),w.push(We)):(re._code&Ae&&(We=ra(re,J,Ae,u,m),We._code=di(We,u),w.push(We)),w.push(J));s=w}return s}function Lu(s,u){var m,w,R,I,F,q,J,re,we;if(!s||s.length===0)throw new Error("latlngs not passed");gn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ae=ve([0,0]),We=me(s),Dt=We.getNorthWest().distanceTo(We.getSouthWest())*We.getNorthEast().distanceTo(We.getNorthWest());Dt<1700&&(Ae=zl(s));var Ot=s.length,dn=[];for(m=0;m<Ot;m++){var Qt=ve(s[m]);dn.push(u.project(ve([Qt.lat-Ae.lat,Qt.lng-Ae.lng])))}for(q=J=re=0,m=0,w=Ot-1;m<Ot;w=m++)R=dn[m],I=dn[w],F=R.y*I.x-I.y*R.x,J+=(R.x+I.x)*F,re+=(R.y+I.y)*F,q+=F*3;q===0?we=dn[0]:we=[J/q,re/q];var is=u.unproject(te(we));return ve([is.lat+Ae.lat,is.lng+Ae.lng])}function zl(s){for(var u=0,m=0,w=0,R=0;R<s.length;R++){var I=ve(s[R]);u+=I.lat,m+=I.lng,w++}return ve([u/w,m/w])}var Af={__proto__:null,clipPolygon:Fl,polygonCenter:Lu,centroid:zl};function na(s,u){if(!u||!s.length)return s.slice();var m=u*u;return s=jf(s,m),s=Of(s,m),s}function Iu(s,u,m){return Math.sqrt(hi(s,u,m,!0))}function Nf(s,u,m){return hi(s,u,m)}function Of(s,u){var m=s.length,w=typeof Uint8Array<"u"?Uint8Array:Array,R=new w(m);R[0]=R[m-1]=1,Ul(s,R,u,0,m-1);var I,F=[];for(I=0;I<m;I++)R[I]&&F.push(s[I]);return F}function Ul(s,u,m,w,R){var I=0,F,q,J;for(q=w+1;q<=R-1;q++)J=hi(s[q],s[w],s[R],!0),J>I&&(F=q,I=J);I>m&&(u[F]=1,Ul(s,u,m,w,F),Ul(s,u,m,F,R))}function jf(s,u){for(var m=[s[0]],w=1,R=0,I=s.length;w<I;w++)Lf(s[w],s[R])>u&&(m.push(s[w]),R=w);return R<I-1&&m.push(s[I-1]),m}var Vl;function Du(s,u,m,w,R){var I=w?Vl:di(s,m),F=di(u,m),q,J,re;for(Vl=F;;){if(!(I|F))return[s,u];if(I&F)return!1;q=I||F,J=ra(s,u,q,m,R),re=di(J,m),q===I?(s=J,I=re):(u=J,F=re)}}function ra(s,u,m,w,R){var I=u.x-s.x,F=u.y-s.y,q=w.min,J=w.max,re,we;return m&8?(re=s.x+I*(J.y-s.y)/F,we=J.y):m&4?(re=s.x+I*(q.y-s.y)/F,we=q.y):m&2?(re=J.x,we=s.y+F*(J.x-s.x)/I):m&1&&(re=q.x,we=s.y+F*(q.x-s.x)/I),new V(re,we,R)}function di(s,u){var m=0;return s.x<u.min.x?m|=1:s.x>u.max.x&&(m|=2),s.y<u.min.y?m|=4:s.y>u.max.y&&(m|=8),m}function Lf(s,u){var m=u.x-s.x,w=u.y-s.y;return m*m+w*w}function hi(s,u,m,w){var R=u.x,I=u.y,F=m.x-R,q=m.y-I,J=F*F+q*q,re;return J>0&&(re=((s.x-R)*F+(s.y-I)*q)/J,re>1?(R=m.x,I=m.y):re>0&&(R+=F*re,I+=q*re)),F=s.x-R,q=s.y-I,w?F*F+q*q:new V(R,I)}function gn(s){return!O(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Mu(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),gn(s)}function Bu(s,u){var m,w,R,I,F,q,J,re;if(!s||s.length===0)throw new Error("latlngs not passed");gn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var we=ve([0,0]),Ae=me(s),We=Ae.getNorthWest().distanceTo(Ae.getSouthWest())*Ae.getNorthEast().distanceTo(Ae.getNorthWest());We<1700&&(we=zl(s));var Dt=s.length,Ot=[];for(m=0;m<Dt;m++){var dn=ve(s[m]);Ot.push(u.project(ve([dn.lat-we.lat,dn.lng-we.lng])))}for(m=0,w=0;m<Dt-1;m++)w+=Ot[m].distanceTo(Ot[m+1])/2;if(w===0)re=Ot[0];else for(m=0,I=0;m<Dt-1;m++)if(F=Ot[m],q=Ot[m+1],R=F.distanceTo(q),I+=R,I>w){J=(I-w)/R,re=[q.x-J*(q.x-F.x),q.y-J*(q.y-F.y)];break}var Qt=u.unproject(te(re));return ve([Qt.lat+we.lat,Qt.lng+we.lng])}var Fu={__proto__:null,simplify:na,pointToSegmentDistance:Iu,closestPointOnSegment:Nf,clipSegment:Du,_getEdgeIntersection:ra,_getBitCode:di,_sqClosestPointOnSegment:hi,isFlat:gn,_flat:Mu,polylineCenter:Bu},$l={project:function(s){return new V(s.lng,s.lat)},unproject:function(s){return new he(s.y,s.x)},bounds:new B([-180,-90],[180,90])},Wl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,m=this.R,w=s.lat*u,R=this.R_MINOR/m,I=Math.sqrt(1-R*R),F=I*Math.sin(w),q=Math.tan(Math.PI/4-w/2)/Math.pow((1-F)/(1+F),I/2);return w=-m*Math.log(Math.max(q,1e-10)),new V(s.lng*u*m,w)},unproject:function(s){for(var u=180/Math.PI,m=this.R,w=this.R_MINOR/m,R=Math.sqrt(1-w*w),I=Math.exp(-s.y/m),F=Math.PI/2-2*Math.atan(I),q=0,J=.1,re;q<15&&Math.abs(J)>1e-7;q++)re=R*Math.sin(F),re=Math.pow((1-re)/(1+re),R/2),J=Math.PI/2-2*Math.atan(I*re)-F,F+=J;return new he(F*u,s.x*u/m)}},If={__proto__:null,LonLat:$l,Mercator:Wl,SphericalMercator:Ue},Df=o({},Ee,{code:"EPSG:3395",projection:Wl,transformation:(function(){var s=.5/(Math.PI*Wl.R);return Ye(s,.5,-s,.5)})()}),zu=o({},Ee,{code:"EPSG:4326",projection:$l,transformation:Ye(1/180,1,-1/180,.5)}),Mf=o({},ge,{projection:$l,transformation:Ye(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var m=u.lng-s.lng,w=u.lat-s.lat;return Math.sqrt(m*m+w*w)},infinite:!0});ge.Earth=Ee,ge.EPSG3395=Df,ge.EPSG3857=St,ge.EPSG900913=Gt,ge.EPSG4326=zu,ge.Simple=Mf;var jn=oe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[f(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[f(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var m=this.getEvents();u.on(m,this),this.once("remove",function(){u.off(m,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Xe.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=f(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=f(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return f(s)in this._layers},eachLayer:function(s,u){for(var m in this._layers)s.call(u,this._layers[m]);return this},_addLayers:function(s){s=s?O(s)?s:[s]:[];for(var u=0,m=s.length;u<m;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[f(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=f(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,m=this._getZoomSpan();for(var w in this._zoomBoundLayers){var R=this._zoomBoundLayers[w].options;s=R.minZoom===void 0?s:Math.min(s,R.minZoom),u=R.maxZoom===void 0?u:Math.max(u,R.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Br=jn.extend({initialize:function(s,u){T(this,u),this._layers={};var m,w;if(s)for(m=0,w=s.length;m<w;m++)this.addLayer(s[m])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),m,w;for(m in this._layers)w=this._layers[m],w[s]&&w[s].apply(w,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var m in this._layers)s.call(u,this._layers[m]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return f(s)}}),Js=function(s,u){return new Br(s,u)},pr=Br.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Br.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Br.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new _e;for(var u in this._layers){var m=this._layers[u];s.extend(m.getBounds?m.getBounds():m.getLatLng())}return s}}),Uu=function(s,u){return new pr(s,u)},fi=G.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){T(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var m=this._getIconUrl(s);if(!m){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(m,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(w,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(s,u){var m=this.options,w=m[u+"Size"];typeof w=="number"&&(w=[w,w]);var R=te(w),I=te(u==="shadow"&&m.shadowAnchor||m.iconAnchor||R&&R.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(m.className||""),I&&(s.style.marginLeft=-I.x+"px",s.style.marginTop=-I.y+"px"),R&&(s.style.width=R.x+"px",s.style.height=R.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return Ce.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Vu(s){return new fi(s)}var Gi=fi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Gi.imagePath!="string"&&(Gi.imagePath=this._detectIconPath()),(this.options.imagePath||Gi.imagePath)+fi.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(m,w,R){var I=w.exec(m);return I&&I[R]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Ve("div","leaflet-default-icon-path",document.body),u=$s(s,"background-image")||$s(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Hl=mn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new On(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Fe(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ct(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,m=u._map,w=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,I=hr(u._icon),F=m.getPixelBounds(),q=m.getPixelOrigin(),J=Q(F.min._subtract(q).add(R),F.max._subtract(q).subtract(R));if(!J.contains(I)){var re=te((Math.max(J.max.x,I.x)-J.max.x)/(F.max.x-J.max.x)-(Math.min(J.min.x,I.x)-J.min.x)/(F.min.x-J.min.x),(Math.max(J.max.y,I.y)-J.max.y)/(F.max.y-J.max.y)-(Math.min(J.min.y,I.y)-J.min.y)/(F.min.y-J.min.y)).multiplyBy(w);m.panBy(re,{animate:!1}),this._draggable._newPos._add(re),this._draggable._startPos._add(re),Et(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=pe(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(le(this._panRequest),this._panRequest=pe(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,m=u._shadow,w=hr(u._icon),R=u._map.layerPointToLatLng(w);m&&Et(m,w),u._latlng=R,s.latlng=R,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){le(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),mr=jn.extend({options:{icon:new Gi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){T(this,u),this._latlng=ve(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=ve(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=s.icon.createIcon(this._icon),w=!1;m!==this._icon&&(this._icon&&this._removeIcon(),w=!0,s.title&&(m.title=s.title),m.tagName==="IMG"&&(m.alt=s.alt||"")),Fe(m,u),s.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&De(m,"focus",this._panOnFocus,this);var R=s.icon.createShadow(this._shadow),I=!1;R!==this._shadow&&(this._removeShadow(),I=!0),R&&(Fe(R,u),R.alt=""),this._shadow=R,s.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&I&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(this._icon,"focus",this._panOnFocus,this),ht(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ht(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Et(this._icon,s),this._shadow&&Et(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Fe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Hl)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Hl(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Yt(this._icon,s),this._shadow&&Yt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,m=u.iconSize?te(u.iconSize):te(0,0),w=u.iconAnchor?te(u.iconAnchor):te(0,0);s.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:m.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Bf(s,u){return new mr(s,u)}var Fr=jn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return T(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ia=Fr.extend({options:{fill:!0,radius:10},initialize:function(s,u){T(this,u),this._latlng=ve(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=ve(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return Fr.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,m=this._clickTolerance(),w=[s+m,u+m];this._pxBounds=new B(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function $u(s,u){return new ia(s,u)}var sa=ia.extend({initialize:function(s,u,m){if(typeof u=="number"&&(u=o({},m,{radius:u})),T(this,u),this._latlng=ve(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new _e(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Fr.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,m=this._map,w=m.options.crs;if(w.distance===Ee.distance){var R=Math.PI/180,I=this._mRadius/Ee.R/R,F=m.project([u+I,s]),q=m.project([u-I,s]),J=F.add(q).divideBy(2),re=m.unproject(J).lat,we=Math.acos((Math.cos(I*R)-Math.sin(u*R)*Math.sin(re*R))/(Math.cos(u*R)*Math.cos(re*R)))/R;(isNaN(we)||we===0)&&(we=I/Math.cos(Math.PI/180*u)),this._point=J.subtract(m.getPixelOrigin()),this._radius=isNaN(we)?0:J.x-m.project([re,s-we]).x,this._radiusY=J.y-F.y}else{var Ae=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Ae).x}this._updateBounds()}});function Ys(s,u,m){return new sa(s,u,m)}var un=Fr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){T(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,m=null,w=hi,R,I,F=0,q=this._parts.length;F<q;F++)for(var J=this._parts[F],re=1,we=J.length;re<we;re++){R=J[re-1],I=J[re];var Ae=w(s,R,I,!0);Ae<u&&(u=Ae,m=w(s,R,I))}return m&&(m.distance=Math.sqrt(u)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bu(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=ve(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new _e,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return gn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],m=gn(s),w=0,R=s.length;w<R;w++)m?(u[w]=ve(s[w]),this._bounds.extend(u[w])):u[w]=this._convertLatLngs(s[w]);return u},_project:function(){var s=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new V(s,s);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,m){var w=s[0]instanceof he,R=s.length,I,F;if(w){for(F=[],I=0;I<R;I++)F[I]=this._map.latLngToLayerPoint(s[I]),m.extend(F[I]);u.push(F)}else for(I=0;I<R;I++)this._projectLatlngs(s[I],u,m)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,m,w,R,I,F,q,J;for(m=0,R=0,I=this._rings.length;m<I;m++)for(J=this._rings[m],w=0,F=J.length;w<F-1;w++)q=Du(J[w],J[w+1],s,w,!0),q&&(u[R]=u[R]||[],u[R].push(q[0]),(q[1]!==J[w+1]||w===F-2)&&(u[R].push(q[1]),R++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,m=0,w=s.length;m<w;m++)s[m]=na(s[m],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var m,w,R,I,F,q,J=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(m=0,I=this._parts.length;m<I;m++)for(q=this._parts[m],w=0,F=q.length,R=F-1;w<F;R=w++)if(!(!u&&w===0)&&Iu(s,q[R],q[w])<=J)return!0;return!1}});function Ff(s,u){return new un(s,u)}un._flat=Mu;var gr=un.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Lu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=un.prototype._convertLatLngs.call(this,s),m=u.length;return m>=2&&u[0]instanceof he&&u[0].equals(u[m-1])&&u.pop(),u},_setLatLngs:function(s){un.prototype._setLatLngs.call(this,s),gn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return gn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,m=new V(u,u);if(s=new B(s.min.subtract(m),s.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,R=this._rings.length,I;w<R;w++)I=Fl(this._rings[w],s,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,m,w,R,I,F,q,J,re;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(I=0,J=this._parts.length;I<J;I++)for(m=this._parts[I],F=0,re=m.length,q=re-1;F<re;q=F++)w=m[F],R=m[q],w.y>s.y!=R.y>s.y&&s.x<(R.x-w.x)*(s.y-w.y)/(R.y-w.y)+w.x&&(u=!u);return u||un.prototype._containsPoint.call(this,s,!0)}});function zf(s,u){return new gr(s,u)}var Zn=pr.extend({initialize:function(s,u){T(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=O(s)?s:s.features,m,w,R;if(u){for(m=0,w=u.length;m<w;m++)R=u[m],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var I=this.options;if(I.filter&&!I.filter(s))return this;var F=Ji(s,I);return F?(F.feature=ua(s),F.defaultOptions=F.options,this.resetStyle(F),I.onEachFeature&&I.onEachFeature(s,F),this.addLayer(F)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=o({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function Ji(s,u){var m=s.type==="Feature"?s.geometry:s,w=m?m.coordinates:null,R=[],I=u&&u.pointToLayer,F=u&&u.coordsToLatLng||aa,q,J,re,we;if(!w&&!m)return null;switch(m.type){case"Point":return q=F(w),oa(I,s,q,u);case"MultiPoint":for(re=0,we=w.length;re<we;re++)q=F(w[re]),R.push(oa(I,s,q,u));return new pr(R);case"LineString":case"MultiLineString":return J=Xs(w,m.type==="LineString"?0:1,F),new un(J,u);case"Polygon":case"MultiPolygon":return J=Xs(w,m.type==="Polygon"?1:2,F),new gr(J,u);case"GeometryCollection":for(re=0,we=m.geometries.length;re<we;re++){var Ae=Ji({geometry:m.geometries[re],type:"Feature",properties:s.properties},u);Ae&&R.push(Ae)}return new pr(R);case"FeatureCollection":for(re=0,we=m.features.length;re<we;re++){var We=Ji(m.features[re],u);We&&R.push(We)}return new pr(R);default:throw new Error("Invalid GeoJSON object.")}}function oa(s,u,m,w){return s?s(u,m):new mr(m,w&&w.markersInheritOptions&&w)}function aa(s){return new he(s[1],s[0],s[2])}function Xs(s,u,m){for(var w=[],R=0,I=s.length,F;R<I;R++)F=u?Xs(s[R],u-1,m):(m||aa)(s[R]),w.push(F);return w}function la(s,u){return s=ve(s),s.alt!==void 0?[b(s.lng,u),b(s.lat,u),b(s.alt,u)]:[b(s.lng,u),b(s.lat,u)]}function ca(s,u,m,w){for(var R=[],I=0,F=s.length;I<F;I++)R.push(u?ca(s[I],gn(s[I])?0:u-1,m,w):la(s[I],w));return!u&&m&&R.length>0&&R.push(R[0].slice()),R}function Yi(s,u){return s.feature?o({},s.feature,{geometry:u}):ua(u)}function ua(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var ql={toGeoJSON:function(s){return Yi(this,{type:"Point",coordinates:la(this.getLatLng(),s)})}};mr.include(ql),sa.include(ql),ia.include(ql),un.include({toGeoJSON:function(s){var u=!gn(this._latlngs),m=ca(this._latlngs,u?1:0,!1,s);return Yi(this,{type:(u?"Multi":"")+"LineString",coordinates:m})}}),gr.include({toGeoJSON:function(s){var u=!gn(this._latlngs),m=u&&!gn(this._latlngs[0]),w=ca(this._latlngs,m?2:u?1:0,!0,s);return u||(w=[w]),Yi(this,{type:(m?"Multi":"")+"Polygon",coordinates:w})}}),Br.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(m){u.push(m.toGeoJSON(s).geometry.coordinates)}),Yi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var m=u==="GeometryCollection",w=[];return this.eachLayer(function(R){if(R.toGeoJSON){var I=R.toGeoJSON(s);if(m)w.push(I.geometry);else{var F=ua(I);F.type==="FeatureCollection"?w.push.apply(w,F.features):w.push(F)}}}),m?Yi(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function Wu(s,u){return new Zn(s,u)}var Ln=Wu,zr=jn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,m){this._url=s,this._bounds=me(u),T(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Fe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ht(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Ui(this._image),this},bringToBack:function(){return this._map&&dr(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=me(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:Ve("img");if(Fe(u,"leaflet-image-layer"),this._zoomAnimated&&Fe(u,"leaflet-zoom-animated"),this.options.className&&Fe(u,this.options.className),u.onselectstart=_,u.onmousemove=_,u.onload=c(this.fire,this,"load"),u.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Rn(this._image,m,u)},_reset:function(){var s=this._image,u=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=u.getSize();Et(s,u.min),s.style.width=m.x+"px",s.style.height=m.y+"px"},_updateOpacity:function(){Yt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Hu=function(s,u,m){return new zr(s,u,m)},Kl=zr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:Ve("video");if(Fe(u,"leaflet-image-layer"),this._zoomAnimated&&Fe(u,"leaflet-zoom-animated"),this.options.className&&Fe(u,this.options.className),u.onselectstart=_,u.onmousemove=_,u.onloadeddata=c(this.fire,this,"load"),s){for(var m=u.getElementsByTagName("source"),w=[],R=0;R<m.length;R++)w.push(m[R].src);this._url=m.length>0?w:[u.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var F=Ve("source");F.src=this._url[I],u.appendChild(F)}}});function qu(s,u,m){return new Kl(s,u,m)}var Zl=zr.extend({_initImage:function(){var s=this._image=this._url;Fe(s,"leaflet-image-layer"),this._zoomAnimated&&Fe(s,"leaflet-zoom-animated"),this.options.className&&Fe(s,this.options.className),s.onselectstart=_,s.onmousemove=_}});function Gl(s,u,m){return new Zl(s,u,m)}var Gn=jn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof he||O(s))?(this._latlng=ve(s),T(this,u)):(T(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Yt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Yt(this._container,1),this.bringToFront(),this.options.interactive&&(Fe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Yt(this._container,0),this._removeTimeout=setTimeout(c(ht,void 0,this._container),200)):ht(this._container),this.options.interactive&&(ct(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ve(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ui(this._container),this},bringToBack:function(){return this._map&&dr(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof pr){u=null;var m=this._source._layers;for(var w in m)if(m[w]._map){u=m[w];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=te(this.options.offset),m=this._getAnchor();this._zoomAnimated?Et(this._container,s.add(m)):u=u.add(s).add(m);var w=this._containerBottom=-u.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=w+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});Xe.include({_initOverlay:function(s,u,m,w){var R=u;return R instanceof s||(R=new s(w).setContent(u)),m&&R.setLatLng(m),R}}),jn.include({_initOverlay:function(s,u,m,w){var R=m;return R instanceof s?(T(R,w),R._source=this):(R=u&&!w?u:new s(w,this),R.setContent(m)),R}});var da=Gn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Gn.prototype.openOn.call(this,s)},onAdd:function(s){Gn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Fr||this._source.on("preclick",Kn))},onRemove:function(s){Gn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Fr||this._source.off("preclick",Kn))},getEvents:function(){var s=Gn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Ve("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Ve("div",s+"-content-wrapper",u);if(this._contentNode=Ve("div",s+"-content",m),Ks(u),Xo(this._contentNode),De(u,"contextmenu",Kn),this._tipContainer=Ve("div",s+"-tip-container",u),this._tip=Ve("div",s+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=Ve("a",s+"-close-button",u);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',De(w,"click",function(R){_t(R),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var m=s.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),u.width=m+1+"px",u.whiteSpace="",u.height="";var w=s.offsetHeight,R=this.options.maxHeight,I="leaflet-popup-scrolled";R&&w>R?(u.height=R+"px",Fe(s,I)):ct(s,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),m=this._getAnchor();Et(this._container,u.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt($s(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+u,w=this._containerWidth,R=new V(this._containerLeft,-m-this._containerBottom);R._add(hr(this._container));var I=s.layerPointToContainerPoint(R),F=te(this.options.autoPanPadding),q=te(this.options.autoPanPaddingTopLeft||F),J=te(this.options.autoPanPaddingBottomRight||F),re=s.getSize(),we=0,Ae=0;I.x+w+J.x>re.x&&(we=I.x+w-re.x+J.x),I.x-we-q.x<0&&(we=I.x-q.x),I.y+m+J.y>re.y&&(Ae=I.y+m-re.y+J.y),I.y-Ae-q.y<0&&(Ae=I.y-q.y),(we||Ae)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([we,Ae]))}},_getAnchor:function(){return te(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Xi=function(s,u){return new da(s,u)};Xe.mergeOptions({closePopupOnClick:!0}),Xe.include({openPopup:function(s,u,m){return this._initOverlay(da,s,u,m).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),jn.include({bindPopup:function(s,u){return this._popup=this._initOverlay(da,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof pr||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Nn(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof Fr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Qi=Gn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Gn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Gn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Gn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ve("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,m,w=this._map,R=this._container,I=w.latLngToContainerPoint(w.getCenter()),F=w.layerPointToContainerPoint(s),q=this.options.direction,J=R.offsetWidth,re=R.offsetHeight,we=te(this.options.offset),Ae=this._getAnchor();q==="top"?(u=J/2,m=re):q==="bottom"?(u=J/2,m=0):q==="center"?(u=J/2,m=re/2):q==="right"?(u=0,m=re/2):q==="left"?(u=J,m=re/2):F.x<I.x?(q="right",u=0,m=re/2):(q="left",u=J+(we.x+Ae.x)*2,m=re/2),s=s.subtract(te(u,m,!0)).add(we).add(Ae),ct(R,"leaflet-tooltip-right"),ct(R,"leaflet-tooltip-left"),ct(R,"leaflet-tooltip-top"),ct(R,"leaflet-tooltip-bottom"),Fe(R,"leaflet-tooltip-"+q),Et(R,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Yt(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return te(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Qs=function(s,u){return new Qi(s,u)};Xe.include({openTooltip:function(s,u,m){return this._initOverlay(Qi,s,u,m).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),jn.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Qi,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[u](m),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof pr||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(De(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),De(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,m,w;this._tooltip.options.sticky&&s.originalEvent&&(m=this._map.mouseEventToContainerPoint(s.originalEvent),w=this._map.containerPointToLayerPoint(m),u=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(u)}});var ha=fi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),m=this.options;if(m.html instanceof Element?(qo(u),u.appendChild(m.html)):u.innerHTML=m.html!==!1?m.html:"",m.bgPos){var w=te(m.bgPos);u.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Ku(s){return new ha(s)}fi.Default=Gi;var Ur=jn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){T(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),ht(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ui(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(dr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof V?s:new V(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,m=-s(-1/0,1/0),w=0,R=u.length,I;w<R;w++)I=u[w].style.zIndex,u[w]!==this._container&&I&&(m=s(m,+I));isFinite(m)&&(this.options.zIndex=m+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ce.ielt9){Yt(this._container,this.options.opacity);var s=+new Date,u=!1,m=!1;for(var w in this._tiles){var R=this._tiles[w];if(!(!R.current||!R.loaded)){var I=Math.min(1,(s-R.loaded)/200);Yt(R.el,I),I<1?u=!0:(R.active?m=!0:this._onOpaqueTile(R),R.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),u&&(le(this._fadeFrame),this._fadeFrame=pe(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=Ve("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===s?(this._levels[m].el.style.zIndex=u-Math.abs(s-m),this._onUpdateLevel(m)):(ht(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var w=this._levels[s],R=this._map;return w||(w=this._levels[s]={},w.el=Ve("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=u,w.origin=R.project(R.unproject(R.getPixelOrigin()),s).round(),w.zoom=s,this._setZoomTransform(w,R.getCenter(),R.getZoom()),_(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var s,u,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var w=u.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)ht(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,m,w){var R=Math.floor(s/2),I=Math.floor(u/2),F=m-1,q=new V(+R,+I);q.z=+F;var J=this._tileCoordsToKey(q),re=this._tiles[J];return re&&re.active?(re.retain=!0,!0):(re&&re.loaded&&(re.retain=!0),F>w?this._retainParent(R,I,F,w):!1)},_retainChildren:function(s,u,m,w){for(var R=2*s;R<2*s+2;R++)for(var I=2*u;I<2*u+2;I++){var F=new V(R,I);F.z=m+1;var q=this._tileCoordsToKey(F),J=this._tiles[q];if(J&&J.active){J.retain=!0;continue}else J&&J.loaded&&(J.retain=!0);m+1<w&&this._retainChildren(R,I,m+1,w)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,m,w){var R=Math.round(u);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var I=this.options.updateWhenZooming&&R!==this._tileZoom;(!w||I)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(s),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var m in this._levels)this._setZoomTransform(this._levels[m],s,u)},_setZoomTransform:function(s,u,m){var w=this._map.getZoomScale(m,s.zoom),R=s.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(u,m)).round();Ce.any3d?Rn(s.el,R,w):Et(s.el,R)},_resetGrid:function(){var s=this._map,u=s.options.crs,m=this._tileSize=this.getTileSize(),w=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],w).x/m.x),Math.ceil(s.project([0,u.wrapLng[1]],w).x/m.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],w).y/m.x),Math.ceil(s.project([u.wrapLat[1],0],w).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,m=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),w=u.getZoomScale(m,this._tileZoom),R=u.project(s,this._tileZoom).floor(),I=u.getSize().divideBy(w*2);return new B(R.subtract(I),R.add(I))},_update:function(s){var u=this._map;if(u){var m=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(s),R=this._pxBoundsToTileRange(w),I=R.getCenter(),F=[],q=this.options.keepBuffer,J=new B(R.getBottomLeft().subtract([q,-q]),R.getTopRight().add([q,-q]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var re in this._tiles){var we=this._tiles[re].coords;(we.z!==this._tileZoom||!J.contains(new V(we.x,we.y)))&&(this._tiles[re].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(s,m);return}for(var Ae=R.min.y;Ae<=R.max.y;Ae++)for(var We=R.min.x;We<=R.max.x;We++){var Dt=new V(We,Ae);if(Dt.z=this._tileZoom,!!this._isValidTile(Dt)){var Ot=this._tiles[this._tileCoordsToKey(Dt)];Ot?Ot.current=!0:F.push(Dt)}}if(F.sort(function(Qt,is){return Qt.distanceTo(I)-is.distanceTo(I)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var dn=document.createDocumentFragment();for(We=0;We<F.length;We++)this._addTile(F[We],dn);this._level.el.appendChild(dn)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var m=this._globalTileRange;if(!u.wrapLng&&(s.x<m.min.x||s.x>m.max.x)||!u.wrapLat&&(s.y<m.min.y||s.y>m.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(s);return me(this.options.bounds).overlaps(w)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,m=this.getTileSize(),w=s.scaleBy(m),R=w.add(m),I=u.unproject(w,s.z),F=u.unproject(R,s.z);return[I,F]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),m=new _e(u[0],u[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),m=new V(+u[0],+u[1]);return m.z=+u[2],m},_removeTile:function(s){var u=this._tiles[s];u&&(ht(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Fe(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=_,s.onmousemove=_,Ce.ielt9&&this.options.opacity<1&&Yt(s,this.options.opacity)},_addTile:function(s,u){var m=this._getTilePos(s),w=this._tileCoordsToKey(s),R=this.createTile(this._wrapCoords(s),c(this._tileReady,this,s));this._initTile(R),this.createTile.length<2&&pe(c(this._tileReady,this,s,null,R)),Et(R,m),this._tiles[w]={el:R,coords:s,current:!0},u.appendChild(R),this.fire("tileloadstart",{tile:R,coords:s})},_tileReady:function(s,u,m){u&&this.fire("tileerror",{error:u,tile:m,coords:s});var w=this._tileCoordsToKey(s);m=this._tiles[w],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Yt(m.el,0),le(this._fadeFrame),this._fadeFrame=pe(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),u||(Fe(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ce.ielt9||!this._map._fadeAnimated?pe(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new V(this._wrapX?y(s.x,this._wrapX):s.x,this._wrapY?y(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new B(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function es(s){return new Ur(s)}var Vr=Ur.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=T(this,u),u.detectRetina&&Ce.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var m=document.createElement("img");return De(m,"load",c(this._tileOnLoad,this,u,m)),De(m,"error",c(this._tileOnError,this,u,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(s),m},getTileUrl:function(s){var u={r:Ce.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=m),u["-y"]=m}return j(this._url,o(u,this.options))},_tileOnLoad:function(s,u){Ce.ielt9?setTimeout(c(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,m){var w=this.options.errorTileUrl;w&&u.getAttribute("src")!==w&&(u.src=w),s(m,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,m=this.options.zoomReverse,w=this.options.zoomOffset;return m&&(s=u-s),s+w},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=_,u.onerror=_,!u.complete)){u.src=z;var m=this._tiles[s].coords;ht(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:m})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",z),Ur.prototype._removeTile.call(this,s)},_tileReady:function(s,u,m){if(!(!this._map||m&&m.getAttribute("src")===z))return Ur.prototype._tileReady.call(this,s,u,m)}});function Jl(s,u){return new Vr(s,u)}var eo=Vr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var m=o({},this.defaultWmsParams);for(var w in u)w in this.options||(m[w]=u[w]);u=T(this,u);var R=u.detectRetina&&Ce.retina?2:1,I=this.getTileSize();m.width=I.x*R,m.height=I.y*R,this.wmsParams=m},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Vr.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),m=this._crs,w=Q(m.project(u[0]),m.project(u[1])),R=w.min,I=w.max,F=(this._wmsVersion>=1.3&&this._crs===zu?[R.y,R.x,I.y,I.x]:[R.x,R.y,I.x,I.y]).join(","),q=Vr.prototype.getTileUrl.call(this,s);return q+C(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(s,u){return o(this.wmsParams,s),u||this.redraw(),this}});function Zu(s,u){return new eo(s,u)}Vr.WMS=eo,Jl.wms=Zu;var Jn=jn.extend({options:{padding:.1},initialize:function(s){T(this,s),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Fe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var m=this._map.getZoomScale(u,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,u),I=w.multiplyBy(-m).add(R).subtract(this._map._getNewPixelOrigin(s,u));Ce.any3d?Rn(this._container,I,m):Et(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),m=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new B(m,m.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Yl=Jn.extend({options:{tolerance:0},getEvents:function(){var s=Jn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Jn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");De(s,"mousemove",this._onMouseMove,this),De(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),De(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){le(this._redrawRequest),delete this._ctx,ht(this._container),ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Jn.prototype._update.call(this);var s=this._bounds,u=this._container,m=s.getSize(),w=Ce.retina?2:1;Et(u,s.min),u.width=w*m.x,u.height=w*m.y,u.style.width=m.x+"px",u.style.height=m.y+"px",Ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Jn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[f(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,m=u.next,w=u.prev;m?m.prev=w:this._drawLast=w,w?w.next=m:this._drawFirst=m,delete s._order,delete this._layers[f(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),m=[],w,R;for(R=0;R<u.length;R++){if(w=Number(u[R]),isNaN(w))return;m.push(w)}s.options._dashArray=m}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||pe(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var m=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)s=w.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var m,w,R,I,F=s._parts,q=F.length,J=this._ctx;if(q){for(J.beginPath(),m=0;m<q;m++){for(w=0,R=F[m].length;w<R;w++)I=F[m][w],J[w?"lineTo":"moveTo"](I.x,I.y);u&&J.closePath()}this._fillStroke(J,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,m=this._ctx,w=Math.max(Math.round(s._radius),1),R=(Math.max(Math.round(s._radiusY),1)||w)/w;R!==1&&(m.save(),m.scale(1,R)),m.beginPath(),m.arc(u.x,u.y/R,w,0,Math.PI*2,!1),R!==1&&m.restore(),this._fillStroke(m,s)}},_fillStroke:function(s,u){var m=u.options;m.fill&&(s.globalAlpha=m.fillOpacity,s.fillStyle=m.fillColor||m.color,s.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=m.opacity,s.lineWidth=m.weight,s.strokeStyle=m.color,s.lineCap=m.lineCap,s.lineJoin=m.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),m,w,R=this._drawFirst;R;R=R.next)m=R.layer,m.options.interactive&&m._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(m))&&(w=m);this._fireEvent(w?[w]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(ct(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var m,w,R=this._drawFirst;R;R=R.next)m=R.layer,m.options.interactive&&m._containsPoint(u)&&(w=m);w!==this._hoveredLayer&&(this._handleMouseOut(s),w&&(Fe(this._container,"leaflet-interactive"),this._fireEvent([w],s,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,m){this._map._fireDOMEvent(u,m||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var m=u.next,w=u.prev;if(m)m.prev=w;else return;w?w.next=m:m&&(this._drawFirst=m),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var m=u.next,w=u.prev;if(w)w.next=m;else return;m?m.prev=w:w&&(this._drawLast=w),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function Xl(s){return Ce.canvas?new Yl(s):null}var ts=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Gu={_initContainer:function(){this._container=Ve("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Jn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=ts("shape");Fe(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=ts("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[f(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;ht(u),s.removeInteractiveTarget(u),delete this._layers[f(s)]},_updateStyle:function(s){var u=s._stroke,m=s._fill,w=s.options,R=s._container;R.stroked=!!w.stroke,R.filled=!!w.fill,w.stroke?(u||(u=s._stroke=ts("stroke")),R.appendChild(u),u.weight=w.weight+"px",u.color=w.color,u.opacity=w.opacity,w.dashArray?u.dashStyle=O(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=w.lineCap.replace("butt","flat"),u.joinstyle=w.lineJoin):u&&(R.removeChild(u),s._stroke=null),w.fill?(m||(m=s._fill=ts("fill")),R.appendChild(m),m.color=w.fillColor||w.color,m.opacity=w.fillOpacity):m&&(R.removeChild(m),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),m=Math.round(s._radius),w=Math.round(s._radiusY||m);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+m+","+w+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Ui(s._container)},_bringToBack:function(s){dr(s._container)}},In=Ce.vml?ts:cr,pi=Jn.extend({_initContainer:function(){this._container=In("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=In("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ht(this._container),ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Jn.prototype._update.call(this);var s=this._bounds,u=s.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,m.setAttribute("width",u.x),m.setAttribute("height",u.y)),Et(m,s.min),m.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=In("path");s.options.className&&Fe(u,s.options.className),s.options.interactive&&Fe(u,"leaflet-interactive"),this._updateStyle(s),this._layers[f(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){ht(s._path),s.removeInteractiveTarget(s._path),delete this._layers[f(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,m=s.options;u&&(m.stroke?(u.setAttribute("stroke",m.color),u.setAttribute("stroke-opacity",m.opacity),u.setAttribute("stroke-width",m.weight),u.setAttribute("stroke-linecap",m.lineCap),u.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?u.setAttribute("stroke-dasharray",m.dashArray):u.removeAttribute("stroke-dasharray"),m.dashOffset?u.setAttribute("stroke-dashoffset",m.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),m.fill?(u.setAttribute("fill",m.fillColor||m.color),u.setAttribute("fill-opacity",m.fillOpacity),u.setAttribute("fill-rule",m.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,ur(s._parts,u))},_updateCircle:function(s){var u=s._point,m=Math.max(Math.round(s._radius),1),w=Math.max(Math.round(s._radiusY),1)||m,R="a"+m+","+w+" 0 1,0 ",I=s._empty()?"M0 0":"M"+(u.x-m)+","+u.y+R+m*2+",0 "+R+-m*2+",0 ";this._setPath(s,I)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Ui(s._path)},_bringToBack:function(s){dr(s._path)}});Ce.vml&&pi.include(Gu);function fa(s){return Ce.svg||Ce.vml?new pi(s):null}Xe.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&Xl(s)||fa(s)}});var Ju=gr.extend({initialize:function(s,u){gr.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=me(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Uf(s,u){return new Ju(s,u)}pi.create=In,pi.pointsToPath=ur,Zn.geometryToLayer=Ji,Zn.coordsToLatLng=aa,Zn.coordsToLatLngs=Xs,Zn.latLngToCoords=la,Zn.latLngsToCoords=ca,Zn.getFeature=Yi,Zn.asFeature=ua,Xe.mergeOptions({boxZoom:!0});var ns=mn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){De(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ht(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),tt(),Go(),this._startPoint=this._map.mouseEventToContainerPoint(s),De(document,{contextmenu:Nn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Ve("div","leaflet-zoom-box",this._container),Fe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new B(this._point,this._startPoint),m=u.getSize();Et(this._box,u.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(ht(this._box),ct(this._container,"leaflet-crosshair")),Wi(),Jo(),ot(document,{contextmenu:Nn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var u=new _e(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xe.addInitHook("addHandler","boxZoom",ns),Xe.mergeOptions({doubleClickZoom:!0});var Yu=mn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,m=u.getZoom(),w=u.options.zoomDelta,R=s.originalEvent.shiftKey?m-w:m+w;u.options.doubleClickZoom==="center"?u.setZoom(R):u.setZoomAround(s.containerPoint,R)}});Xe.addInitHook("addHandler","doubleClickZoom",Yu),Xe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ql=mn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new On(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Fe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ct(this._map._container,"leaflet-grab"),ct(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=me(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),m=this._initialWorldOffset,w=this._draggable._newPos.x,R=(w-u+m)%s+u-m,I=(w+u+m)%s-u-m,F=Math.abs(R+m)<Math.abs(I+m)?R:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(s){var u=this._map,m=u.options,w=!m.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),w)u.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,F=m.easeLinearity,q=R.multiplyBy(F/I),J=q.distanceTo([0,0]),re=Math.min(m.inertiaMaxSpeed,J),we=q.multiplyBy(re/J),Ae=re/(m.inertiaDeceleration*F),We=we.multiplyBy(-Ae/2).round();!We.x&&!We.y?u.fire("moveend"):(We=u._limitOffset(We,u.options.maxBounds),pe(function(){u.panBy(We,{duration:Ae,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});Xe.addInitHook("addHandler","dragging",Ql),Xe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ec=mn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),De(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,m=s.scrollTop||u.scrollTop,w=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(w,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},m=this.keyCodes,w,R;for(w=0,R=m.left.length;w<R;w++)u[m.left[w]]=[-1*s,0];for(w=0,R=m.right.length;w<R;w++)u[m.right[w]]=[s,0];for(w=0,R=m.down.length;w<R;w++)u[m.down[w]]=[0,s];for(w=0,R=m.up.length;w<R;w++)u[m.up[w]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},m=this.keyCodes,w,R;for(w=0,R=m.zoomIn.length;w<R;w++)u[m.zoomIn[w]]=s;for(w=0,R=m.zoomOut.length;w<R;w++)u[m.zoomOut[w]]=-s},_addHooks:function(){De(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,m=this._map,w;if(u in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(w=this._panKeys[u],s.shiftKey&&(w=te(w).multiplyBy(3)),m.options.maxBounds&&(w=m._limitOffset(te(w),m.options.maxBounds)),m.options.worldCopyJump){var R=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(w)));m.panTo(R)}else m.panBy(w)}else if(u in this._zoomKeys)m.setZoom(m.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Nn(s)}}});Xe.addInitHook("addHandler","keyboard",ec),Xe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var at=mn.extend({addHooks:function(){De(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=Ou(s),m=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var w=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),w),Nn(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),m=this._map.options.zoomSnap||0;s._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,I=m?Math.ceil(R/m)*m:R,F=s._limitZoom(u+(this._delta>0?I:-I))-u;this._delta=0,this._startTime=null,F&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+F):s.setZoomAround(this._lastMousePos,u+F))}});Xe.addInitHook("addHandler","scrollWheelZoom",at);var tc=600;Xe.mergeOptions({tapHold:Ce.touchNative&&Ce.safari&&Ce.mobile,tapTolerance:15});var to=mn.extend({addHooks:function(){De(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new V(u.clientX,u.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(De(document,"touchend",_t),De(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),tc),De(document,"touchend touchcancel contextmenu",this._cancel,this),De(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ot(document,"touchend",_t),ot(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new V(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var m=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});m._simulated=!0,u.target.dispatchEvent(m)}});Xe.addInitHook("addHandler","tapHold",to),Xe.mergeOptions({touchZoom:Ce.touch,bounceAtZoomLimits:!0});var rs=mn.extend({addHooks:function(){Fe(this._map._container,"leaflet-touch-zoom"),De(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ct(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var m=u.mouseEventToContainerPoint(s.touches[0]),w=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(m.add(w)._divideBy(2))),this._startDist=m.distanceTo(w),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),De(document,"touchmove",this._onTouchMove,this),De(document,"touchend touchcancel",this._onTouchEnd,this),_t(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,m=u.mouseEventToContainerPoint(s.touches[0]),w=u.mouseEventToContainerPoint(s.touches[1]),R=m.distanceTo(w)/this._startDist;if(this._zoom=u.getScaleZoom(R,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&R<1||this._zoom>u.getMaxZoom()&&R>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var I=m._add(w)._divideBy(2)._subtract(this._centerPoint);if(R===1&&I.x===0&&I.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),le(this._animRequest);var F=c(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=pe(F,this,!0),_t(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,le(this._animRequest),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xe.addInitHook("addHandler","touchZoom",rs),Xe.BoxZoom=ns,Xe.DoubleClickZoom=Yu,Xe.Drag=Ql,Xe.Keyboard=ec,Xe.ScrollWheelZoom=at,Xe.TapHold=to,Xe.TouchZoom=rs,n.Bounds=B,n.Browser=Ce,n.CRS=ge,n.Canvas=Yl,n.Circle=sa,n.CircleMarker=ia,n.Class=G,n.Control=cn,n.DivIcon=ha,n.DivOverlay=Gn,n.DomEvent=Qo,n.DomUtil=qs,n.Draggable=On,n.Evented=oe,n.FeatureGroup=pr,n.GeoJSON=Zn,n.GridLayer=Ur,n.Handler=mn,n.Icon=fi,n.ImageOverlay=zr,n.LatLng=he,n.LatLngBounds=_e,n.Layer=jn,n.LayerGroup=Br,n.LineUtil=Fu,n.Map=Xe,n.Marker=mr,n.Mixin=Bl,n.Path=Fr,n.Point=V,n.PolyUtil=Af,n.Polygon=gr,n.Polyline=un,n.Popup=da,n.PosAnimation=ea,n.Projection=If,n.Rectangle=Ju,n.Renderer=Jn,n.SVG=pi,n.SVGOverlay=Zl,n.TileLayer=Vr,n.Tooltip=Qi,n.Transformation=Je,n.Util=be,n.VideoOverlay=Kl,n.bind=c,n.bounds=Q,n.canvas=Xl,n.circle=Ys,n.circleMarker=$u,n.control=Mr,n.divIcon=Ku,n.extend=o,n.featureGroup=Uu,n.geoJSON=Wu,n.geoJson=Ln,n.gridLayer=es,n.icon=Vu,n.imageOverlay=Hu,n.latLng=ve,n.latLngBounds=me,n.layerGroup=Js,n.map=Dr,n.marker=Bf,n.point=te,n.polygon=zf,n.polyline=Ff,n.popup=Xi,n.rectangle=Uf,n.setOptions=T,n.stamp=f,n.svg=fa,n.svgOverlay=Gl,n.tileLayer=Jl,n.tooltip=Qs,n.transformation=Ye,n.version=r,n.videoOverlay=qu;var Xu=window.L;n.noConflict=function(){return window.L=Xu,this},window.L=n}))})(Ac,Ac.exports)),Ac.exports}var bf=xU();function ty(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function ny(t,e){return e==null?function(r,o){const l=S.useRef();return l.current||(l.current=t(r,o)),l}:function(r,o){const l=S.useRef();l.current||(l.current=t(r,o));const c=S.useRef(r),{instance:d}=l.current;return S.useEffect(function(){c.current!==r&&(e(d,r,c.current),c.current=r)},[d,r,o]),l}}function cC(t,e){S.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var l;(l=e.layerContainer)==null||l.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function bU(t){return function(n){const r=wf(),o=t(xf(n,r),r);return oC(r.map,n.attribution),ey(o.current,n.eventHandlers),cC(o.current,r),o}}function SU(t,e){const n=S.useRef();S.useEffect(function(){if(e.pathOptions!==n.current){const o=e.pathOptions??{};t.instance.setStyle(o),n.current=o}},[t,e])}function EU(t){return function(n){const r=wf(),o=t(xf(n,r),r);return ey(o.current,n.eventHandlers),cC(o.current,r),SU(o.current,n),o}}function TU(t,e){const n=ny(t),r=_U(n,e);return vU(r)}function PU(t,e){const n=ny(t,e),r=EU(n);return gU(r)}function CU(t,e){const n=ny(t,e),r=bU(n);return yU(r)}function kU(t,e,n){const{opacity:r,zIndex:o}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),o!=null&&o!==n.zIndex&&t.setZIndex(o)}function RU(){return wf().map}const AU=PU(function({center:e,children:n,...r},o){const l=new bf.CircleMarker(e,r);return ty(l,mU(o,{overlayContainer:l}))},hU);function Ng(){return Ng=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ng.apply(this,arguments)}function NU({bounds:t,boundsOptions:e,center:n,children:r,className:o,id:l,placeholder:c,style:d,whenReady:f,zoom:p,...y},_){const[b]=S.useState({className:o,id:l,style:d}),[P,k]=S.useState(null);S.useImperativeHandle(_,()=>(P==null?void 0:P.map)??null,[P]);const T=S.useCallback(A=>{if(A!==null&&P===null){const j=new bf.Map(A,y);n!=null&&p!=null?j.setView(n,p):t!=null&&j.fitBounds(t,e),f!=null&&j.whenReady(f),k(pU(j))}},[]);S.useEffect(()=>()=>{P==null||P.map.remove()},[P]);const C=P?Sn.createElement(lC,{value:P},r):c??null;return Sn.createElement("div",Ng({},b,{ref:T}),C)}const OU=S.forwardRef(NU),jU=TU(function(e,n){const r=new bf.Popup(e,n.overlayContainer);return ty(r,n)},function(e,n,{position:r},o){S.useEffect(function(){const{instance:c}=e;function d(p){p.popup===c&&(c.update(),o(!0))}function f(p){p.popup===c&&o(!1)}return n.map.on({popupopen:d,popupclose:f}),n.overlayContainer==null?(r!=null&&c.setLatLng(r),c.openOn(n.map)):n.overlayContainer.bindPopup(c),function(){var y;n.map.off({popupopen:d,popupclose:f}),(y=n.overlayContainer)==null||y.unbindPopup(),n.map.removeLayer(c)}},[e,n,o,r])}),LU=CU(function({url:e,...n},r){const o=new bf.TileLayer(e,xf(n,r));return ty(o,r)},function(e,n,r){kU(e,n,r);const{url:o}=n;o!=null&&o!==r.url&&e.setUrl(o)}),hh={Repairs:"#ef4444",Safety:"#f59e0b","Pest Control":"#84cc16",Utilities:"#06b6d4","Lease Violations":"#8b5cf6",Other:"#6b7280"},IU=["All","Repairs","Safety","Pest Control","Utilities","Lease Violations","Other"];function DU({center:t}){const e=RU();return S.useEffect(()=>{t&&e.setView(t,12)},[t,e]),null}function MU(){return v.jsxs("div",{className:"absolute bottom-4 left-4 z-[1000] bg-gray-800/90 backdrop-blur-sm rounded-lg p-3 border border-gray-700",children:[v.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Categories"}),v.jsx("div",{className:"space-y-1",children:Object.entries(hh).map(([t,e])=>v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e}}),v.jsx("span",{className:"text-xs text-gray-300",children:t})]},t))})]})}function BU(){const{data:t,loading:e,error:n,fetchData:r}=n4(),[o,l]=S.useState("All"),[c,d]=S.useState([40.7128,-74.006]),f=S.useMemo(()=>o==="All"?t:t.filter(y=>y.category===o),[t,o]);S.useEffect(()=>{if(t.length>0){const y=t.filter(_=>_.latitude&&_.longitude);if(y.length>0){const _=y.reduce((P,k)=>P+k.latitude,0)/y.length,b=y.reduce((P,k)=>P+k.longitude,0)/y.length;d([_,b])}}},[t]);const p=S.useMemo(()=>{const y={};return t.forEach(_=>{const b=_.category||"Other";y[b]=(y[b]||0)+1}),y},[t]);return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4 md:p-8",children:v.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[v.jsx(XN,{className:"w-8 h-8 text-cyan-400"}),"Community Heatmap"]}),v.jsx("p",{className:"text-gray-400 mt-1",children:"Visualize housing issues across the community"})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs(lU,{value:o,onValueChange:l,children:[v.jsxs(tC,{className:"w-[180px]",children:[v.jsx(KN,{className:"w-4 h-4 mr-2"}),v.jsx(cU,{placeholder:"Filter category"})]}),v.jsx(iC,{children:IU.map(y=>v.jsx(sC,{value:y,children:y},y))})]}),v.jsxs(lt,{variant:"outline",onClick:r,children:[v.jsx($h,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),v.jsxs("div",{className:"flex flex-wrap gap-3",children:[v.jsx(Qe,{className:"bg-gray-800/50 flex-1 min-w-[120px]",children:v.jsxs(et,{className:"p-3 text-center",children:[v.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:t.length}),v.jsx("p",{className:"text-xs text-gray-400",children:"Total Issues"})]})}),Object.entries(p).slice(0,4).map(([y,_])=>v.jsx(Qe,{className:"bg-gray-800/50 flex-1 min-w-[120px]",children:v.jsxs(et,{className:"p-3 text-center",children:[v.jsx("p",{className:"text-2xl font-bold",style:{color:hh[y]||"#6b7280"},children:_}),v.jsx("p",{className:"text-xs text-gray-400",children:y})]})},y))]}),v.jsx(Qe,{className:"bg-gray-800/30 overflow-hidden",children:v.jsx(et,{className:"p-0 relative",style:{height:"600px"},children:e?v.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900",children:v.jsx(ml,{size:"lg"})}):n?v.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-900",children:[v.jsx(js,{className:"w-12 h-12 text-red-400 mb-4"}),v.jsx("p",{className:"text-red-400",children:n}),v.jsx(lt,{variant:"outline",onClick:r,className:"mt-4",children:"Try Again"})]}):v.jsxs(v.Fragment,{children:[v.jsxs(OU,{center:c,zoom:12,style:{height:"100%",width:"100%"},className:"z-0",children:[v.jsx(DU,{center:c}),v.jsx(LU,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),f.map((y,_)=>{if(!y.latitude||!y.longitude)return null;const b=hh[y.category]||hh.Other;return v.jsx(AU,{center:[y.latitude,y.longitude],radius:10,fillColor:b,fillOpacity:.7,color:b,weight:2,children:v.jsx(jU,{children:v.jsxs("div",{className:"text-sm",children:[v.jsx("p",{className:"font-medium",children:y.category||"Unknown"}),y.city&&v.jsx("p",{className:"text-gray-600",children:y.city})]})})},`${y.id||_}`)})]}),v.jsx(MU,{})]})})}),v.jsxs(Qe,{className:"bg-gray-800/30",children:[v.jsx(pn,{children:v.jsxs(En,{className:"text-lg flex items-center gap-2",children:[v.jsx(GN,{className:"w-5 h-5"}),"About This Map"]})}),v.jsxs(et,{className:"text-sm text-gray-400 space-y-2",children:[v.jsx("p",{children:"This map shows anonymized locations of reported housing issues in the community. Use the filter to view specific categories of issues."}),v.jsxs("p",{children:[v.jsx("strong",{className:"text-white",children:"Privacy:"})," Exact addresses are not shown. Markers represent approximate neighborhoods only."]})]})]})]})})}function FU(){return v.jsx(LO,{children:v.jsx(FA,{children:v.jsxs(Z1,{children:[v.jsx(br,{path:"/login",element:v.jsx(_2,{})}),v.jsx(br,{path:"/register",element:v.jsx(x2,{})}),v.jsx(br,{path:"/heatmap",element:v.jsx(BU,{})}),v.jsx(br,{path:"/dashboard",element:v.jsx(xc,{children:v.jsx($2,{})})}),v.jsx(br,{path:"/issue/:id",element:v.jsx(xc,{children:v.jsx(JF,{})})}),v.jsx(br,{path:"/report-issue",element:v.jsx(xc,{children:v.jsx(lm,{allowedRoles:["tenant"],redirectTo:"/dashboard",children:v.jsx(LB,{})})})}),v.jsx(br,{path:"/dao",element:v.jsx(xc,{children:v.jsx(lm,{allowedRoles:["dao_member","admin"],redirectTo:"/dashboard",children:v.jsx(QF,{})})})}),v.jsx(br,{path:"/admin",element:v.jsx(xc,{children:v.jsx(lm,{allowedRoles:["admin"],redirectTo:"/dashboard",children:v.jsx(t4,{})})})}),v.jsx(br,{path:"/",element:v.jsx(Xa,{to:"/dashboard",replace:!0})}),v.jsx(br,{path:"*",element:v.jsx(Xa,{to:"/dashboard",replace:!0})})]})})})}e1.createRoot(document.getElementById("root")).render(v.jsx(Sn.StrictMode,{children:v.jsx(tk,{children:v.jsx(FU,{})})}));
